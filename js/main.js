function noSpecialChar(){return{require:"ngModel",restrict:"A",link:function(n,t,i,r){r.$parsers.push(function(n){return n==null?"":(cleanInputValue=n.replace(/[^\w\s]/gi,""),cleanInputValue!=n&&(r.$setViewValue(cleanInputValue),r.$render()),cleanInputValue)})}}}function validNumber(){return{require:"?ngModel",link:function(n,t,i,r){r&&(r.$parsers.push(function(n){var n,t,i;return angular.isUndefined(n)&&(n=""),t=n.replace(/[^0-9\.]/g,""),i=t.split("."),angular.isUndefined(i[1])||(i[1]=i[1].slice(0,2),t=i[0]+"."+i[1]),n!==t&&(r.$setViewValue(t),r.$render()),t}),t.bind("keypress",function(n){n.keyCode===32&&n.preventDefault()}))}}}function pwCheck(){return{require:"ngModel",link:function(n,t,i,r){var u="#"+i.pwCheck;t.add(u).on("keyup",function(){n.$apply(function(){var n=t.val()===$(u).val();r.$setValidity("pwmatch",n)})})}}}function backHandler(n){return{restrict:"A",link:function(t,i){i.bind("click",function(){n.history.back()})}}}function fileUploadHandler(){return{restrict:"A",link:function(n,t,i){var r=n.$eval(i.customOnChange);t.bind("change",r)}}}function ngEnterHandler(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter,{event:t})}),t.preventDefault())})}}function pageTitle(n,t){return{link:function(i,r){var u=function(n,i){var u="Jobs Search";i.data&&i.data.pageTitle&&(u="Jobs Search | "+i.data.pageTitle);t(function(){r.text(u)})};n.$on("$stateChangeStart",u)}}}function sideNavigation(){return{restrict:"A",link:function(n,t){t.metisMenu();var i=$('#side-menu a:not([href$="\\#"])');i.click(function(){$(window).width()<769&&$("body").toggleClass("show-sidebar")})}}}function minimalizaMenu(){return{restrict:"EA",template:'<div class="header-link hide-menu" ng-click="minimalize()"><i class="fa fa-bars"><\/i><\/div>',controller:function(n){n.minimalize=function(){$(window).width()<769?$("body").toggleClass("show-sidebar"):$("body").toggleClass("hide-sidebar")}}}}function sparkline(){return{restrict:"A",scope:{sparkData:"=",sparkOptions:"="},link:function(n,t){n.$watch(n.sparkData,function(){i()});n.$watch(n.sparkOptions,function(){i()});var i=function(){$(t).sparkline(n.sparkData,n.sparkOptions)}}}}function icheck(n){return{restrict:"A",require:"ngModel",link:function(t,i,r,u){return n(function(){var n;n=r.value;t.$watch(r.ngModel,function(){$(i).iCheck("update")});return $(i).iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(f){return $(i).attr("type")==="checkbox"&&r.ngModel&&t.$apply(function(){return u.$setViewValue(f.target.checked)}),$(i).attr("type")==="radio"&&r.ngModel?t.$apply(function(){return u.$setViewValue(n)}):void 0})})}}}function panelTools(n){return{restrict:"A",scope:!0,templateUrl:"views/common/panel_tools.html",controller:function(t,i){t.showhide=function(){var t=i.closest("div.hpanel"),r=i.find("i:first"),u=t.find("div.panel-body"),f=t.find("div.panel-footer");u.slideToggle(300);f.slideToggle(200);r.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");t.toggleClass("").toggleClass("panel-collapse");n(function(){t.resize();t.find("[id^=map-]").resize()},50)};t.closebox=function(){var n=i.closest("div.hpanel");n.remove()}}}}function panelToolsFullscreen(n){return{restrict:"A",scope:!0,templateUrl:"views/common/panel_tools_fullscreen.html",controller:function(t,i){t.showhide=function(){var t=i.closest("div.hpanel"),r=i.find("i:first"),u=t.find("div.panel-body"),f=t.find("div.panel-footer");u.slideToggle(300);f.slideToggle(200);r.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");t.toggleClass("").toggleClass("panel-collapse");n(function(){t.resize();t.find("[id^=map-]").resize()},50)};t.closebox=function(){var n=i.closest("div.hpanel");n.remove()};t.fullscreen=function(){var n=i.closest("div.hpanel"),t=i.find("i:first");$("body").toggleClass("fullscreen-panel-mode");t.toggleClass("fa-expand").toggleClass("fa-compress");n.toggleClass("fullscreen");setTimeout(function(){$(window).trigger("resize")},100)}}}}function smallHeader(){return{restrict:"A",scope:!0,controller:function(n,t){n.small=function(){var n=t.find("i:first"),i=t.find("#hbreadcrumb");t.toggleClass("small-header");i.toggleClass("m-t-lg");n.toggleClass("fa-arrow-up").toggleClass("fa-arrow-down")}}}}function animatePanel(n,t){return{restrict:"A",link:function(i,r,u){var e=.06,o=Math.abs(e)+0,h=t.current.name,f,s;u.effect||(u.effect="zoomIn");e=u.delay?u.delay/10:.06;u.child=u.child?"."+u.child:".row > div";f=r.find(u.child);f.addClass("opacity-0");s=f.length*e*1e3+700;n(function(){f=r.find(u.child);f.addClass("stagger").addClass("animated-panel").addClass(u.effect);var t=f.length+10,i=t*e*1e3;f.each(function(n,t){o+=e;var i=Math.round(o*10)/10;$(t).css("animation-delay",i+"s");$(t).removeClass("opacity-0")});n(function(){$(".stagger").css("animation","");$(".stagger").removeClass(u.effect).removeClass("animated-panel").removeClass("stagger")},i)})}}}function landingScrollspy(){return{restrict:"A",link:function(n,t){t.scrollspy({target:".navbar-fixed-top",offset:80})}}}function configState(n,t,i,r){r.html5Mode(!0);i.debugInfoEnabled(!0);t.otherwise(function(n){var t=n.get("$state");t.go("home")});n.state("receiver",{url:"/receiver",templateUrl:"views/receiver.html",data:{pageTitle:"receiver"}}).state("dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",data:{pageTitle:"Dashboard"}}).state("addtrip",{url:"/transporter/addtrip",templateUrl:"views/trips/addtrips.html",data:{pageTitle:"Transporter | Add trip "}}).state("changepassword",{url:"/changepassword",templateUrl:"views/changepassword.html",data:{pageTitle:"My Account | ChangePassword "}}).state("ecpiredtrips",{url:"/transporter/expiredtrips",templateUrl:"views/trips/canceltrips.html",data:{pageTitle:"Transporter | expiredtrips trips "}}).state("bankdetails",{url:"/transporter/bankdetails",templateUrl:"views/trips/bankdetails.html",data:{pageTitle:"Transporter | Bank Details "}}).state("withdraw",{url:"/transporter/withdraw",templateUrl:"views/withdrawamount.html",data:{pageTitle:"Transporter | Widrow Amount "}}).state("transporter",{url:"/transporter",templateUrl:"views/trips/transporter.html",data:{pageTitle:"My trips"}}).state("logout",{url:"/logout",controller:function(n,t,i){i.logOut();n.go("login")},data:{pageTitle:"logout"}}).state("home",{url:"/home",templateUrl:"views/home.html",data:{pageTitle:"Home Courier Buddy"}}).state("search",{url:"/search",templateUrl:"views/search.html",data:{pageTitle:"Home Courier Buddy Search"}}).state("sender",{url:"/sender",templateUrl:"views/parcel/sender.html",data:{pageTitle:"Sender | My Courier Buddy"}}).state("addparcel",{url:"/addparcel",templateUrl:"views/parcel/addparcel.html",data:{pageTitle:"Add Parcel | My Courier Buddy"}}).state("expiredparcel",{url:"/expiredparcel",templateUrl:"views/parcel/cancelparcel.html",data:{pageTitle:"Expired Parcel | My Courier Buddy"}}).state("refundparcel",{url:"/refundparcel",templateUrl:"views/parcel/refundparcel.html",data:{pageTitle:"Refund Parcel | My Courier Buddy"}}).state("mywallet",{url:"/mywallet",templateUrl:"views/parcel/mywallet.html",data:{pageTitle:"Refund Parcel | My Courier Buddy"}}).state("transbooking",{url:"/transbooking/:id",templateUrl:"views/trips/transbooking.html",data:{pageTitle:"Transporter Booking"}}).state("tripedit",{url:"/tripedit/:id",templateUrl:"views/trips/edittripdetails.html",data:{pageTitle:"Edit Trip"}}).state("tripview",{url:"/viewtrip/:id",templateUrl:"views/trips/viewtripdetails.html",data:{pageTitle:"View Trip"}}).state("editparcel",{url:"/editparcel/:id",templateUrl:"views/parcel/editparcel.html",data:{pageTitle:"Edit Parcel"}}).state("viewparcel",{url:"/viewparcel/:id",templateUrl:"views/parcel/viewparcel.html",data:{pageTitle:"View Parcel"}}).state("uploadtripticket",{url:"/uploadtripticket/:id",templateUrl:"views/trips/uploadtriptickets.html",data:{pageTitle:"Upload Trip Tickets"}}).state("verifyuser",{url:"/verifyuser/:id/:code",templateUrl:"views/verifyuser.html",data:{pageTitle:"Verifyuser"}}).state("parcelbooking",{url:"/parcelbooking/:id",templateUrl:"views/parcel/parcelbooking.html",data:{pageTitle:"Parcel Booking"}}).state("login",{url:"/login",templateUrl:"views/login.html",data:{pageTitle:"Login"}}).state("forgetpassword",{url:"/forgetpassword",templateUrl:"views/forgetpassword.html",data:{pageTitle:"forgetpassword"}}).state("associate",{url:"/associate",templateUrl:"views/associate.html",data:{pageTitle:"Associate"}}).state("register",{url:"/register",templateUrl:"views/signup.html",data:{pageTitle:"Sign Up | MyCpurierBuddy.in"}}).state("resetpassword",{url:"/resetpassword",templateUrl:"views/resetpassword.html",data:{pageTitle:"Reset password"}}).state("resetpasswordverify",{url:"/resetpasswordverify",templateUrl:"views/resetpasswordverify.html",data:{pageTitle:"Change password"}}).state("pricelist",{url:"/pricelist",templateUrl:"views/static/pricelist.html",data:{pageTitle:"Price List"}}).state("termsandcondition",{url:"/termsandcondition",templateUrl:"views/static/termsandcondition.html",data:{pageTitle:"Terms and conditions"}}).state("aboutus",{url:"/aboutus",templateUrl:"views/static/aboutus.html",data:{pageTitle:"About US | Mycourierbuddy "}}).state("contact",{url:"/contact",templateUrl:"views/static/contact.html",data:{pageTitle:"Contact | MycourierBuddy "}}).state("faq",{url:"/faq",templateUrl:"views/static/faq.html",data:{pageTitle:"Faq | Mycourierbuddy"}}).state("sendergoodpractices",{url:"/sendergoodpractices",templateUrl:"views/static/sendergoodpractices.html",data:{pageTitle:"Sender Good Practices | mycourierbuddy"}}).state("transportergoodpractices",{url:"/transportergoodpractices",templateUrl:"views/static/transportergoodpractices.html",data:{pageTitle:"Transporter Good Practices | mycourierbuddy"}}).state("guidelinessection",{url:"/guidelinessection",templateUrl:"views/static/guidelinessection.html",data:{pageTitle:"Guidelines Section | mycourierbuddy"}})}var timerModule,app,apiBasePath,clientId;if(function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function h(t,i){var r,u,f,e=t.nodeName.toLowerCase();return"area"===e?(r=t.parentNode,u=r.name,t.href&&u&&"map"===r.nodeName.toLowerCase()?(f=n("img[usemap='#"+u+"']")[0],!!f&&c(f)):!1):(/^(input|select|textarea|button|object)$/.test(e)?!t.disabled:"a"===e?t.href||i:i)&&c(t)}function c(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}function k(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}function l(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=a(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",v)}function v(){n.datepicker._isDisabledDatepicker(i.inline?i.dpDiv.parent()[0]:i.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function u(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var y,f,r,i,o,s;n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return h(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&h(t,!r)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var r,u,i=n(this[0]);i.length&&i[0]!==document;){if(r=i.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&0!==u))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};y=0;f=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?(h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}(),void 0):(h[t]=r,void 0)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var i,r,e=f.call(arguments,1),u=0,o=e.length;o>u;u++)for(i in e[u])r=e[u][i],e[u].hasOwnProperty(i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t};n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var s="string"==typeof u,o=f.call(arguments,1),e=this;return s?this.each(function(){var i,f=n.data(this,r);return"instance"===u?(e=f,!1):f?n.isFunction(f[u])&&"_"!==u.charAt(0)?(i=f[u].apply(f,o),i!==f&&void 0!==i?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+u+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):(o.length&&(u=n.widget.extend.apply(null,[u].concat(o))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),e}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=y++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;r.length-1>f;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget;r=!1;n(document).mouseup(function(){r=!1});n.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,u=1===t.which,f="string"==typeof this.options.cancel&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(t){return this._mouseMoved&&(n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button||!t.which)?this._mouseUp(t):((t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted))},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),r=!1,!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function f(n,t,i){return[parseFloat(n[0])*(a.test(n[0])?t/100:1),parseFloat(n[1])*(a.test(n[1])?i/100:1)]}function i(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,e,r=Math.max,t=Math.abs,o=Math.round,s=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,y=n.fn.position;n.position={scrollbarWidth:function(){if(void 0!==u)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return y.apply(this,arguments);u=n.extend({},u);var k,a,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=v(nt),nt[0].preventDefault&&(u.at="left top"),a=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var t,i,n=(u[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]);n[0]=s.test(n[0])?n[0]:"center";n[1]=h.test(n[1])?n[1]:"center";t=c.exec(n[0]);i=c.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===d.length&&(d[1]=d[0]),"right"===u.at[0]?w.left+=a:"center"===u.at[0]&&(w.left+=a/2),"bottom"===u.at[1]?w.top+=p:"center"===u.at[1]&&(w.top+=p/2),k=f(tt.at,a,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,h=n(this),c=h.outerWidth(),l=h.outerHeight(),ut=i(this,"marginLeft"),ft=i(this,"marginTop"),et=c+ut+i(this,"marginRight")+rt.width,ot=l+ft+i(this,"marginBottom")+rt.height,s=n.extend({},w),v=f(tt.my,h.outerWidth(),h.outerHeight());"right"===u.my[0]?s.left-=c:"center"===u.my[0]&&(s.left-=c/2);"bottom"===u.my[1]?s.top-=l:"center"===u.my[1]&&(s.top-=l/2);s.left+=v[0];s.top+=v[1];e||(s.left=o(s.left),s.top=o(s.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](s,{targetWidth:a,targetHeight:p,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:h})});u.using&&(g=function(n){var i=b.left-s.left,o=i+a-c,f=b.top-s.top,v=f+p-l,e={target:{element:nt,left:b.left,top:b.top,width:a,height:p},element:{element:h,left:s.left,top:s.top,width:c,height:l},horizontal:0>o?"left":i>0?"right":"center",vertical:0>v?"top":f>0?"bottom":"middle"};c>a&&a>t(i+o)&&(e.horizontal="center");l>p&&p>t(f+v)&&(e.vertical="middle");e.important=r(t(i),t(o))>r(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});h.offset(n.extend(s,{using:g}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&0>=i?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var h,o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&0>=i?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,i){var o,s,r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-h,v=l+i.collisionWidth-c-h,u="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,e=-2*i.offset[0];0>a?(o=n.left+u+f+e+i.collisionWidth-c-y,(0>o||t(a)>o)&&(n.left+=u+f+e)):v>0&&(s=n.left-i.collisionPosition.marginLeft+u+f+e-h,(s>0||v>t(s))&&(n.left+=u+f+e))},top:function(n,i){var o,s,r=i.within,y=r.offset.top+r.scrollTop,c=r.height,h=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-h,v=l+i.collisionHeight-c-h,p="top"===i.my[1],u=p?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,e=-2*i.offset[1];0>a?(s=n.top+u+f+e+i.collisionHeight-c-y,(0>s||t(a)>s)&&(n.top+=u+f+e)):v>0&&(o=n.top-i.collisionPosition.marginTop+u+f+e-h,(o>0||v>t(o))&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;e=u>10&&11>u;t.innerHTML="";i.removeChild(t)}()}();n.ui.position;n.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();0>t.active&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===n&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,o)===!1||(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var h,r,u,c=this,o=0,l=n.css("box-sizing"),a=n.length&&(!t.length||n.index()<t.index()),e=this.options.animate||{},f=a&&e.down||e,s=function(){c._toggleComplete(i)};return"number"==typeof f&&(u=f),"string"==typeof f&&(r=f),r=r||f.easing||e.easing,u=u||f.duration||e.duration,t.length?n.length?(h=n.show().outerHeight(),t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(this.showProps,{duration:u,easing:r,complete:s,step:function(n,i){i.now=Math.round(n);"height"!==i.prop?"content-box"===l&&(o+=i.now):"content"!==c.options.heightStyle&&(i.now=Math.round(h-t.outerHeight()-o),o=0)}}),void 0):t.animate(this.hideProps,u,r,s):n.animate(this.showProps,u,r,s)},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});n.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=n(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,u,r,f,e=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=!1;u=this.previousFilter||"";r=String.fromCharCode(t.keyCode);f=!1;clearTimeout(this.filterTimer);r===u?f=!0:r=u+r;i=this._filterMenuItems(r);i=f&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r));i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}e&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(n):this.select(n))},refresh:function(){var i,t,u=this,f=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.parent(),r=n("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r);t.attr("aria-labelledby",i.attr("id"))});i=r.add(this.element);t=i.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);u._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")});t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){"icons"===n&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);"disabled"===n&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),0>i.offset().top-r-u}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,r,u;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(n.trim(n(this).text()))})}});n.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,i=!0,void 0;t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,n.preventDefault(),void 0):(this._searchTimeout(n),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(n),this._change(n),void 0)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){var r,u;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)}),void 0):(u=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value),r=i.item.attr("aria-label")||u.value,r&&n.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):void 0},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").text(i.label).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[n](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments);this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});n.ui.autocomplete;var e,p="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},b=function(t){var i=t.name,r=t.form,u=n([]);return i&&(i=i.replace(/'/g,"\\'"),u=r?n(r).find("[name='"+i+"'][type=radio]"):n("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var i=this,t=this.options,r="checkbox"===this.type||"radio"===this.type,u=r?"":"ui-state-active";null===t.label&&(t.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||this===e&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||n(this).removeClass(u)}).bind("click"+this.eventNamespace,function(n){t.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});r&&this.element.bind("change"+this.eventNamespace,function(){i.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active");i.buttonElement.attr("aria-pressed","true");var r=i.element[0];b(r).not(r).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return t.disabled?!1:(n(this).addClass("ui-state-active"),e=this,i.document.one("mouseup",function(){e=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return t.disabled?!1:(n(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(i){return t.disabled?!1:((i.keyCode===n.ui.keyCode.SPACE||i.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",t.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(p+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){return this._super(n,t),"disabled"===n?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t);"radio"===this.type?b(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var i=this.buttonElement.removeClass(w),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only");i.addClass(r.join(" "))}});n.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){"disabled"===n&&this.buttons.button("option",n,t);this._super(n,t)},refresh:function(){var i="rtl"===this.element.css("direction"),t=this.element.find(this.options.items),r=t.filter(":ui-button");t.not(":ui-button").button();r.button("refresh");this.buttons=t.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(i?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});n.ui.button;n.extend(n.ui,{datepicker:{version:"1.11.4"}});n.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.focus(this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),u(o.settings,f||{}),i=i&&i.constructor===Date?this._formatDate(o,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty(),i===f&&(i=null))},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var e,h,o,s,f=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?n.extend({},n.datepicker._defaults):f?"all"===i?n.extend({},f.settings):this._get(f,i):null:(e=i||{},"string"==typeof i&&(e={},e[i]=r),f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),u(f.settings,e),null!==o&&void 0!==e.dateFormat&&void 0===e.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==s&&void 0!==e.dateFormat&&void 0===e.maxDate&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return(i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!i||i.indexOf(r)>-1)},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,r,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|="fixed"===n(this).css("position"),!r}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",k(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;i=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var r,u=this._getNumberOfMonths(t),f=u[1],e=t.dpDiv.find("."+this._dayOverClass+" a");e.length>0&&v.apply(e.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==u[0]||1!==u[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus();t.yearshtml&&(r=t.yearshtml,setTimeout(function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);r=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;for(var a,v,u,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,l=function(n){var i=t.length>o+1&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var u=l(n),r="@"===n?14:"!"===n?20:"y"===n&&u?4:"o"===n?3:2,e="y"===n?r:1,o=RegExp("^\\d{"+e+","+r+"}"),t=i.substring(f).match(o);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return(e=t[0],f+=r.length,!1)}),-1!==e)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;t.length>o;o++)if(w)"'"!==t.charAt(o)||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(i.length>f&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=e?0:-100)),p>-1)for(s=1,h=p;;){if(a=this._getDaysInMonth(e,s-1),a>=h)break;s++;h-=a}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return void 0!==n.settings[t]?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th scope='col'"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+("Y"===i?t:0),f=n.drawMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new l;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.11.4";n.datepicker;n.widget("ui.draggable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&n(i.activeElement).blur()}catch(r){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var r=this.options,u=n.isFunction(r.helper),i=u?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),u&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,t){t||(t=this.position);var i="absolute"===n?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),"y"===r.axis&&(e=this.originalPageX),"x"===r.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])&&(f=!1),f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left-r.margins.left,a=c+r.snapElements[u].width,l=r.snapElements[u].top-r.margins.top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});n.ui.draggable;n.widget("ui.resizable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseInt(n,10)||0},_isNumber:function(n){return!isNaN(parseInt(n,10))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var e,f,u,i,o,r=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;e.length>f;f++)u=n.trim(e[f]),o="ui-resizable-"+u,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===u&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[u]=".ui-resizable-"+u,this.element.append(i);this._renderAxis=function(t){var i,u,f,e;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(u=n(this.handles[i],this.element),e=/sw|ne|nw|se|n|s/.test(i)?u.outerHeight():u.outerWidth(),f=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(f,e),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){t.disabled||r.resizing||(n(this).addClass("ui-resizable-autohide"),r._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===e?this.axis+"-resize":e),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return this._updatePrevProperties(),f?(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),t.maxWidth>u&&(t.maxWidth=u),t.maxHeight>e&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];4>t;t++)i[t]=parseInt(r[t],10)||0,i[t]+=parseInt(u[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance"),i=t.options;n(i.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,o=t.originalSize,s=t.originalPosition,c=t.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=l[0]||1,e=l[1]||1,a=Math.round((y.width-o.width)/f)*f,v=Math.round((y.height-o.height)/e)*e,r=o.width+a,u=o.height+v,p=i.maxWidth&&r>i.maxWidth,w=i.maxHeight&&u>i.maxHeight,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=f);k&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=s.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=s.left-a):((0>=u-e||0>=r-f)&&(h=t._getPaddingPlusBorderDimensions(this)),u-e>0?(t.size.height=u,t.position.top=s.top-v):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),r-f>0?(t.size.width=r,t.position.left=s.left-a):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i,r=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement;i&&"body"!==i.nodeName.toLowerCase()&&n(i).blur()}catch(u){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,f);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var n=this._focusedElement;n||(n=this.element.find("[autofocus]"));n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===n.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){u.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;");n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;r.click=function(){u.apply(i.element[0],arguments)};f={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(e>=0?"+":"")+e+" top"+(o>=0?"+":"")+o,of:t.window};n(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:e,start:function(i,u){n(this).addClass("ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),s=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window};n(this).removeClass("ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||(n=[],this.document.data("ui-dialog-instances",n)),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(n,t){var u,r,i=this.uiDialog;"dialogClass"===n&&i.removeClass(this.options.dialogClass).addClass(t);"disabled"!==n&&(this._super(n,t),"appendTo"===n&&this.uiDialog.appendTo(this._appendTo()),"buttons"===n&&this._createButtons(),"closeText"===n&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===n&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),"position"===n&&this._position(),"resizable"===n&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===n&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(n){t||this._allowInteraction(n)||(n.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var n=this.document.data("ui-dialog-overlays")-1;n?this.document.data("ui-dialog-overlays",n):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});n.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(i.scope);i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;n.length>t;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=n.isFunction(i)?i:function(n){return n.is(i)};else if("scope"===t){var r=n.ui.ddmanager.droppables[this.options.scope];this._splice(r);this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return(u=!0,!1)}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.ui.intersect=function(){function n(n,t,i){return n>=t&&t+i>n}return function(t,i,r,u){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,h=o+t.helperProportions.width,c=s+t.helperProportions.height,f=i.offset.left,e=i.offset.top,l=f+i.proportions().width,a=e+i.proportions().height;switch(r){case"fit":return o>=f&&l>=h&&s>=e&&a>=c;case"intersect":return o+t.helperProportions.width/2>f&&l>h-t.helperProportions.width/2&&s+t.helperProportions.height/2>e&&a>c-t.helperProportions.height/2;case"pointer":return n(u.pageY,e,i.proportions().height)&&n(u.pageX,f,i.proportions().width);case"touch":return(s>=e&&a>=s||c>=e&&a>=c||e>s&&c>a)&&(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l);default:return!1}}}();n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;u.length>r;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;e.length>f;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance,i),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===e}),f.length&&(r=n(f[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}};n.ui.droppable;o="ui-effects-";s=n;n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:n>r.max?r.max:n)}function s(f){var o=i(),s=o._rgba=[];return f=f.toLowerCase(),r(v,function(n,i){var r,h=i.re.exec(f),c=h&&i.parse(h),e=i.space||"rgba";return c?(r=o[e](c),o[u[e].cache]=r[u[e].cache],s=o._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&n.extend(s,e.transparent),o):e[f]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&0>n.inArray(null,a[u].slice(0,3))&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):t},is:function(n){var o=i(n),f=!0,e=this;return r(u,function(n,i){var s,u=o[i.cache];return u&&(s=e[i.cache]||i.to&&i.to(e._rgba)||[],r(i.props,function(n,i){return null!=u[i.idx]?f=u[i.idx]===s[i.idx]:t})),f}),f},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(s),function(){function t(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function i(t,i){var r,f,e={};for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(s.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(u,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var i=n(this);return{el:i,start:t(this)}});o=function(){n.each(r,function(n,t){u[t]&&e[t+"Class"](u[t])})};o();f=f.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(t){return function(i,r,u,f,e){return"boolean"==typeof r||void 0===r?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):t.apply(this,arguments):n.effects.animateClass.call(this,{toggle:i},r,u,f)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function t(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function i(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}n.extend(n.effects,{version:"1.11.4",save:function(n,t){for(var i=0;t.length>i;i++)null!==t[i]&&n.data(o+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0;t.length>i;i++)null!==t[i]&&(r=n.data(o+t[i]),void 0===r&&(r=""),n.css(t[i],r))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function r(t){function f(){n.isFunction(o)&&o.call(r[0]);n.isFunction(t)&&t()}var r=n(this),o=i.complete,u=i.mode;(r.is(":hidden")?"hide"===u:"show"===u)?(r[u](),f()):e.call(r[0],i,f)}var i=t.apply(this,arguments),u=i.mode,f=i.queue,e=n.effects.effect[i.effect];return n.fx.off||!e?u?this[u](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):f===!1?this.each(r):this.queue(f||"fx",r)},show:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="show",this.effect.call(this,u)}}(n.fn.show),hide:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="hide",this.effect.call(this,u)}}(n.fn.hide),toggle:function(n){return function(r){if(i(r)||"boolean"==typeof r)return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="toggle",this.effect.call(this,u)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>n;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}();n.effects;n.effects.effect.blind=function(t,i){var u,f,e,r=n(this),s=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),y=t.direction||"up",o=/up|down|vertical/.test(y),h=o?"height":"width",c=o?"top":"left",p=/up|left|vertical|horizontal/.test(y),l={},a="show"===v;r.parent().is(".ui-effects-wrapper")?n.effects.save(r.parent(),s):n.effects.save(r,s);r.show();u=n.effects.createWrapper(r).css({overflow:"hidden"});f=u[h]();e=parseFloat(u.css(c))||0;l[h]=a?f:0;p||(r.css(o?"bottom":"right",0).css(o?"top":"left","auto").css({position:"absolute"}),l[c]=a?e:f+e);a&&(u.css(h,0),p||u.css(c,e+f));u.animate(l,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===v&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})};n.effects.effect.bounce=function(t,i){var v,f,e,r=n(this),y=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),o="hide"===k,p="show"===k,h=t.direction||"up",u=t.distance,w=t.times||5,d=2*w+(p||o?1:0),c=t.duration/d,l=t.easing,s="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,a=r.queue(),g=a.length;for((p||o)&&y.push("opacity"),n.effects.save(r,y),r.show(),n.effects.createWrapper(r),u||(u=r["top"===s?"outerHeight":"outerWidth"]()/3),p&&(e={opacity:1},e[s]=0,r.css("opacity",0).css(s,b?2*-u:2*u).animate(e,c,l)),o&&(u/=Math.pow(2,w-1)),e={},e[s]=0,v=0;w>v;v++)f={},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l).animate(e,c,l),u=o?2*u:u/2;o&&(f={opacity:0},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l));r.queue(function(){o&&r.hide();n.effects.restore(r,y);n.effects.removeWrapper(r);i()});g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1)));r.dequeue()};n.effects.effect.clip=function(t,i){var h,u,f,r=n(this),c=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),e="show"===v,y=t.direction||"vertical",l="vertical"===y,o=l?"height":"width",a=l?"top":"left",s={};n.effects.save(r,c);r.show();h=n.effects.createWrapper(r).css({overflow:"hidden"});u="IMG"===r[0].tagName?h:r;f=u[o]();e&&(u.css(o,0),u.css(a,f/2));s[o]=e?f:0;s[a]=e?0:f/2;u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){e||r.hide();n.effects.restore(r,c);n.effects.removeWrapper(r);i()}})};n.effects.effect.drop=function(t,i){var u,r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e="show"===c,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"pos":"neg",l={opacity:e?1:0};n.effects.save(r,h);r.show();n.effects.createWrapper(r);u=t.distance||r["top"===o?"outerHeight":"outerWidth"](!0)/2;e&&r.css("opacity",0).css(o,"pos"===s?-u:u);l[o]=(e?"pos"===s?"+=":"-=":"pos"===s?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===c&&r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})};n.effects.effect.explode=function(t,i){function b(){p.push(this);p.length===o*c&&k()}function k(){r.css({visibility:"visible"});n(p).remove();u||r.hide();i()}for(var e,l,a,v,y,o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),d=n.effects.setMode(r,t.mode||"hide"),u="show"===d,w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),p=[],f=0;o>f;f++)for(a=w.top+f*h,y=f-(o-1)/2,e=0;c>e;e++)l=w.left+e*s,v=e-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*s,top:-f*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(u?v*s:0),top:a+(u?y*h:0),opacity:u?0:1}).animate({left:l+(u?0:v*s),top:a+(u?0:y*h),opacity:u?1:0},t.duration||500,t.easing,b)};n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})};n.effects.effect.fold=function(t,i){var r,e,u=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(u,t.mode||"hide"),o="show"===h,c="hide"===h,f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=o!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,w={},b={};n.effects.save(u,s);u.show();r=n.effects.createWrapper(u).css({overflow:"hidden"});e=v?[r.width(),r.height()]:[r.height(),r.width()];l&&(f=parseInt(l[1],10)/100*e[c?0:1]);o&&r.css(a?{height:0,width:f}:{height:f,width:0});w[y[0]]=o?e[0]:f;b[y[1]]=o?e[1]:0;r.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&u.hide();n.effects.restore(u,s);n.effects.removeWrapper(u);i()})};n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};"hide"===f&&(e.opacity=0);n.effects.save(r,u);r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===f&&r.hide();n.effects.restore(r,u);i()}})};n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||"effect"!==h,c=t.scale||"both",b=t.origin||["middle","center"],k=r.css("position"),s=y?w:["position","top","bottom","left","right","overflow","opacity"],p={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&r.show();f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};"toggle"===t.mode&&"show"===h?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||("show"===h?p:f),r.to=t.to||("hide"===h?p:f));u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}};("box"===c||"both"===c)&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to)));("content"===c||"both"===c)&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to));n.effects.save(r,s);r.show();n.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x);r.css(r.from);("content"===c||"both"===c)&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a);i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x};i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x};u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to));u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})}));r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity);"hide"===h&&r.hide();n.effects.restore(r,s);y||("static"===k?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return"auto"===i?u+"px":f+u+"px"})}));n.effects.removeWrapper(r);i()}})};n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===f?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:"horizontal"!==h?s/100:1,x:"vertical"!==h?s/100:1};r.effect="size";r.queue=!1;r.complete=i;"effect"!==f&&(r.origin=c||["middle","center"],r.restore=!0);r.from=t.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:e);r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x};r.fade&&("show"===f&&(r.from.opacity=0,r.to.opacity=1),"hide"===f&&(r.from.opacity=1,r.to.opacity=0));u.effect(r)};n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o="hide"===e,s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}});r.effect(t)};n.effects.effect.pulsate=function(t,i){var e,r=n(this),o=n.effects.setMode(r,t.mode||"show"),h="show"===o,a="hide"===o,v=h||"hide"===o,s=2*(t.times||5)+(v?1:0),c=t.duration/s,u=0,f=r.queue(),l=f.length;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),e=1;s>e;e++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing);r.queue(function(){a&&r.hide();i()});l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,s+1)));r.dequeue()};n.effects.effect.shake=function(t,i){var o,r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",s=t.distance||20,y=t.times||3,p=2*y+1,u=Math.round(t.duration/p),h="up"===f||"down"===f?"top":"left",c="up"===f||"left"===f,l={},a={},w={},e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),l[h]=(c?"-=":"+=")+s,a[h]=(c?"+=":"-=")+2*s,w[h]=(c?"-=":"+=")+2*s,r.animate(l,u,t.easing),o=1;y>o;o++)r.animate(a,u,t.easing).animate(w,u,t.easing);r.animate(a,u,t.easing).animate(l,u/2,t.easing).queue(function(){"hide"===k&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1)));r.dequeue()};n.effects.effect.slide=function(t,i){var u,r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c="show"===h,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",o="up"===f||"left"===f,l={};n.effects.save(r,s);r.show();u=t.distance||r["top"===e?"outerHeight":"outerWidth"](!0);n.effects.createWrapper(r).css({overflow:"hidden"});c&&r.css(e,o?isNaN(u)?"-"+u:-u:u);l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===h&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})};n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();i()})};n.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){return void 0===n?this.options.value:(this.options.value=this._constrainedValue(n),this._refreshValue(),void 0)},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));"disabled"===n&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});n.widget("ui.selectable",n.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1)}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&("touch"===s.tolerance?h=!(e.left>u||i>e.right||e.top>f||r>e.bottom):"fit"===s.tolerance&&(h=e.left>i&&u>e.right&&e.top>r&&f>e.bottom),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var n=this.element.uniqueId().attr("id");this.ids={element:n,button:n+"-button",menu:n+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=n("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);n("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=n("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){t.menuItems||t._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(n,i){n.preventDefault();t._setSelection();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var n,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var u=this,r="";n.each(i,function(i,f){f.optgroup!==r&&(n("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:f.optgroup}).appendTo(t),r=f.optgroup);u._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>");return i.disabled&&r.addClass("ui-state-disabled"),this._setText(r,i.label),r.appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),u+=":not(.ui-state-disabled)");r="first"===n||"last"===n?i["first"===n?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?(n=window.getSelection(),n.removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection(),n.rangeCount&&(this.range=n.getRangeAt(0))):this.range=document.selection.createRange()},click:function(n){this._setSelection();this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this._setText(this.buttonText,n.label);this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){"icons"===n&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button);this._super(n,t);"appendTo"===n&&this.menuWrap.appendTo(this._appendTo());"disabled"===n&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));"width"===n&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;n||(n=this.element.show().outerWidth(),this.element.hide());this.button.outerWidth(n)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,r){var u=n(r),f=u.parent("optgroup");i.push({element:u,index:t,value:u.val(),label:u.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||u.prop("disabled")})});this.items=i},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});n.widget("ui.slider",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>r||1===t&&r>i)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;u>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,t=this._valueMin(),i=this.options.step,r=Math.floor(+(n-t).toFixed(this._precision())/i)*i;n=r+t;this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),e=this._start(t,f),e===!1))return}switch(u=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}});n.widget("ui.sortable",n.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&t+i>n},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");n.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return(r=n(this),!1)}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u,t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return f?this.floating?i&&"right"===i||"down"===t?2:1:t&&("down"===t?2:1):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&u||"left"===i&&!u:t&&("down"===t&&r||"up"===t&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===u?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===u?t._createTrPlaceholder(t.currentItem,i):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"clientX":"clientY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),c>Math.abs(t[h]-o)&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[i])return this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[i];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);void 0!==u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n),void 0)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:(this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*n.height())&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&t.min>n?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if("culture"===n||"numberFormat"===n){var i=this._parse(this.element.val());return this.options[n]=t,this.element.val(this._format(i)),void 0}("max"===n||"min"===n||"step"===n)&&"string"==typeof t&&(t=this._parse(t));"icons"===n&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);"disabled"===n&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(n){this._super(n)}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null===n?!1:n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?(t(this._value).call(this,n),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});n.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var n=/#.*$/;return function(t){var i,r;t=t.cloneNode(!1);i=t.href.replace(n,"");r=location.href.replace(n,"");try{i=decodeURIComponent(i)}catch(u){}try{r=decodeURIComponent(r)}catch(u){}return t.hash.length>1&&i===r}}(),_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible);this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return(t=i,!1)}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i),void 0;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||t.metaKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):"disabled"===n?(this._setupDisabled(t),void 0):(this._super(n,t),"collapsible"===n&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(t),"heightStyle"===n&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,u=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(i,r){var f,u,e,s=n(r).uniqueId().attr("id"),o=n(r).closest("li"),h=o.attr("aria-controls");t._isLocal(r)?(f=r.hash,e=f.substring(1),u=t.element.find(t._sanitizeSelector(f))):(e=o.attr("aria-controls")||n({}).uniqueId()[0].id,f="#"+e,u=t.element.find(f),u.length||(u=t._createPanel(e),u.insertAfter(t.panels[i-1]||t.tablist)),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&o.data("ui-tabs-aria-controls",h);o.attr({"aria-controls":e,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(u.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,r=0;i=this.tabs[r];r++)t===!0||-1!==n.inArray(r,t)?n(i).addClass("ui-state-disabled").attr("aria-disabled","true"):n(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return"string"==typeof n&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=n.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=n.isArray(i)?n.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var u=this,r=this.tabs.eq(t),e=r.find(".ui-tabs-anchor"),f=this._getPanelForTab(r),o={tab:r,panel:f},s=function(n,t){"abort"===t&&u.panels.stop(!1,!0);r.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");n===u.xhr&&delete u.xhr};this._isLocal(e[0])||(this.xhr=n.ajax(this._ajaxSettings(e,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,r){setTimeout(function(){f.html(n);u._trigger("load",i,o);s(r,t)},1)}).fail(function(n,t){setTimeout(function(){s(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});n.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))},_removeDescribedBy:function(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var r=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t.element)}),void 0)},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r.element[0];t.close(u,!0)});this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;return"string"==typeof r?this._open(t,n,r):(i=r.call(n[0],function(i){u._delay(function(){n.data("ui-tooltip-open")&&(t&&(t.type=f),this._open(t,n,i))})}),i&&this._open(t,n,i),void 0)},_open:function(t,i,r){function o(n){s.of=n;u.is(":hidden")||u.position(s)}var f,u,h,e,s=n.extend({},this.options.position);if(r){if(f=this._find(i))return f.tooltip.find(".ui-tooltip-content").html(r),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title"));f=this._tooltip(i);u=f.tooltip;this._addDescribedBy(i,u.attr("id"));u.find(".ui-tooltip-content").html(r);this.liveRegion.children().hide();r.clone?(e=r.clone(),e.removeAttr("id").find("[id]").removeAttr("id")):e=r;n("<div>").html(e).appendTo(this.liveRegion);this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):u.position(n.extend({of:i},this.options.position));u.hide();this._show(u,this.options.show);this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){u.is(":visible")&&(o(s.of),clearInterval(h))},n.fx.interval));this._trigger("open",t,{tooltip:u})}},_registerCloseHandlers:function(t,i){var r={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var r=n.Event(t);r.currentTarget=i[0];this.close(r,!0)}}};i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(i).tooltip)});t&&"mouseover"!==t.type||(r.mouseleave="close");t&&"focusin"!==t.type||(r.focusout="close");this._on(!0,i,r)},close:function(t){var u,f=this,i=n(t?t.currentTarget:this.element),r=this._find(i);return r?(u=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:u}),r.hiding||(r.closing=!1)),void 0):(i.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=n("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=i.uniqueId().attr("id");return n("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[r]={element:t,tooltip:i}},_find:function(n){var t=n.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var f=n.Event("blur"),u=r.element;f.target=f.currentTarget=u[0];t.close(f,!0);n("#"+i).remove();u.data("ui-tooltip-title")&&(u.attr("title")||u.attr("title",u.data("ui-tooltip-title")),u.removeData("ui-tooltip-title"))});this.liveRegion.remove()}})}),function(n){n.widget("custom.durationPicker",{options:{seconds:0},seconds:function(n){return arguments.length&&(this._setSeconds(n),this._refresh()),this.options.seconds},setUnitQty:function(t,i){var r=this._subUnitsIndexByUnit[t],u=this._subUnits[r].qtyInNextBiggestUnit;(i<0||i>=u)&&(i=this._subUnits[r].quantity);this._subUnits[r].quantity=i;this._reCalculateSeconds();n("."+t,this.element).val(i)},getUnitQty:function(n){var t=this._subUnitsIndexByUnit[n];return this._subUnits[t].quantity},_create:function(){this.element.addClass("durationPicker");this._initSubUnits();this._initUI();this._setSeconds(this.options.seconds)},_initSubUnits:function(){var t=this,i;this._subUnits=[{unit:"minutes",qtyInNextBiggestUnit:60},{unit:"hours",qtyInNextBiggestUnit:24},{unit:"days",qtyInNextBiggestUnit:30},];i=1;n.each(this._subUnits,function(n,r){t._subUnitsIndexByUnit[r.unit]=n;t._subUnits[n].secondsPerUnit=i;t._subUnits[n].quantity=0;r.qtyInNextBiggestUnit&&(i*=r.qtyInNextBiggestUnit)})},_initUI:function(){var t=this,i="durationPickerGroup",r="unit",u="subunit subunit-control",f="subunit subunit-label";n("<ul class='"+i+"'><\/ul>").appendTo(t.element);n.each(this._getSubUnits().reverse(),function(e,o){var h=99,c,s;o.qtyInNextBiggestUnit&&(h=o.qtyInNextBiggestUnit-1);c="<li><div class='"+r+"'><div class='"+u+"'><input type='number' class='"+o.unit+"' value=0 step=1 min=0 max="+h+" /><\/div><div class='"+f+"'>"+o.unit+"<\/div><\/div><\/li>";s="ul."+i;n(c).appendTo(n(s,t.element));n(s+" input:last",t.element).on("keyup change",function(){var i=n(this).val();t.setUnitQty(o.unit,i);t.element.change()})})},_reCalculateSeconds:function(){var t=0;n.each(this._getSubUnits(),function(n,i){t+=i.quantity*i.secondsPerUnit});this.options.seconds=t},_setSeconds:function(n){this.options.seconds=this._constrain(n);this._refresh()},_refresh:function(){var t=this,i=1,r=this.options.seconds;n.each(this._getSubUnits(),function(n,u){var e=typeof u.qtyInNextBiggestUnit=="number",s=e?u.qtyInNextBiggestUnit:1,f,o;secondsPerUnit=t._getSecondsPerUnit(u.unit);i=secondsPerUnit*u.qtyInNextBiggestUnit;f=r;e&&(f%=i);o=f/secondsPerUnit;r-=f;t.setUnitQty(u.unit,o)});this.element.change()},_getSubUnits:function(){return this._subUnits.slice(0)},_getSecondsPerUnit:function(n){if(typeof this._subUnitsIndexByUnit[n]=="undefined")throw new Error("Unit does not exist!");var t=this._subUnitsIndexByUnit[n];return this._subUnits[t].secondsPerUnit},_constrain:function(n){return n=parseInt(n,10),(isNaN(n)||n<0)&&(n=0),n},_destroy:function(){this.element.removeClass("durationPicker").html("")},_subUnitsIndexByUnit:{}})}(jQuery),!function(n){"use strict";n.Zebra_DatePicker=function(t,i){var p,s,l,ut,b,nt,tt,st,ht,ft,wt,h,c,y,e,f,ct,rt,it,lt,g,bt,v,w,kt,et,at,ei,oi,si,k,ri,dt,vt,gt,hi,ci={always_visible:!1,container:n("body"),days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"below",direction:0,disabled_dates:!1,enabled_dates:!1,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},header_navigation:["&#171;","&#187;"],inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,offset:[5,-5],pair:!1,readonly_element:!0,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onSelect:null},r=this,u,ui;r.settings={};u=n(t);ui=function(t){var ii,gi,wi,ui,bi,bt,ai,ki,di,fi,ei,tr,or;if(!t){r.settings=n.extend({},ci,i);for(ii in u.data())0===ii.indexOf("zdp_")&&(ii=ii.replace(/^zdp\_/,""),void 0!==ci[ii]&&(r.settings[ii]="pair"==ii?n(u.data("zdp_"+ii)):u.data("zdp_"+ii)))}r.settings.readonly_element&&u.attr("readonly","readonly");var nr={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]},oi=!1,si=!1,li=!1,yi=null;for(yi in nr)n.each(nr[yi],function(n,t){r.settings.format.indexOf(t)>-1&&("days"==yi?oi=!0:"months"==yi?si=!0:"years"==yi&&(li=!0))});for(k=oi&&si&&li?["years","months","days"]:!oi&&si&&li?["years","months"]:oi&&si&&!li?["months","days"]:oi||si||!li?oi||!si||li?["years","months","days"]:["months"]:["years"],-1==n.inArray(r.settings.view,k)&&(r.settings.view=k[k.length-1]),g=[],lt=[],wi=0;2>wi;wi++)gi=0===wi?r.settings.disabled_dates:r.settings.enabled_dates,n.isArray(gi)&&gi.length>0&&n.each(gi,function(){for(var r,f,u,t=this.split(" "),i=0;4>i;i++){for(t[i]||(t[i]="*"),t[i]=t[i].indexOf(",")>-1?t[i].split(","):new Array(t[i]),r=0;r<t[i].length;r++)if(t[i][r].indexOf("-")>-1&&(f=t[i][r].match(/^([0-9]+)\-([0-9]+)/),null!==f)){for(u=o(f[1]);u<=o(f[2]);u++)-1==n.inArray(u,t[i])&&t[i].push(u+"");t[i].splice(r,1)}for(r=0;r<t[i].length;r++)t[i][r]=isNaN(o(t[i][r]))?t[i][r]:o(t[i][r])}0===wi?g.push(t):lt.push(t)});if(bt=new Date,ai=r.settings.reference_date?r.settings.reference_date:u.data("zdp_reference_date")&&void 0!==u.data("zdp_reference_date")?u.data("zdp_reference_date"):bt,v=void 0,w=void 0,h=ai.getMonth(),ht=bt.getMonth(),c=ai.getFullYear(),ft=bt.getFullYear(),y=ai.getDate(),wt=bt.getDate(),r.settings.direction===!0)v=ai;else if(r.settings.direction===!1)w=ai,at=w.getMonth(),et=w.getFullYear(),kt=w.getDate();else if(!n.isArray(r.settings.direction)&&yt(r.settings.direction)&&o(r.settings.direction)>0||n.isArray(r.settings.direction)&&((ui=ni(r.settings.direction[0]))||r.settings.direction[0]===!0||yt(r.settings.direction[0])&&r.settings.direction[0]>0)&&((bi=ni(r.settings.direction[1]))||r.settings.direction[1]===!1||yt(r.settings.direction[1])&&r.settings.direction[1]>=0))v=ui?ui:new Date(c,h,y+(n.isArray(r.settings.direction)?o(r.settings.direction[0]===!0?0:r.settings.direction[0]):o(r.settings.direction))),h=v.getMonth(),c=v.getFullYear(),y=v.getDate(),bi&&+bi>=+v?w=bi:!bi&&r.settings.direction[1]!==!1&&n.isArray(r.settings.direction)&&(w=new Date(c,h,y+o(r.settings.direction[1]))),w&&(at=w.getMonth(),et=w.getFullYear(),kt=w.getDate());else if(!n.isArray(r.settings.direction)&&yt(r.settings.direction)&&o(r.settings.direction)<0||n.isArray(r.settings.direction)&&(r.settings.direction[0]===!1||yt(r.settings.direction[0])&&r.settings.direction[0]<0)&&((ui=ni(r.settings.direction[1]))||yt(r.settings.direction[1])&&r.settings.direction[1]>=0))w=new Date(c,h,y+(n.isArray(r.settings.direction)?o(r.settings.direction[0]===!1?0:r.settings.direction[0]):o(r.settings.direction))),at=w.getMonth(),et=w.getFullYear(),kt=w.getDate(),ui&&+w>+ui?v=ui:!ui&&n.isArray(r.settings.direction)&&(v=new Date(et,at,kt-o(r.settings.direction[1]))),v&&(h=v.getMonth(),c=v.getFullYear(),y=v.getDate());else if(n.isArray(r.settings.disabled_dates)&&r.settings.disabled_dates.length>0)for(ki in g)if("*"==g[ki][0]&&"*"==g[ki][1]&&"*"==g[ki][2]&&"*"==g[ki][3]){di=[];(n.each(lt,function(){var n=this;"*"!=n[2][0]&&di.push(parseInt(n[2][0]+("*"==n[1][0]?"12":a(n[1][0],2))+("*"==n[0][0]?"*"==n[1][0]?"31":new Date(n[2][0],n[1][0],0).getDate():a(n[0][0],2)),10))}),di.sort(),di.length>0)&&(fi=(di[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/),c=parseInt(fi[1],10),h=parseInt(fi[2],10)-1,y=parseInt(fi[3],10));break}if(d(c,h,y)){for(;d(c);)v?(c++,h=0):(c--,h=11);for(;d(c,h);)v?(h++,y=1):(h--,y=new Date(c,h+1,0).getDate()),h>11?(c++,h=0,y=1):0>h&&(c--,h=11,y=new Date(c,h+1,0).getDate());for(;d(c,h,y);)v?y++:y--,bt=new Date(c,h,y),c=bt.getFullYear(),h=bt.getMonth(),y=bt.getDate();bt=new Date(c,h,y);c=bt.getFullYear();h=bt.getMonth();y=bt.getDate()}if(ei=ni(u.val()||(r.settings.start_date?r.settings.start_date:"")),(ei&&r.settings.strict&&d(ei.getFullYear(),ei.getMonth(),ei.getDate())&&u.val(""),t||void 0===v&&void 0===ei||vi(void 0!==v?v:ei),!r.settings.always_visible)&&(t||(r.settings.show_icon?("firefox"==pt.name&&u.is('input[type="text"]')&&"inline"==u.css("display")&&u.css("display","inline-block"),tr=n('<span class="Zebra_DatePicker_Icon_Wrapper"><\/span>').css({display:u.css("display"),position:"static"==u.css("position")?"relative":u.css("position"),float:u.css("float"),top:u.css("top"),right:u.css("right"),bottom:u.css("bottom"),left:u.css("left")}),u.wrap(tr).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}),l=n('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"==u.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date<\/button>'),r.icon=l,ri=l.add(u)):ri=u,ri.bind("click",function(n){n.preventDefault();u.attr("disabled")||(s.hasClass("dp_visible")?r.hide():r.show())}),void 0!==l&&l.insertAfter(u)),void 0!==l)){l.attr("style","");r.settings.inside&&l.addClass("Zebra_DatePicker_Icon_Inside");var ir=u.outerWidth(),rr=u.outerHeight(),ur=parseInt(u.css("marginLeft"),10)||0,fr=parseInt(u.css("marginTop"),10)||0,sr=l.outerWidth(),er=l.outerHeight(),hr=parseInt(l.css("marginLeft"),10)||0,cr=parseInt(l.css("marginRight"),10)||0;r.settings.inside?l.css({top:fr+(rr-er)/2,left:ur+(ir-sr-cr)}):l.css({top:fr+(rr-er)/2,left:ur+ir+hr});l.removeClass(" Zebra_DatePicker_Icon_Disabled");"disabled"==u.attr("disabled")&&l.addClass("Zebra_DatePicker_Icon_Disabled")}(gt=r.settings.show_select_today!==!1&&n.inArray("days",k)>-1&&!d(ft,ht,wt)?r.settings.show_select_today:!1,t)||(n(window).bind("resize.Zebra_DatePicker",function(){r.hide();void 0!==l&&(clearTimeout(hi),hi=setTimeout(function(){r.update()},100))}),or='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+r.settings.header_navigation[0]+'<\/td><td class="dp_caption">&#032;<\/td><td class="dp_next">'+r.settings.header_navigation[1]+'<\/td><\/tr><\/table><table class="dp_daypicker"><\/table><table class="dp_monthpicker"><\/table><table class="dp_yearpicker"><\/table><table class="dp_footer"><tr><td class="dp_today"'+(r.settings.show_clear_date!==!1?' style="width:50%"':"")+">"+gt+'<\/td><td class="dp_clear"'+(gt!==!1?' style="width:50%"':"")+">"+r.settings.lang_clear_date+"<\/td><\/tr><\/table><\/div>",s=n(or),r.datepicker=s,ut=n("table.dp_header",s),b=n("table.dp_daypicker",s),nt=n("table.dp_monthpicker",s),tt=n("table.dp_yearpicker",s),vt=n("table.dp_footer",s),dt=n("td.dp_today",vt),st=n("td.dp_clear",vt),r.settings.always_visible?u.attr("disabled")||(r.settings.always_visible.append(s),r.show()):r.settings.container.append(s),s.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseover",function(){n(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","mouseout",function(){n(this).removeClass("dp_hover")}),pi(n("td",ut)),n(".dp_previous",ut).bind("click",function(){"months"==p?f--:"years"==p?f-=12:--e<0&&(e=11,f--);ot()}),n(".dp_caption",ut).bind("click",function(){p="days"==p?n.inArray("months",k)>-1?"months":n.inArray("years",k)>-1?"years":"days":"months"==p?n.inArray("years",k)>-1?"years":n.inArray("days",k)>-1?"days":"months":n.inArray("days",k)>-1?"days":n.inArray("months",k)>-1?"months":"years";ot()}),n(".dp_next",ut).bind("click",function(){"months"==p?f++:"years"==p?f+=12:12==++e&&(e=0,f++);ot()}),b.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){r.settings.select_other_months&&null!==(fi=n(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?ti(fi[1],fi[2]-1,fi[3],"days",n(this)):ti(f,e,o(n(this).html()),"days",n(this))}),nt.delegate("td:not(.dp_disabled)","click",function(){var t=n(this).attr("class").match(/dp\_month\_([0-9]+)/);e=o(t[1]);-1==n.inArray("days",k)?ti(f,e,1,"months",n(this)):(p="days",r.settings.always_visible&&u.val(""),ot())}),tt.delegate("td:not(.dp_disabled)","click",function(){f=o(n(this).html());-1==n.inArray("months",k)?ti(f,1,1,"years",n(this)):(p="months",r.settings.always_visible&&u.val(""),ot())}),n(dt).bind("click",function(t){t.preventDefault();ti(ft,ht,wt,"days",n(".dp_current",b));r.settings.always_visible&&r.show();r.hide()}),n(st).bind("click",function(t){t.preventDefault();u.val("");r.settings.always_visible?(ct=null,rt=null,it=null,n("td.dp_selected",s).removeClass("dp_selected")):(ct=null,rt=null,it=null,e=null,f=null);r.hide();r.settings.onClear&&"function"==typeof r.settings.onClear&&r.settings.onClear.call(u,u)}),r.settings.always_visible||n(document).bind({"mousedown.Zebra_DatePicker":function(t){if(s.hasClass("dp_visible")){if(r.settings.show_icon&&n(t.target).get(0)===l.get(0))return!0;0===n(t.target).parents().filter(".Zebra_DatePicker").length&&r.hide()}},"keyup.Zebra_DatePicker":function(n){s.hasClass("dp_visible")&&27==n.which&&r.hide()}}),ot())};r.destroy=function(){void 0!==r.icon&&r.icon.remove();r.datepicker.remove();n(document).unbind("keyup.Zebra_DatePicker");n(document).unbind("mousedown.Zebra_DatePicker");n(window).unbind("resize.Zebra_DatePicker");u.removeData("Zebra_DatePicker")};r.hide=function(){r.settings.always_visible||(ai("hide"),s.removeClass("dp_visible").addClass("dp_hidden"))};r.show=function(){var t;if(p=r.settings.view,t=ni(u.val()||(r.settings.start_date?r.settings.start_date:"")),t?(rt=t.getMonth(),e=t.getMonth(),it=t.getFullYear(),f=t.getFullYear(),ct=t.getDate(),d(it,rt,ct)&&(r.settings.strict&&u.val(""),e=h,f=c)):(e=h,f=c),ot(),r.settings.always_visible)s.removeClass("dp_hidden").addClass("dp_visible");else{if(r.settings.container.is("body")){var w=s.outerWidth(),y=s.outerHeight(),o=(void 0!==l?l.offset().left+l.outerWidth(!0):u.offset().left+u.outerWidth(!0))+r.settings.offset[0],i=(void 0!==l?l.offset().top:u.offset().top)-y+r.settings.offset[1],b=n(window).width(),k=n(window).height(),a=n(window).scrollTop(),v=n(window).scrollLeft();"below"==r.settings.default_position&&(i=(void 0!==l?l.offset().top:u.offset().top)+r.settings.offset[1]);o+w>v+b&&(o=v+b-w);v>o&&(o=v);i+y>a+k&&(i=a+k-y);a>i&&(i=a);s.css({left:o,top:i})}else s.css({left:0,top:0});s.removeClass("dp_hidden").addClass("dp_visible");ai()}r.settings.onOpen&&"function"==typeof r.settings.onOpen&&r.settings.onOpen.call(u,u)};r.update=function(t){r.original_direction&&(r.original_direction=r.direction);r.settings=n.extend(r.settings,t);ui(!0)};var ni=function(t){var h;if(t+="",""!==n.trim(t)){for(var c=wi(r.settings.format),v=["d","D","j","l","N","S","w","F","m","M","n","Y","y"],f=[],i=[],p=null,u=null,l=0;l<v.length;l++)(p=c.indexOf(v[l]))>-1&&f.push({character:v[l],position:p});if(f.sort(function(n,t){return n.position-t.position}),n.each(f,function(n,t){switch(t.character){case"d":i.push("0[1-9]|[12][0-9]|3[01]");break;case"D":i.push("[a-z]{3}");break;case"j":i.push("[1-9]|[12][0-9]|3[01]");break;case"l":i.push("[a-z]+");break;case"N":i.push("[1-7]");break;case"S":i.push("st|nd|rd|th");break;case"w":i.push("[0-6]");break;case"F":i.push("[a-z]+");break;case"m":i.push("0[1-9]|1[012]+");break;case"M":i.push("[a-z]{3}");break;case"n":i.push("[1-9]|1[012]");break;case"Y":i.push("[0-9]{4}");break;case"y":i.push("[0-9]{2}")}}),i.length&&(f.reverse(),n.each(f,function(n,t){c=c.replace(t.character,"("+i[i.length-n-1]+")")}),i=new RegExp("^"+c+"$","ig"),u=i.exec(t))){var w,b=new Date,y=1,e=b.getMonth()+1,a=b.getFullYear(),k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],s=!0;if((f.reverse(),n.each(f,function(t,i){if(!s)return!0;switch(i.character){case"m":case"n":e=o(u[t+1]);break;case"d":case"j":y=o(u[t+1]);break;case"D":case"l":case"F":case"M":w="D"==i.character||"l"==i.character?r.settings.days:r.settings.months;s=!1;n.each(w,function(n,r){if(s)return!0;if(u[t+1].toLowerCase()==r.substring(0,"D"==i.character||"M"==i.character?3:r.length).toLowerCase()){switch(i.character){case"D":u[t+1]=k[n].substring(0,3);break;case"l":u[t+1]=k[n];break;case"F":u[t+1]=d[n];e=n+1;break;case"M":u[t+1]=d[n].substring(0,3);e=n+1}s=!0}});break;case"Y":a=o(u[t+1]);break;case"y":a="19"+o(u[t+1])}}),s)&&(h=new Date(a,(e||1)-1,y||1),h.getFullYear()==a&&h.getDate()==(y||1)&&h.getMonth()==(e||1)-1))return h}return!1}},pi=function(n){"firefox"==pt.name?n.css("MozUserSelect","none"):"explorer"==pt.name?n.bind("selectstart",function(){return!1}):n.mousedown(function(){return!1})},wi=function(n){return n.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},bi=function(t){for(var h,i="",u=t.getDate(),e=t.getDay(),c=r.settings.days[e],f=t.getMonth()+1,l=r.settings.months[f-1],o=t.getFullYear()+"",s=0;s<r.settings.format.length;s++){h=r.settings.format.charAt(s);switch(h){case"y":o=o.substr(2);case"Y":i+=o;break;case"m":f=a(f,2);case"n":i+=f;break;case"M":l=n.isArray(r.settings.months_abbr)&&void 0!==r.settings.months_abbr[f-1]?r.settings.months_abbr[f-1]:r.settings.months[f-1].substr(0,3);case"F":i+=l;break;case"d":u=a(u,2);case"j":i+=u;break;case"D":c=n.isArray(r.settings.days_abbr)&&void 0!==r.settings.days_abbr[e]?r.settings.days_abbr[e]:r.settings.days[e].substr(0,3);case"l":i+=c;break;case"N":e++;case"w":i+=e;break;case"S":i+=u%10==1&&"11"!=u?"st":u%10==2&&"12"!=u?"nd":u%10==3&&"13"!=u?"rd":"th";break;default:i+=h}}return i},li=function(){var c=new Date(f,e+1,0).getDate(),w=new Date(f,e,1).getDay(),k=new Date(f,e,0).getDate(),o=w-r.settings.first_day_of_week,i,t,u,p,s;for(o=0>o?7+o:o,fi(r.settings.header_captions.days),i="<tr>",r.settings.show_week_number&&(i+="<th>"+r.settings.show_week_number+"<\/th>"),t=0;7>t;t++)i+="<th>"+(n.isArray(r.settings.days_abbr)&&void 0!==r.settings.days_abbr[(r.settings.first_day_of_week+t)%7]?r.settings.days_abbr[(r.settings.first_day_of_week+t)%7]:r.settings.days[(r.settings.first_day_of_week+t)%7].substr(0,2))+"<\/th>";for(i+="<\/tr><tr>",t=0;42>t;t++){if(t>0&&t%7==0&&(i+="<\/tr><tr>"),t%7==0&&r.settings.show_week_number&&(i+='<td class="dp_week_number">'+yi(new Date(f,e,t-o+1))+"<\/td>"),u=t-o+1,r.settings.select_other_months&&(o>t||u>c)){var h=new Date(f,e,u),l=h.getFullYear(),v=h.getMonth(),y=h.getDate();h=l+a(v+1,2)+a(y,2)}o>t?i+='<td class="'+(r.settings.select_other_months&&!d(l,v,y)?"dp_not_in_month_selectable date_"+h:"dp_not_in_month")+'">'+(r.settings.select_other_months||r.settings.show_other_months?a(k-o+t+1,r.settings.zero_pad?2:0):"&nbsp;")+"<\/td>":u>c?i+='<td class="'+(r.settings.select_other_months&&!d(l,v,y)?"dp_not_in_month_selectable date_"+h:"dp_not_in_month")+'">'+(r.settings.select_other_months||r.settings.show_other_months?a(u-c,r.settings.zero_pad?2:0):"&nbsp;")+"<\/td>":(p=(r.settings.first_day_of_week+t)%7,s="",d(f,e,u)?(n.inArray(p,r.settings.weekend_days)>-1?s="dp_weekend_disabled":s+=" dp_disabled",e==ht&&f==ft&&wt==u&&(s+=" dp_disabled_current")):(n.inArray(p,r.settings.weekend_days)>-1&&(s="dp_weekend"),e==rt&&f==it&&ct==u&&(s+=" dp_selected"),e==ht&&f==ft&&wt==u&&(s+=" dp_current")),i+="<td"+(""!==s?' class="'+n.trim(s)+'"':"")+">"+(r.settings.zero_pad?a(u,2):u)+"<\/td>")}i+="<\/tr>";b.html(n(i));r.settings.always_visible&&(ei=n("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",b));b.show()},ki=function(){var i,t,u;for(fi(r.settings.header_captions.months),i="<tr>",t=0;12>t;t++)t>0&&t%3==0&&(i+="<\/tr><tr>"),u="dp_month_"+t,d(f,t)?u+=" dp_disabled":rt!==!1&&rt==t&&f==it?u+=" dp_selected":ht==t&&ft==f&&(u+=" dp_current"),i+='<td class="'+n.trim(u)+'">'+(n.isArray(r.settings.months_abbr)&&void 0!==r.settings.months_abbr[t]?r.settings.months_abbr[t]:r.settings.months[t].substr(0,3))+"<\/td>";i+="<\/tr>";nt.html(n(i));r.settings.always_visible&&(oi=n("td:not(.dp_disabled)",nt));nt.show()},di=function(){var u,t,i;for(fi(r.settings.header_captions.years),u="<tr>",t=0;12>t;t++)t>0&&t%3==0&&(u+="<\/tr><tr>"),i="",d(f-7+t)?i+=" dp_disabled":it&&it==f-7+t?i+=" dp_selected":ft==f-7+t&&(i+=" dp_current"),u+="<td"+(""!==n.trim(i)?' class="'+n.trim(i)+'"':"")+">"+(f-7+t)+"<\/td>";u+="<\/tr>";tt.html(n(u));r.settings.always_visible&&(si=n("td:not(.dp_disabled)",tt));tt.show()},ai=function(t){var r,i;if("explorer"==pt.name&&6==pt.version){bt||(r=o(s.css("zIndex"))-1,bt=n("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:r,position:"absolute",top:-1e3,left:-1e3,width:s.outerWidth(),height:s.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),n("body").append(bt));switch(t){case"hide":bt.hide();break;default:i=s.offset();bt.css({top:i.top,left:i.left,display:"block"})}}},d=function(t,i,u){var e,l,s,f;return(void 0===t||isNaN(t))&&(void 0===i||isNaN(i))&&(void 0===u||isNaN(u))?!1:(n.isArray(r.settings.direction)||0!==o(r.settings.direction))&&((e=o(ii(t,"undefined"!=typeof i?a(i,2):"","undefined"!=typeof u?a(u,2):"")),l=(e+"").length,8==l&&("undefined"!=typeof v&&e<o(ii(c,a(h,2),a(y,2)))||"undefined"!=typeof w&&e>o(ii(et,a(at,2),a(kt,2)))))||6==l&&("undefined"!=typeof v&&e<o(ii(c,a(h,2)))||"undefined"!=typeof w&&e>o(ii(et,a(at,2))))||4==l&&("undefined"!=typeof v&&c>e||"undefined"!=typeof w&&e>et))?!0:("undefined"!=typeof i&&(i+=1),s=!1,f=!1,g&&n.each(g,function(){var r,f;if(!s&&(r=this,(n.inArray(t,r[2])>-1||n.inArray("*",r[2])>-1)&&("undefined"!=typeof i&&n.inArray(i,r[1])>-1||n.inArray("*",r[1])>-1)&&("undefined"!=typeof u&&n.inArray(u,r[0])>-1||n.inArray("*",r[0])>-1)&&("*"==r[3]||(f=new Date(t,i-1,u).getDay(),n.inArray(f,r[3])>-1))))return s=!0}),lt&&n.each(lt,function(){var r,e;if(!f&&(r=this,(n.inArray(t,r[2])>-1||n.inArray("*",r[2])>-1)&&(f=!0,"undefined"!=typeof i)))if(f=!0,n.inArray(i,r[1])>-1||n.inArray("*",r[1])>-1){if("undefined"!=typeof u)if(f=!0,n.inArray(u,r[0])>-1||n.inArray("*",r[0])>-1){if("*"==r[3]||(e=new Date(t,i-1,u).getDay(),n.inArray(e,r[3])>-1))return f=!0;f=!1}else f=!1}else f=!1}),lt&&f?!1:g&&s?!0:!1)},yt=function(n){return(n+"").match(/^\-?[0-9]+$/)?!0:!1},fi=function(t){!isNaN(parseFloat(e))&&isFinite(e)&&(t=t.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(t){switch(t){case"m":return a(e+1,2);case"n":return e+1;case"F":return r.settings.months[e];case"M":return n.isArray(r.settings.months_abbr)&&void 0!==r.settings.months_abbr[e]?r.settings.months_abbr[e]:r.settings.months[e].substr(0,3);default:return t}}));!isNaN(parseFloat(f))&&isFinite(f)&&(t=t.replace(/\bY\b/,f).replace(/\by\b/,(f+"").substr(2)).replace(/\bY1\b/i,f-7).replace(/\bY2\b/i,f+4));n(".dp_caption",ut).html(t)},ot=function(){var t,i,h;""===b.text()||"days"==p?(""===b.text()?(r.settings.always_visible||s.css("left",-1e3),s.css("visibility","visible"),li(),t=b.outerWidth(),i=b.outerHeight(),nt.css({width:t,height:i}),tt.css({width:t,height:i}),ut.css("width",t),vt.css("width",t),s.css("visibility","").addClass("dp_hidden")):li(),nt.hide(),tt.hide()):"months"==p?(ki(),b.hide(),tt.hide()):"years"==p&&(di(),b.hide(),nt.hide());r.settings.onChange&&"function"==typeof r.settings.onChange&&void 0!==p&&(h="days"==p?b.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):"months"==p?nt.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):tt.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"),h.each(function(){var t;"days"==p?n(this).hasClass("dp_not_in_month_selectable")?(t=n(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),n(this).data("date",t[1]+"-"+t[2]+"-"+t[3])):n(this).data("date",f+"-"+a(e+1,2)+"-"+a(o(n(this).text()),2)):"months"==p?(t=n(this).attr("class").match(/dp\_month\_([0-9]+)/),n(this).data("date",f+"-"+a(o(t[1])+1,2))):n(this).data("date",o(n(this).text()))}),r.settings.onChange.call(u,p,h,u));vt.show();r.settings.show_clear_date===!0||0===r.settings.show_clear_date&&""!==u.val()||r.settings.always_visible&&r.settings.show_clear_date!==!1?(st.show(),gt?(dt.css("width","50%"),st.css("width","50%")):(dt.hide(),st.css("width","100%"))):(st.hide(),gt?dt.show().css("width","100%"):vt.hide())},ti=function(n,t,i,o,s){var h=new Date(n,t,i,12,0,0),l="days"==o?ei:"months"==o?oi:si,c=bi(h);u.val(c);r.settings.always_visible&&(rt=h.getMonth(),e=h.getMonth(),it=h.getFullYear(),f=h.getFullYear(),ct=h.getDate(),l.removeClass("dp_selected"),s.addClass("dp_selected"),"days"==o&&s.hasClass("dp_not_in_month_selectable")&&r.show());r.hide();vi(h);r.settings.onSelect&&"function"==typeof r.settings.onSelect&&r.settings.onSelect.call(u,c,n+"-"+a(t+1,2)+"-"+a(i,2),h,u,yi(h));u.focus()},ii=function(){for(var t="",n=0;n<arguments.length;n++)t+=arguments[n]+"";return t},a=function(n,t){for(n+="";n.length<t;)n="0"+n;return n},o=function(n){return parseInt(n,10)},vi=function(t){r.settings.pair&&n.each(r.settings.pair,function(){var r=n(this),i;r.data&&r.data("Zebra_DatePicker")?(i=r.data("Zebra_DatePicker"),i.update({reference_date:t,direction:0===i.settings.direction?1:i.settings.direction}),i.settings.always_visible&&i.show()):r.data("zdp_reference_date",t)})},yi=function(n){var t,r,u,i,s,f,h,e,a,l=n.getFullYear(),c=n.getMonth()+1,o=n.getDate();return 3>c?(t=l-1,r=(t/4|0)-(t/100|0)+(t/400|0),u=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0),i=r-u,s=0,f=o-1+31*(c-1)):(t=l,r=(t/4|0)-(t/100|0)+(t/400|0),u=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0),i=r-u,s=i+1,f=o+((153*(c-3)+2)/5|0)+58+i),h=(t+r)%7,o=(f+h-s)%7,e=f+3-o,a=0>e?53-((h-i)/5|0):e>364+i?1:(e/7|0)+1},pt={init:function(){this.name=this.searchString(this.dataBrowser)||"";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(n){for(var i,r,t=0;t<n.length;t++)if(i=n[t].string,r=n[t].prop,this.versionSearchString=n[t].versionSearch||n[t].identity,i){if(-1!=i.indexOf(n[t].subString))return n[t].identity}else if(r)return n[t].identity},searchVersion:function(n){var t=n.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(n.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};pt.init();ui()};n.fn.Zebra_DatePicker=function(t){return this.each(function(){void 0!==n(this).data("Zebra_DatePicker")&&n(this).data("Zebra_DatePicker").destroy();var i=new n.Zebra_DatePicker(this,t);n(this).data("Zebra_DatePicker",i)})}}(jQuery),function(n){n.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function p(t){if(v){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120);t.detail&&(i=t.detail/3);n(t.target||t.srcTarget||t.srcElement).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0);t.preventDefault&&!o&&t.preventDefault();o||(t.returnValue=!1)}}function h(n,t,i){o=!1;var s=n,h=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),h),s=0<n?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,n=s/u[0].scrollHeight*u.outerHeight(),n=Math.min(Math.max(n,0),h),f.css({top:n+"px"}));u.scrollTop(s);u.trigger("slimscrolling",~~s);b();l()}function it(){window.addEventListener?(this.addEventListener("DOMMouseScroll",p,!1),this.addEventListener("mousewheel",p,!1)):document.attachEvent("onmousewheel",p)}function w(){y=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),30);f.css({height:y+"px"});var n=y==u.outerHeight()?"none":"block";f.css({display:n})}function b(){w();clearTimeout(nt);e==~~e?(o=r.allowPageScroll,tt!=e&&u.trigger("slimscroll",0==~~e?"top":"bottom")):o=!1;tt=e;y>=u.outerHeight()?o=!0:(f.stop(!0,!0).fadeIn("fast"),r.railVisible&&s.stop(!0,!0).fadeIn("fast"))}function l(){r.alwaysVisible||(nt=setTimeout(function(){r.disableFadeOut&&v||k||d||(f.fadeOut("slow"),s.fadeOut("slow"))},1e3))}var v,k,d,nt,g,y,e,tt,o=!1,u=n(this),c;if(u.parent().hasClass(r.wrapperClass)){var a=u.scrollTop(),f=u.parent().find("."+r.barClass),s=u.parent().find("."+r.railClass);if(w(),n.isPlainObject(i)){if("height"in i&&"auto"==i.height&&(u.parent().css("height","auto"),u.css("height","auto"),c=u.parent().parent().height(),u.parent().css("height",c),u.css("height",c)),"scrollTo"in i)a=parseInt(r.scrollTo);else if("scrollBy"in i)a+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}h(a,!1,!0)}}else if(!(n.isPlainObject(i)&&"destroy"in i)){r.height="auto"==r.height?u.parent().height():r.height;a=n("<div><\/div>").addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var s=n("<div><\/div>").addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n("<div><\/div>").addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),c="right"==r.position?{right:r.distance}:{left:r.distance};s.css(c);f.css(c);u.wrap(a);u.parent().append(f);u.parent().append(s);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return d=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){d=!1;l();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){b()},function(){l()});f.hover(function(){k=!0},function(){k=!1});u.hover(function(){v=!0;b();l()},function(){v=!1;l()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(g=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){o||n.originalEvent.preventDefault();n.originalEvent.touches.length&&(h((g-n.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),g=n.originalEvent.touches[0].pageY)});w();"bottom"===r.start?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):"top"!==r.start&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());it()}}),this}});n.fn.extend({slimscroll:n.fn.slimScroll})}(jQuery),function(n){typeof exports=="object"&&exports&&typeof module=="object"&&module&&module.exports===exports?n(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function e(n){var t=n[0];return t.offsetWidth>0&&t.offsetHeight>0}function w(t){var u,r;if(t.minTime&&(t.minTime=i(t.minTime)),t.maxTime&&(t.maxTime=i(t.maxTime)),t.durationTime&&typeof t.durationTime!="function"&&(t.durationTime=i(t.durationTime)),t.scrollDefault=="now"?t.scrollDefault=function(){return t.roundingFunction(i(new Date),t)}:t.scrollDefault&&typeof t.scrollDefault!="function"?(u=t.scrollDefault,t.scrollDefault=function(){return t.roundingFunction(i(u),t)}):t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)}),n.type(t.timeFormat)==="string"&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&t.showOn.indexOf("focus")!=-1&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(r in t.disableTimeRanges)t.disableTimeRanges[r]=[i(t.disableTimeRanges[r][0]),i(t.disableTimeRanges[r][1])];for(t.disableTimeRanges=t.disableTimeRanges.sort(function(n,t){return n[0]-t[0]}),r=t.disableTimeRanges.length-1;r>0;r--)t.disableTimeRanges[r][0]<=t.disableTimeRanges[r-1][1]&&(t.disableTimeRanges[r-1]=[Math.min(t.disableTimeRanges[r][0],t.disableTimeRanges[r-1][0]),Math.max(t.disableTimeRanges[r][1],t.disableTimeRanges[r-1][1])],t.disableTimeRanges.splice(r,1))}return t}function c(t){var e=t.data("timepicker-settings"),h=t.data("timepicker-list"),a,nt,ct,rt,ut,d,y,ot,w,ft,c,st,ht,k;if(h&&h.length&&(h.remove(),t.data("timepicker-list",!1)),e.useSelect?(h=n("<select />",{"class":"ui-timepicker-select"}),a=h):(h=n("<ul />",{"class":"ui-timepicker-list"}),a=n("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),a.css({display:"none",position:"absolute"}).append(h)),e.noneOption)if(e.noneOption===!0&&(e.noneOption=e.useSelect?"Time...":"None"),n.isArray(e.noneOption))for(y in e.noneOption)parseInt(y,10)==y&&(nt=b(e.noneOption[y],e.useSelect),h.append(nt));else nt=b(e.noneOption,e.useSelect),h.append(nt);e.className&&a.addClass(e.className);(e.minTime!==null||e.durationTime!==null)&&e.showDuration&&(ct=typeof e.step=="function"?"function":e.step,a.addClass("ui-timepicker-with-duration"),a.addClass("ui-timepicker-step-"+e.step));rt=e.minTime;typeof e.durationTime=="function"?rt=i(e.durationTime()):e.durationTime!==null&&(rt=e.durationTime);ut=e.minTime!==null?e.minTime:0;d=e.maxTime!==null?e.maxTime:ut+r-1;d<ut&&(d+=r);d===r-1&&n.type(e.timeFormat)==="string"&&e.show2400&&(d=r);var it=e.disableTimeRanges,g=0,lt=it.length,et=e.step;for(typeof et!="function"&&(et=function(){return e.step}),y=ut,ot=0;y<=d;ot++,y+=et(ot)*60)w=y,ft=o(w,e),e.useSelect?(c=n("<option />",{value:ft}),c.text(ft)):(c=n("<li />"),c.addClass(w%86400<43200?"ui-timepicker-am":"ui-timepicker-pm"),c.data("time",w<=86400?w:w%86400),c.text(ft)),(e.minTime!==null||e.durationTime!==null)&&e.showDuration&&(st=tt(y-rt,e.step),e.useSelect?c.text(c.text()+" ("+st+")"):(ht=n("<span />",{"class":"ui-timepicker-duration"}),ht.text(" ("+st+")"),c.append(ht))),g<lt&&(w>=it[g][1]&&(g+=1),it[g]&&w>=it[g][0]&&w<it[g][1]&&(e.useSelect?c.prop("disabled",!0):c.addClass("ui-timepicker-disabled"))),h.append(c);if(a.data("timepicker-input",t),t.data("timepicker-list",a),e.useSelect){t.val()&&h.val(l(i(t.val()),e));h.on("focus",function(){n(this).data("timepicker-input").trigger("showTimepicker")});h.on("blur",function(){n(this).data("timepicker-input").trigger("hideTimepicker")});h.on("change",function(){f(t,n(this).val(),"select")});f(t,h.val(),"initial");t.hide().after(h)}else{k=e.appendTo;typeof k=="string"?k=n(k):typeof k=="function"&&(k=k(t));k.append(a);s(t,h);h.on("mousedown click","li",function(){t.off("focus.timepicker");t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack");t.on("focus.timepicker",u.show)});if(v(t)||t[0].focus(),h.find("li").removeClass("ui-timepicker-selected"),n(this).addClass("ui-timepicker-selected"),p(t)){t.trigger("hideTimepicker");h.on("mouseup.timepicker click.timepicker","li",function(){h.off("mouseup.timepicker click.timepicker");a.hide()})}})}}function b(t,i){var r,u,f;return typeof t=="object"?(r=t.label,u=t.className,f=t.value):typeof t=="string"?r=t:n.error("Invalid noneOption value"),i?n("<option />",{value:f,"class":u,text:r}):n("<li />",{"class":u,text:r}).data("time",String(f))}function l(n,t){return n=t.roundingFunction(n,t),n!==null?o(n,t):void 0}function a(t){if(t.target!=window){var i=n(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(u.hide(),n(document).unbind(".ui-timepicker"),n(window).unbind(".ui-timepicker"))}}function v(n){var t=n.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function y(t,i,r){if(!r&&r!==0)return!1;var u=t.data("timepicker-settings"),f=!1,r=u.roundingFunction(r,u);return i.find("li").each(function(t,i){var u=n(i);if(typeof u.data("time")=="number")return u.data("time")==r?(f=u,!1):void 0}),f}function s(n,t){var u,r,f;(t.find("li").removeClass("ui-timepicker-selected"),u=i(h(n),n.data("timepicker-settings")),u!==null)&&(r=y(n,t,u),r&&(f=r.offset().top-t.offset().top,(f+r.outerHeight()>t.outerHeight()||f<0)&&t.scrollTop(t.scrollTop()+r.position().top-r.outerHeight()),r.addClass("ui-timepicker-selected")))}function k(t,r){var s,u,e,h,c;if(this.value!==""&&r!="timepicker"&&(s=n(this),!s.is(":focus")||t&&t.type=="change")){if(u=s.data("timepicker-settings"),e=i(this.value,u),e===null){s.trigger("timeFormatError");return}h=!1;u.minTime!==null&&e<u.minTime&&u.maxTime!==null&&e>u.maxTime&&(h=!0);n.each(u.disableTimeRanges,function(){if(e>=this[0]&&e<this[1])return h=!0,!1});u.forceRoundTime&&(e=u.roundingFunction(e,u));c=o(e,u);h?f(s,c,"error")&&s.trigger("timeRangeError"):f(s,c)}}function h(n){return n.is("input")?n.val():n.data("ui-timepicker-value")}function f(n,t,r){if(n.is("input")){n.val(t);var u=n.data("timepicker-settings");u.useSelect&&r!="select"&&r!="initial"&&n.data("timepicker-list").val(l(i(t),u))}return n.data("ui-timepicker-value")!=t?(n.data("ui-timepicker-value",t),r=="select"?n.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):r!="error"&&n.trigger("changeTime"),!0):(n.trigger("selectTime"),!1)}function d(n){switch(n.keyCode){case 13:case 9:return;default:n.preventDefault()}}function g(t){var f=n(this),r=f.data("timepicker-list"),i;if(!r||!e(r))if(t.keyCode==40)u.show.call(f.get(0)),r=f.data("timepicker-list"),v(f)||f.focus();else return!0;switch(t.keyCode){case 13:return p(f)&&u.hide.apply(this),t.preventDefault(),!1;case 38:return i=r.find(".ui-timepicker-selected"),i.length?i.is(":first-child")||(i.removeClass("ui-timepicker-selected"),i.prev().addClass("ui-timepicker-selected"),i.prev().position().top<i.outerHeight()&&r.scrollTop(r.scrollTop()-i.outerHeight())):(r.find("li").each(function(t,r){if(n(r).position().top>0)return i=n(r),!1}),i.addClass("ui-timepicker-selected")),!1;case 40:return i=r.find(".ui-timepicker-selected"),i.length===0?(r.find("li").each(function(t,r){if(n(r).position().top>0)return i=n(r),!1}),i.addClass("ui-timepicker-selected")):i.is(":last-child")||(i.removeClass("ui-timepicker-selected"),i.next().addClass("ui-timepicker-selected"),i.next().position().top+2*i.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+i.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected");u.hide();break;case 9:u.hide();break;default:return!0}}function nt(t){var r=n(this),i=r.data("timepicker-list"),u=r.data("timepicker-settings");if(!i||!e(i)||u.disableTextInput)return!0;switch(t.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:u.typeaheadHighlight?s(r,i):i.hide()}}function p(n){var r=n.data("timepicker-settings"),u=n.data("timepicker-list"),t=null,i=u.find(".ui-timepicker-selected");return i.hasClass("ui-timepicker-disabled")?!1:(i.length&&(t=i.data("time")),t!==null&&(typeof t!="string"&&(t=o(t,r)),f(n,t,"select")),!0)}function tt(n,i){n=Math.abs(n);var u=Math.round(n/60),r=[],f,e;return u<60?r=[u,t.mins]:(f=Math.floor(u/60),e=u%60,i==30&&e==30&&(f+=t.decimal+5),r.push(f),r.push(f==1?t.hr:t.hrs),i!=30&&e&&(r.push(e),r.push(t.mins))),r.join(" ")}function o(i,u){var e,f,l,h,s;if(typeof i!="number")return null;var c=parseInt(i%60),s=parseInt(i/60%60),a=parseInt(i/3600%24),o=new Date(1970,0,2,a,s,c,0);if(isNaN(o.getTime()))return null;if(n.type(u.timeFormat)==="function")return u.timeFormat(o);for(e="",h=0;h<u.timeFormat.length;h++){l=u.timeFormat.charAt(h);switch(l){case"a":e+=o.getHours()>11?t.pm:t.am;break;case"A":e+=o.getHours()>11?t.PM:t.AM;break;case"g":f=o.getHours()%12;e+=f===0?"12":f;break;case"G":f=o.getHours();i===r&&(f=u.show2400?24:0);e+=f;break;case"h":f=o.getHours()%12;f!==0&&f<10&&(f="0"+f);e+=f===0?"12":f;break;case"H":f=o.getHours();i===r&&(f=u.show2400?24:0);e+=f>9?f:"0"+f;break;case"i":s=o.getMinutes();e+=s>9?s:"0"+s;break;case"s":c=o.getSeconds();e+=c>9?c:"0"+c;break;case"\\":h++;e+=u.timeFormat.charAt(h);break;default:e+=l}}return e}function i(n,i){var u,e,s,h,c;if(n===""||n===null)return null;if(typeof n=="object")return n.getHours()*3600+n.getMinutes()*60+n.getSeconds();if(typeof n!="string")return n;n=n.toLowerCase().replace(/[\s\.]/g,"");(n.slice(-1)=="a"||n.slice(-1)=="p")&&(n+="m");var l="("+t.am.replace(".","")+"|"+t.pm.replace(".","")+"|"+t.AM.replace(".","")+"|"+t.PM.replace(".","")+")?",a=new RegExp("^"+l+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+l+"$"),f=n.match(a);if(!f)return null;if(u=parseInt(f[2]*1,10),u>24){if(i&&i.wrapHours===!1)return null;u=u%24}e=f[1]||f[5];s=u;u<=12&&e&&(h=e==t.pm||e==t.PM,s=u==12?h?12:0:u+(h?12:0));var v=f[3]*1||0,y=f[4]*1||0,o=s*3600+v*60+y;return u<12&&!e&&i&&i._twelveHourTime&&i.scrollDefault&&(c=o-i.scrollDefault(),c<0&&c>=r/-2&&(o=(o+r/2)%r)),o}var r=86400,t={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},u={init:function(i){return this.each(function(){var r=n(this),o=[],e,f,s;for(e in n.fn.timepicker.defaults)r.data(e)&&(o[e]=r.data(e));if(f=n.extend({},n.fn.timepicker.defaults,o,i),f.lang&&(t=n.extend(t,f.lang)),f=w(f),r.data("timepicker-settings",f),r.addClass("ui-timepicker-input"),f.useSelect)c(r);else{if(r.prop("autocomplete","off"),f.showOn)for(s in f.showOn)r.on(f.showOn[s]+".timepicker",u.show);r.on("change.timepicker",k);r.on("keydown.timepicker",g);r.on("keyup.timepicker",nt);if(f.disableTextInput)r.on("keydown.timepicker",d);k.call(r.get(0))}})},show:function(t){var r=n(this),o=r.data("timepicker-settings"),f,p,b,l,w,k;if(t&&t.preventDefault(),o.useSelect){r.data("timepicker-list").focus();return}if((v(r)&&r.blur(),f=r.data("timepicker-list"),!r.prop("readonly"))&&(f&&f.length!==0&&typeof o.durationTime!="function"||(c(r),f=r.data("timepicker-list")),!e(f))){if(r.data("ui-timepicker-value",r.val()),s(r,f),u.hide(),f.show(),p={},p.left=o.orientation.match(/r/)?r.offset().left+r.outerWidth()-f.outerWidth()+parseInt(f.css("marginLeft").replace("px",""),10):r.offset().left+parseInt(f.css("marginLeft").replace("px",""),10),b=o.orientation.match(/t/)?"t":o.orientation.match(/b/)?"b":r.offset().top+r.outerHeight(!0)+f.outerHeight()>n(window).height()+n(window).scrollTop()?"t":"b",b=="t"?(f.addClass("ui-timepicker-positioned-top"),p.top=r.offset().top-f.outerHeight()+parseInt(f.css("marginTop").replace("px",""),10)):(f.removeClass("ui-timepicker-positioned-top"),p.top=r.offset().top+r.outerHeight()+parseInt(f.css("marginTop").replace("px",""),10)),f.offset(p),l=f.find(".ui-timepicker-selected"),l.length||(w=i(h(r)),w!==null?l=y(r,f,w):o.scrollDefault&&(l=y(r,f,o.scrollDefault()))),l&&l.length?(k=f.scrollTop()+l.position().top-l.outerHeight(),f.scrollTop(k)):f.scrollTop(0),o.stopScrollPropagation)n(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=n(this).scrollTop();n(this).scrollTop(i+t.originalEvent.deltaY)});n(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",a);n(window).on("resize.ui-timepicker",a);if(o.closeOnWindowScroll)n(document).on("scroll.ui-timepicker",a);return r.trigger("showTimepicker"),this}},hide:function(){var t=n(this),i=t.data("timepicker-settings");return i&&i.useSelect&&t.blur(),n(".ui-timepicker-wrapper").each(function(){var i=n(this),t,r;e(i)&&(t=i.data("timepicker-input"),r=t.data("timepicker-settings"),r&&r.selectOnBlur&&p(t),i.hide(),t.trigger("hideTimepicker"))}),this},option:function(t,i){return typeof t=="string"&&typeof i=="undefined"?n(this).data("timepicker-settings")[t]:this.each(function(){var u=n(this),r=u.data("timepicker-settings"),f=u.data("timepicker-list");typeof t=="object"?r=n.extend(r,t):typeof t=="string"&&(r[t]=i);r=w(r);u.data("timepicker-settings",r);f&&(f.remove(),u.data("timepicker-list",!1));r.useSelect&&c(u)})},getSecondsFromMidnight:function(){return i(h(this))},getTime:function(n){var f=this,u=h(f),r,t;return u?(r=i(u),r===null)?null:(n||(n=new Date),t=new Date(n),t.setHours(r/3600),t.setMinutes(r%3600/60),t.setSeconds(r%60),t.setMilliseconds(0),t):null},isVisible:function(){var t=this,n=t.data("timepicker-list");return!!(n&&e(n))},setTime:function(n){var t=this,u=t.data("timepicker-settings"),r;return r=u.forceRoundTime?l(i(n),u):o(i(n),u),n&&r===null&&u.noneOption&&(r=n),f(t,r),t.data("timepicker-list")&&s(t,t.data("timepicker-list")),this},remove:function(){var n=this,t;if(n.hasClass("ui-timepicker-input"))return t=n.data("timepicker-settings"),n.removeAttr("autocomplete","off"),n.removeClass("ui-timepicker-input"),n.removeData("timepicker-settings"),n.off(".timepicker"),n.data("timepicker-list")&&n.data("timepicker-list").remove(),t.useSelect&&n.show(),n.removeData("timepicker-list"),this}};n.fn.timepicker=function(t){if(!this.length)return this;if(u[t])return this.hasClass("ui-timepicker-input")?u[t].apply(this,Array.prototype.slice.call(arguments,1)):this;if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.timepicker");else return u.init.apply(this,arguments)};n.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(n,t){if(n===null)return null;if(typeof t.step!="number")return n;var i=n%(t.step*60);return(i>=t.step*30?n+=t.step*60-i:n-=i,n==r&&t.show2400)?n:n%r},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}}),function(n,t,i){"use strict";function v(n){return function(){for(var i=arguments[0],u,t,r="["+(n?n+":":"")+i+"] http://errors.angularjs.org/1.3.15/"+(n?n+"/":"")+i,i=1;i<arguments.length;i++)r=r+(1==i?"?":"&")+"p"+(i-1)+"=",u=encodeURIComponent,t=arguments[i],t="function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t,r+=u(t);return Error(r)}}function pi(n){if(null==n||bi(n))return!1;var t=n.length;return n.nodeType===yt&&t?!0:a(n)||s(n)||0===t||"number"==typeof t&&0<t&&t-1 in n}function r(n,t,i){var u,f,e;if(n)if(o(n))for(u in n)"prototype"==u||"length"==u||"name"==u||n.hasOwnProperty&&!n.hasOwnProperty(u)||t.call(i,n[u],u,n);else if(s(n)||pi(n))for(e="object"!=typeof n,u=0,f=n.length;u<f;u++)(e||u in n)&&t.call(i,n[u],u,n);else if(n.forEach&&n.forEach!==r)n.forEach(t,i,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n);return n}function ah(n,t,i){for(var r=Object.keys(n).sort(),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function ie(n){return function(t,i){n(i,t)}}function vh(){return++vu}function re(n,t){t?n.$$hashKey=t:delete n.$$hashKey}function l(n){for(var t,u,e=n.$$hashKey,i=1,o=arguments.length;i<o;i++)if(t=arguments[i],t)for(var f=Object.keys(t),r=0,s=f.length;r<s;r++)u=f[r],n[u]=t[u];return re(n,e),n}function g(n){return parseInt(n,10)}function du(n,t){return l(Object.create(n),t)}function h(){}function ct(n){return n}function tt(n){return function(){return n}}function e(n){return"undefined"==typeof n}function u(n){return"undefined"!=typeof n}function c(n){return null!==n&&"object"==typeof n}function a(n){return"string"==typeof n}function b(n){return"number"==typeof n}function it(n){return"[object Date]"===fi.call(n)}function o(n){return"function"==typeof n}function wi(n){return"[object RegExp]"===fi.call(n)}function bi(n){return n&&n.window===n}function ki(n){return n&&n.$evalAsync&&n.$watch}function di(n){return"boolean"==typeof n}function ue(n){return!(!n||!(n.nodeName||n.prop&&n.attr&&n.find))}function yh(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function pt(n){return y(n.nodeName||n[0]&&n[0].nodeName)}function gi(n,t){var i=n.indexOf(t);return 0<=i&&n.splice(i,1),t}function ni(n,t,i,u){var e,f,o;if(bi(n)||ki(n))throw ai("cpws");if(t){if(n===t)throw ai("cpi");if(i=i||[],u=u||[],c(n)){if(e=i.indexOf(n),-1!==e)return u[e];i.push(n);u.push(t)}if(s(n))for(f=t.length=0;f<n.length;f++)e=ni(n[f],null,i,u),c(n[f])&&(i.push(n[f]),u.push(e)),t.push(e);else{o=t.$$hashKey;s(t)?t.length=0:r(t,function(n,i){delete t[i]});for(f in n)n.hasOwnProperty(f)&&(e=ni(n[f],null,i,u),c(n[f])&&(i.push(n[f]),u.push(e)),t[f]=e);re(t,o)}}else(t=n)&&(s(n)?t=ni(n,[],i,u):it(n)?t=new Date(n.getTime()):wi(n)?(t=new RegExp(n.source,n.toString().match(/[^\/]*$/)[0]),t.lastIndex=n.lastIndex):c(n)&&(e=Object.create(Object.getPrototypeOf(n)),t=ni(n,e,i,u)));return t}function lt(n,t){if(s(n)){t=t||[];for(var i=0,r=n.length;i<r;i++)t[i]=n[i]}else if(c(n))for(i in t=t||{},n)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=n[i]);return t||n}function rt(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!==n&&t!==t)return!0;var u=typeof n,r;if(u==typeof t&&"object"==u)if(s(n)){if(!s(t))return!1;if((u=n.length)==t.length){for(r=0;r<u;r++)if(!rt(n[r],t[r]))return!1;return!0}}else{if(it(n))return it(t)?rt(n.getTime(),t.getTime()):!1;if(wi(n))return wi(t)?n.toString()==t.toString():!1;if(ki(n)||ki(t)||bi(n)||bi(t)||s(t)||it(t)||wi(t))return!1;u={};for(r in n)if("$"!==r.charAt(0)&&!o(n[r])){if(!rt(n[r],t[r]))return!1;u[r]=!0}for(r in t)if(!u.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==i&&!o(t[r]))return!1;return!0}return!1}function nr(n,t,i){return n.concat(sr.call(t,i))}function fe(n,t){var i=2<arguments.length?sr.call(arguments,2):[];return!o(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,nr(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function ph(n,r){var u=r;return"string"==typeof n&&"$"===n.charAt(0)&&"$"===n.charAt(1)?u=i:bi(r)?u="$WINDOW":r&&t===r?u="$DOCUMENT":ki(r)&&(u="$SCOPE"),u}function tr(n,t){return"undefined"==typeof n?i:(b(t)||(t=t?2:null),JSON.stringify(n,ph,t))}function ee(n){return a(n)?JSON.parse(n):n}function wt(n){n=f(n).clone();try{n.empty()}catch(i){}var t=f("<div>").append(n).html();try{return n[0].nodeType===pu?y(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(n,t){return"<"+y(t)})}catch(r){return y(t)}}function oe(n){try{return decodeURIComponent(n)}catch(t){}}function se(n){var i={},f,t;return r((n||"").split("&"),function(n){n&&(f=n.replace(/\+/g,"%20").split("="),t=oe(f[0]),u(t)&&(n=u(f[1])?oe(f[1]):!0,es.call(i,t)?s(i[t])?i[t].push(n):i[t]=[i[t],n]:i[t]=n))}),i}function gu(n){var t=[];return r(n,function(n,i){s(n)?r(n,function(n){t.push(ti(i,!0)+(!0===n?"":"="+ti(n,!0)))}):t.push(ti(i,!0)+(!0===n?"":"="+ti(n,!0)))}),t.length?t.join("&"):""}function kr(n){return ti(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ti(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function wh(n,t){var i,r,u=yu.length;for(n=f(n),r=0;r<u;++r)if(i=yu[r]+t,a(i=n.attr(i)))return i;return null}function bh(n,t){var i,u,f={};r(yu,function(t){t+="app";!i&&n.hasAttribute&&n.hasAttribute(t)&&(i=n,u=n.getAttribute(t))});r(yu,function(t){t+="app";var r;!i&&(r=n.querySelector("["+t.replace(":","\\:")+"]"))&&(i=r,u=r.getAttribute(t))});i&&(f.strictDi=null!==wh(i,"strict-di"),t(i,u?[u]:[],f))}function he(i,u,e){c(e)||(e={});e=l({strictDi:!1},e);var s=function(){if(i=f(i),i.injector()){var n=i[0]===t?"document":wt(i);throw ai("btstrpd",n.replace(/</,"&lt;").replace(/>/,"&gt;"));}return u=u||[],u.unshift(["$provide",function(n){n.value("$rootElement",i)}]),e.debugInfoEnabled&&u.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),u.unshift("ng"),n=ur(u,e.strictDi),n.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),n},h=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(n&&h.test(n.name)&&(e.debugInfoEnabled=!0,n.name=n.name.replace(h,"")),n&&!a.test(n.name))return s();n.name=n.name.replace(a,"");nt.resumeBootstrap=function(n){return r(n,function(n){u.push(n)}),s()};o(nt.resumeDeferredBootstrap)&&nt.resumeDeferredBootstrap()}function kh(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function dh(n){if(n=nt.element(n).injector(),!n)throw ai("test");return n.get("$$testability")}function ce(n,t){return t=t||"_",n.replace(ea,function(n,i){return(i?t:"")+n.toLowerCase()})}function gh(){var t;ss||((vt=n.jQuery)&&vt.fn.on?(f=vt,l(vt.fn,{scope:ei.scope,isolateScope:ei.isolateScope,controller:ei.controller,injector:ei.injector,inheritedData:ei.inheritedData}),t=vt.cleanData,vt.cleanData=function(n){var u,i,r;if(yf)yf=!1;else for(i=0;null!=(r=n[i]);i++)(u=vt._data(r,"events"))&&u.$destroy&&vt(r).triggerHandler("$destroy");t(n)}):f=w,nt.element=f,ss=!0)}function nf(n,t,i){if(!n)throw ai("areq",t||"?",i||"required");return n}function dr(n,t,i){return i&&s(n)&&(n=n[n.length-1]),nf(o(n),t,"not a function, got "+(n&&"object"==typeof n?n.constructor.name||"Object":typeof n)),n}function si(n,t){if("hasOwnProperty"===n)throw ai("badname",t);}function le(n,t,i){if(!t)return n;t=t.split(".");for(var u,f=n,e=t.length,r=0;r<e;r++)u=t[r],n&&(n=(f=n)[u]);return!i&&o(n)?fe(f,n):n}function gr(n){var t=n[0],i;n=n[n.length-1];i=[t];do{if(t=t.nextSibling,!t)break;i.push(t)}while(t!==n);return f(i)}function ut(){return Object.create(null)}function nc(n){function t(n,t,i){return n[t]||(n[t]=i())}var i=v("$injector"),r=v("ng");return n=t(n,"angular",Object),n.$$minErr=n.$$minErr||v,t(n,"module",function(){var n={};return function(u,f,e){if("hasOwnProperty"===u)throw r("badname","module");return f&&n.hasOwnProperty(u)&&(n[u]=null),t(n,u,function(){function n(n,i,r,u){return u||(u=t),function(){return u[r||"push"]([n,i,arguments]),h}}if(!f)throw i("nomod",u);var t=[],r=[],o=[],s=n("$injector","invoke","push",r),h={_invokeQueue:t,_configBlocks:r,_runBlocks:o,requires:f,name:u,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:n("$provide","value"),constant:n("$provide","constant","unshift"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),config:s,run:function(n){return o.push(n),this}};return e&&s(e),h})}})}function tc(t){l(t,{bootstrap:he,copy:ni,extend:l,equals:rt,element:f,forEach:r,injector:ur,noop:h,bind:fe,toJson:tr,fromJson:ee,identity:ct,isUndefined:e,isDefined:u,isString:a,isFunction:o,isObject:c,isNumber:b,isElement:ue,isArray:s,version:oa,isDate:it,lowercase:y,uppercase:au,callbacks:{counter:0},getTestability:dh,$$minErr:v,$$csp:cr,reloadWithDebugInfo:kh});hr=nc(n);try{hr("ngLocale")}catch(i){hr("ngLocale",[]).provider("$locale",tl)}hr("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:ll});n.provider("$compile",ge).directive({a:ks,input:uh,textarea:uh,form:pv,script:cp,select:vp,style:pp,option:yp,ngBind:iy,ngBindHtml:uy,ngBindTemplate:ry,ngClass:ey,ngClassEven:sy,ngClassOdd:oy,ngCloak:hy,ngController:cy,ngForm:wv,ngHide:up,ngIf:ay,ngInclude:vy,ngInit:py,ngNonBindable:np,ngPluralize:tp,ngRepeat:ip,ngShow:rp,ngStyle:fp,ngSwitch:ep,ngSwitchWhen:op,ngSwitchDefault:sp,ngOptions:ap,ngTransclude:hp,ngModel:ky,ngList:wy,ngChange:fy,pattern:hh,ngPattern:hh,required:sh,ngRequired:sh,minlength:lh,ngMinlength:lh,maxlength:ch,ngMaxlength:ch,ngValue:ty,ngModelOptions:gy}).directive({ngInclude:yy}).directive(pr).directive(fh);n.provider({$anchorScroll:oc,$animate:ka,$browser:cc,$cacheFactory:lc,$controller:vc,$document:yc,$exceptionHandler:pc,$filter:vo,$interpolate:gc,$interval:nl,$http:wc,$httpBackend:kc,$location:il,$log:rl,$parse:el,$rootScope:cl,$q:ol,$$q:sl,$sce:yl,$sceDelegate:vl,$sniffer:pl,$templateCache:ac,$templateRequest:wl,$$testability:bl,$timeout:kl,$window:dl,$$rAF:hl,$$asyncCallback:sc,$$jqLite:fc})}])}function ir(n){return n.replace(sa,function(n,t,i,r){return r?i.toUpperCase():i}).replace(ha,"Moz$1")}function ae(n){return n=n.nodeType,n===yt||!n||9===n}function ve(n,t){var i,u,f=t.createDocumentFragment(),e=[];if(wf.test(n)){for(i=i||f.appendChild(t.createElement("div")),u=(aa.exec(n)||["",""])[1].toLowerCase(),u=et[u]||et._default,i.innerHTML=u[1]+n.replace(va,"<$1><\/$2>")+u[2],u=u[0];u--;)i=i.lastChild;e=nr(e,i.childNodes);i=f.firstChild;i.textContent=""}else e.push(t.createTextNode(n));return f.textContent="",f.innerHTML="",r(e,function(n){f.appendChild(n)}),f}function w(n){var i,r;if(n instanceof w)return n;if(a(n)&&(n=p(n),i=!0),!(this instanceof w)){if(i&&"<"!=n.charAt(0))throw pf("nosel");return new w(n)}i&&(i=t,n=(r=la.exec(n))?[i.createElement(r[1])]:(r=ve(n,i))?r.childNodes:[]);pe(this,n)}function tf(n){return n.cloneNode(!0)}function nu(n,t){if(t||tu(n),n.querySelectorAll)for(var r=n.querySelectorAll("*"),i=0,u=r.length;i<u;i++)tu(r[i])}function ye(n,t,i,f){if(u(f))throw pf("offargs");var e=(f=iu(n))&&f.events,o=f&&f.handle;if(o)if(t)r(t.split(" "),function(t){if(u(i)){var r=e[t];if(gi(r||[],i),r&&0<r.length)return}n.removeEventListener(t,o,!1);delete e[t]});else for(t in e)"$destroy"!==t&&n.removeEventListener(t,o,!1),delete e[t]}function tu(n,t){var u=n.ng339,r=u&&lr[u];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ye(n)),delete lr[u],n.ng339=i))}function iu(n,t){var r=n.ng339,r=r&&lr[r];return t&&!r&&(n.ng339=r=++hs,r=lr[r]={events:{},data:{},handle:i}),r}function rf(n,t,i){if(ae(n)){var r=u(i),f=!r&&t&&!c(t),e=!t;if(n=(n=iu(n,!f))&&n.data,r)n[t]=i;else{if(e)return n;if(f)return n&&n[t];l(n,t)}}}function ru(n,t){return n.getAttribute?-1<(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function uu(n,t){t&&n.setAttribute&&r(t.split(" "),function(t){n.setAttribute("class",p((" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+p(t)+" "," ")))})}function fu(n,t){if(t&&n.setAttribute){var i=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(n){n=p(n);-1===i.indexOf(" "+n+" ")&&(i+=n+" ")});n.setAttribute("class",p(i))}}function pe(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,"number"==typeof i&&t.window!==t){if(i)for(r=0;r<i;r++)n[n.length++]=t[r]}else n[n.length++]=t}function we(n,t){return eu(n,"$"+(t||"ngController")+"Controller")}function eu(n,t,r){for(9==n.nodeType&&(n=n.documentElement),t=s(t)?t:[t];n;){for(var u=0,e=t.length;u<e;u++)if((r=f.data(n,t[u]))!==i)return r;n=n.parentNode||11===n.nodeType&&n.host}}function be(n){for(nu(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function ke(n,t){t||nu(n);var i=n.parentNode;i&&i.removeChild(n)}function ic(t,i){if(i=i||n,"complete"===i.document.readyState)i.setTimeout(t);else f(i).on("load",t)}function de(n,t){var i=ar[t.toLowerCase()];return i&&bf[pt(n)]&&i}function rc(n,t){var i=n.nodeName;return("INPUT"===i||"TEXTAREA"===i)&&kf[t]}function uc(n,t){var i=function(i,r){var u,f,s,o;if(i.isDefaultPrevented=function(){return i.defaultPrevented},u=t[r||i.type],f=u?u.length:0,f)for(e(i.immediatePropagationStopped)&&(s=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();s&&s.call(i)}),i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped},1<f&&(u=lt(u)),o=0;o<f;o++)i.isImmediatePropagationStopped()||u[o].call(n,i)};return i.elem=n,i}function fc(){this.$get=function(){return l(w,{hasClass:function(n,t){return n.attr&&(n=n[0]),ru(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),fu(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),uu(n,t)}})}}function hi(n,t){var i=n&&n.$$hashKey;return i?("function"==typeof i&&(i=n.$$hashKey()),i):(i=typeof n,"function"==i||"object"==i&&null!==n?n.$$hashKey=i+":"+(t||vh)():i+":"+n)}function rr(n,t){if(t){var i=0;this.nextUid=function(){return++i}}r(n,this.put,this)}function ec(n){return(n=n.toString().replace(ls,"").match(cs))?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ur(n,t){function l(n){return function(t,i){if(c(t))r(t,ie(n));else return n(t,i)}}function k(n,t){if(si(n,"service"),(o(t)||s(t))&&(t=u.instantiate(t)),!t.$get)throw oi("pget",n);return y[n+"Provider"]=t}function rt(n,t){return function(){var i=f.invoke(t,this);if(e(i))throw oi("undef",n);return i}}function p(n,t,i){return k(n,{$get:!1!==i?rt(n,t):t})}function d(n){var t=[],i;return r(n,function(n){function f(n){for(var i,r,t=0,f=n.length;t<f;t++)i=n[t],r=u.get(i[0]),r[i[1]].apply(r,i[2])}if(!it.get(n)){it.put(n,!0);try{a(n)?(i=hr(n),t=t.concat(d(i.requires)).concat(i._runBlocks),f(i._invokeQueue),f(i._configBlocks)):o(n)?t.push(u.invoke(n)):s(n)?t.push(u.invoke(n)):dr(n,"module")}catch(r){throw s(n)&&(n=n[n.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),oi("modulerr",n,r.stack||r.message||r);}}}),t}function g(n,i){function r(t,r){if(n.hasOwnProperty(t)){if(n[t]===w)throw oi("cdep",t+" <- "+v.join(" <- "));return n[t]}try{return v.unshift(t),n[t]=w,n[t]=i(t,r)}catch(u){throw n[t]===w&&delete n[t],u;}finally{v.shift()}}function u(n,i,u,f){"string"==typeof u&&(f=u,u=null);for(var c=[],l=ur.$$annotate(n,t,f),e,o=0,h=l.length;o<h;o++){if(e=l[o],"string"!=typeof e)throw oi("itkn",e);c.push(u&&u.hasOwnProperty(e)?u[e]:r(e,f))}return s(n)&&(n=n[h]),n.apply(i,c)}return{invoke:u,instantiate:function(n,t,i){var r=Object.create((s(n)?n[n.length-1]:n).prototype||null);return n=u(n,r,t,i),c(n)||o(n)?n:r},get:r,annotate:ur.$$annotate,has:function(t){return y.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}t=!0===t;var w={},v=[],it=new rr([],!0),y={$provide:{provider:l(k),factory:l(p),service:l(function(n,t){return p(n,["$injector",function(n){return n.instantiate(t)}])}),value:l(function(n,t){return p(n,tt(t),!1)}),constant:l(function(n,t){si(n,"constant");y[n]=t;b[n]=t}),decorator:function(n,t){var i=u.get(n+"Provider"),r=i.$get;i.$get=function(){var n=f.invoke(r,i);return f.invoke(t,null,{$delegate:n})}}}},u=y.$injector=g(y,function(n,t){nt.isString(t)&&v.push(t);throw oi("unpr",v.join(" <- "));}),b={},f=b.$injector=g(b,function(n,t){var r=u.get(n+"Provider",t);return f.invoke(r.$get,r,i,n)});return r(d(n),function(n){f.invoke(n||h)}),f}function oc(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function s(n){var t=null;return Array.prototype.some.call(n,function(n){if("a"===pt(n))return t=n,!0}),t}function u(n){if(n){n.scrollIntoView();var i;i=f.yOffset;o(i)?i=i():ue(i)?(i=i[0],i="fixed"!==t.getComputedStyle(i).position?0:i.getBoundingClientRect().bottom):b(i)||(i=0);i&&(n=n.getBoundingClientRect().top,t.scrollBy(0,n-i))}else t.scrollTo(0,0)}function f(){var n=i.hash(),t;n?(t=e.getElementById(n))?u(t):(t=s(e.getElementsByName(n)))?u(t):"top"===n&&u(null):u(null)}var e=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){n===t&&""===n||ic(function(){r.$evalAsync(f)})}),f}]}function sc(){this.$get=["$$rAF","$timeout",function(n,t){return n.supported?function(t){return n(t)}:function(n){return t(n,0,!1)}}]}function hc(n,t,u,o){function tt(n){try{n.apply(null,sr.call(arguments,1))}finally{if(v--,0===v)for(;d.length;)try{d.pop()()}catch(t){u.error(t)}}}function pt(n,t){(function i(){r(g,function(n){n()});ct=t(i,n)})()}function et(){it();ot()}function it(){n:{try{c=b.state;break n}catch(n){}c=void 0}c=e(c)?null:c;rt(c,ut)&&(c=ut);ut=c}function ot(){(p!==s.url()||y!==c)&&(p=s.url(),y=c,r(at,function(n){n(s.url(),c)}))}function st(n){try{return decodeURIComponent(n)}catch(t){return n}}var s=this,w=t[0],l=n.location,b=n.history,ht=n.setTimeout,wt=n.clearTimeout,k={},v,d,g,ct;s.isMock=!1;v=0;d=[];s.$$completeOutstandingRequest=tt;s.$$incOutstandingRequestCount=function(){v++};s.notifyWhenNoOutstandingRequests=function(n){r(g,function(n){n()});0===v?n():d.push(n)};g=[];s.addPollFn=function(n){return e(ct)&&pt(100,ht),g.push(n),n};var c,y,p=l.href,bt=t.find("base"),lt=null;it();y=c;s.url=function(t,i,r){var f,u;return(e(r)&&(r=null),l!==n.location&&(l=n.location),b!==n.history&&(b=n.history),t)?(f=y===r,p===t&&(!o.history||f))?s:(u=p&&ii(p)===ii(t),p=t,y=r,!o.history||u&&f?(u||(lt=t),i?l.replace(t):u?(i=l,r=t.indexOf("#"),t=-1===r?"":t.substr(r+1),i.hash=t):l.href=t):(b[i?"replaceState":"pushState"](r,"",t),it(),y=c),s):lt||l.href.replace(/%27/g,"'")};s.state=function(){return c};var at=[],vt=!1,ut=null;s.onUrlChange=function(t){if(!vt){if(o.history)f(n).on("popstate",et);f(n).on("hashchange",et);vt=!0}return at.push(t),t};s.$$checkUrlChange=ot;s.baseHref=function(){var n=bt.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var nt={},ft="",yt=s.baseHref();s.cookies=function(n,t){var r,f,e,o;if(n)t===i?w.cookie=encodeURIComponent(n)+"=;path="+yt+";expires=Thu, 01 Jan 1970 00:00:00 GMT":a(t)&&(r=(w.cookie=encodeURIComponent(n)+"="+encodeURIComponent(t)+";path="+yt).length+1,4096<r&&u.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"));else{if(w.cookie!==ft)for(ft=w.cookie,r=ft.split("; "),nt={},e=0;e<r.length;e++)f=r[e],o=f.indexOf("="),0<o&&(n=st(f.substring(0,o)),nt[n]===i&&(nt[n]=st(f.substring(o+1))));return nt}};s.defer=function(n,t){var i;return v++,i=ht(function(){delete k[i];tt(n)},t||0),k[i]=!0,i};s.defer.cancel=function(n){return k[n]?(delete k[n],wt(n),tt(h),!0):!1}}function cc(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new hc(n,r,t,i)}]}function lc(){this.$get=function(){function t(t,i){function a(n){n!=f&&(r?r==n&&(r=n.n):r=n,c(n.n,n.p),c(n,f),f=n,f.n=null)}function c(n,t){n!=t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw v("$cacheFactory")("iid",t);var s=0,y=l({},i,{id:t}),o={},h=i&&i.capacity||Number.MAX_VALUE,u={},f=null,r=null;return n[t]={put:function(n,t){if(h<Number.MAX_VALUE){var i=u[n]||(u[n]={key:n});a(i)}if(!e(t))return n in o||s++,o[n]=t,s>h&&this.remove(r.key),t},get:function(n){if(h<Number.MAX_VALUE){var t=u[n];if(!t)return;a(t)}return o[n]},remove:function(n){if(h<Number.MAX_VALUE){var t=u[n];if(!t)return;t==f&&(f=t.p);t==r&&(r=t.n);c(t.n,t.p);delete u[n]}delete o[n];s--},removeAll:function(){o={};s=0;u={};f=r=null},destroy:function(){u=y=o=null;delete n[t]},info:function(){return l({},y,{size:s})}}}var n={};return t.info=function(){var t={};return r(n,function(n,i){t[i]=n.info()}),t},t.get=function(t){return n[t]},t}}function ac(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function ge(n,e){function b(n,t){var u=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return r(n,function(n,r){var f=n.match(u);if(!f)throw ot("iscp",t,r,n);i[r]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||r}}),i}var w={},k=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=yh("ngSrc,ngSrcset,src,srcset"),nt=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,it=/^(on[a-z]+|formaction)$/,v;this.directive=function ft(t,i){return si(t,"directive"),a(t)?(nf(i,"directiveFactory"),w.hasOwnProperty(t)||(w[t]=[],n.factory(t+"Directive",["$injector","$exceptionHandler",function(n,i){var u=[];return r(w[t],function(r,f){try{var e=n.invoke(r);o(e)?e={compile:tt(e)}:!e.compile&&e.link&&(e.compile=tt(e.link));e.priority=e.priority||0;e.index=f;e.name=e.name||t;e.require=e.require||e.controller&&e.name;e.restrict=e.restrict||"EA";c(e.scope)&&(e.$$isolateBindings=b(e.scope,e.name));u.push(e)}catch(s){i(s)}}),u}])),w[t].push(i)):r(t,ie(ft)),this};this.aHrefSanitizationWhitelist=function(n){return u(n)?(e.aHrefSanitizationWhitelist(n),this):e.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(e.imgSrcSanitizationWhitelist(n),this):e.imgSrcSanitizationWhitelist()};v=!0;this.debugInfoEnabled=function(n){return u(n)?(v=n,this):v};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(n,u,e,b,tt,ft,et,st,ht,lt,at){function gt(n,t){try{n.addClass(t)}catch(i){}}function kt(n,t,i,u,e){var s,o;return n instanceof f||(n=f(n)),r(n,function(t,i){t.nodeType==pu&&t.nodeValue.match(/\S+/)&&(n[i]=f(t).wrap("<span><\/span>").parent()[0])}),s=ri(n,t,n,i,u,e),kt.$$addScopeClass(n),o=null,function(t,i,r){var u,e,h;if(nf(t,"scope"),r=r||{},u=r.parentBoundTranscludeFn,e=r.transcludeControllers,r=r.futureParentElement,u&&u.$$boundTransclude&&(u=u.$$boundTransclude),o||(o=(r=r&&r[0])?"foreignobject"!==pt(r)&&r.toString().match(/SVG/)?"svg":"html":"html"),r="html"!==o?f(fi(o,f("<div>").append(n).html())):i?ei.clone.call(n):n,e)for(h in e)r.data("$"+h+"Controller",e[h].instance);return kt.$$addScopeInfo(r,t),i&&i(r,t),s&&s(t,r,r,u),r}}function ri(n,t,r,u,e,o){function p(n,r,u,e){var h,c,l,o,y,p,a;if(v)for(a=Array(r.length),o=0;o<s.length;o+=3)h=s[o],a[h]=r[h];else a=r;for(o=0,y=s.length;o<y;)c=a[s[o++]],r=s[o++],h=s[o++],r?(r.scope?(l=n.$new(),kt.$$addScopeInfo(f(c),l)):l=n,p=r.transcludeOnThisElement?ni(n,r.transclude,e,r.elementTranscludeOnThisElement):!r.templateOnThisElement&&e?e:!e&&t?ni(n,t):null,r(h,l,c,u,p)):h&&h(n,c.childNodes,i,e)}for(var s=[],h,l,a,y,v,c=0;c<n.length;c++)h=new oi,l=ui(n[c],[],h,0===c?u:i,e),(o=l.length?ci(l,n[c],h,t,r,null,[],[],o):null)&&o.scope&&kt.$$addScopeClass(h.$$element),h=o&&o.terminal||!(a=n[c].childNodes)||!a.length?null:ri(a,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||h)&&(s.push(c,o,h),y=!0,v=v||o),o=null;return y?p:null}function ni(n,t,i){return function(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}}function ui(n,t,i,r,u){var b=i.$attr,e,v,y,w;switch(n.nodeType){case yt:ti(t,bt(pt(n)),"E",r,u);for(var f,o,s,h=n.attributes,l=0,g=h&&h.length;l<g;l++)v=!1,y=!1,f=h[l],e=f.name,o=p(f.value),f=bt(e),(s=fr.test(f))&&(e=e.replace(as,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),w=f.replace(/(Start|End)$/,""),di(w)&&f===w+"Start"&&(v=e,y=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),f=bt(e.toLowerCase()),b[f]=e,(s||!i.hasOwnProperty(f))&&(i[f]=o,de(n,f)&&(i[f]=!0)),ur(n,t,o,f,s),ti(t,f,"A",r,u,v,y);if(n=n.className,c(n)&&(n=n.animVal),a(n)&&""!==n)for(;e=d.exec(n);)f=bt(e[2]),ti(t,f,"C",r,u)&&(i[f]=p(e[3])),n=n.substr(e.index+e[0].length);break;case pu:ir(t,n.nodeValue);break;case 8:try{(e=k.exec(n.nodeValue))&&(f=bt(e[1]),ti(t,f,"M",r,u)&&(i[f]=p(e[2])))}catch(nt){}}return t.sort(tr),t}function si(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw ot("uterdir",t,i);n.nodeType==yt&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(0<u)}else r.push(n);return f(r)}function hi(n,t,i){return function(r,u,f,e,o){return u=si(u[0],t,i),n(r,u,f,e,o)}}function ci(n,h,l,v,y,w,b,k,d){function tr(n,t,i,r){n&&(i&&(n=hi(n,i,r)),n.require=g.require,n.directiveName=st,(ut===g||g.$$isolateScope)&&(n=vi(n,{isolateScope:!0})),b.push(n));t&&(i&&(t=hi(t,i,r)),t.require=g.require,t.directiveName=st,(ut===g||g.$$isolateScope)&&(t=vi(t,{isolateScope:!0})),k.push(t))}function wi(n,t,i,u){var f,o="data",h=!1,c=i,e;if(a(t)){if(e=t.match(nt),t=t.substring(e[0].length),e[3]&&(e[1]?e[3]=null:e[1]=e[3]),"^"===e[1]?o="inheritedData":"^^"===e[1]&&(o="inheritedData",c=i.parent()),"?"===e[2]&&(h=!0),f=null,u&&"data"===o&&(f=u[t])&&(f=f.instance),f=f||c[o]("$"+t+"Controller"),!f&&!h)throw ot("ctreq",t,n);return f||null}return s(t)&&(f=[],r(t,function(t){f.push(wi(n,t,i,u))})),f}function ht(n,t,e,o,s){function et(n,t,r){var u;return ki(n)||(r=t,t=n,n=i),pt&&(u=w),r||(r=pt?a.parent():a),s(n,t,u,r,nt)}var it,v,g,p,w,d,a,c,y,nt;for(h===e?(c=l,a=l.$$element):(a=f(e),c=new oi(a,l)),ut&&(p=t.$new(!0)),s&&(d=et,d.$$boundTransclude=s),lt&&(at={},w={},r(lt,function(n){var i={$scope:n===ut||n.$$isolateScope?p:t,$element:a,$attrs:c,$transclude:d};g=n.controller;"@"==g&&(g=c[n.name]);i=ft(g,i,!0,n.controllerAs);w[n.name]=i;pt||a.data("$"+n.name+"Controller",i.instance);at[n.name]=i})),ut&&(kt.$$addScopeInfo(a,p,!0,!(ct&&(ct===ut||ct===ut.$$originalDirective))),kt.$$addScopeClass(a,!0),o=at&&at[ut.name],y=p,o&&o.identifier&&!0===ut.bindToController&&(y=o.instance),r(p.$$isolateBindings=ut.$$isolateBindings,function(n,i){var r=n.attrName,e=n.optional,o,f,h,s;switch(n.mode){case"@":c.$observe(r,function(n){y[i]=n});c.$$observers[r].$$scope=t;c[r]&&(y[i]=u(c[r])(t));break;case"=":if(e&&!c[r])break;f=tt(c[r]);s=f.literal?rt:function(n,t){return n===t||n!==n&&t!==t};h=f.assign||function(){o=y[i]=f(t);throw ot("nonassign",c[r],ut.name);};o=y[i]=f(t);e=function(n){return s(n,y[i])||(s(n,o)?h(t,n=y[i]):y[i]=n),o=n};e.$stateful=!0;e=n.collection?t.$watchCollection(c[r],e):t.$watch(tt(c[r],e),null,f.literal);p.$on("$destroy",e);break;case"&":f=tt(c[r]);y[i]=function(n){return f(t,n)}}})),at&&(r(at,function(n){n()}),at=null),o=0,it=b.length;o<it;o++)v=b[o],yi(v,v.isolateScope?p:t,a,c,v.require&&wi(v.directiveName,v.require,a,w),d);for(nt=t,ut&&(ut.template||null===ut.templateUrl)&&(nt=p),n&&n(nt,e.childNodes,i,s),o=k.length-1;0<=o;o--)v=k[o],yi(v,v.isolateScope?p:t,a,c,v.require&&wi(v.directiveName,v.require,a,w),d)}var ei,pi,ir;d=d||{};for(var ni=-Number.MAX_VALUE,ti,lt=d.controllerDirectives,at,ut=d.newIsolateScopeDirective,ct=d.templateDirective,ci=d.nonTlbTranscludeDirective,di=!1,gi=!1,pt=d.hasElementTranscludeDirective,et=l.$$element=f(h),g,st,it,ri=v,bt,vt=0,gt=n.length;vt<gt;vt++){if(g=n[vt],ei=g.$$start,pi=g.$$end,ei&&(et=si(h,ei,pi)),it=i,ni>g.priority)break;if((it=g.scope)&&(g.templateUrl||(c(it)?(dt("new/isolated scope",ut||ti,g,et),ut=g):dt("new/isolated scope",ut,g,et)),ti=ti||g),st=g.name,!g.templateUrl&&g.controller&&(it=g.controller,lt=lt||{},dt("'"+st+"' controller",lt[st],g,et),lt[st]=g),(it=g.transclude)&&(di=!0,g.$$tlb||(dt("transclusion",ci,g,et),ci=g),"element"==it?(pt=!0,ni=g.priority,it=et,et=l.$$element=f(t.createComment(" "+st+": "+l[st]+" ")),h=et[0],ii(y,sr.call(it,0),h),ri=kt(it,v,ni,w&&w.name,{nonTlbTranscludeDirective:ci})):(it=f(tf(h)).contents(),et.empty(),ri=kt(it,v))),g.template)if(gi=!0,dt("template",ct,g,et),ct=g,it=o(g.template)?g.template(et,l):g.template,it=bi(it),g.replace){if(w=g,it=wf.test(it)?to(fi(g.templateNamespace,p(it))):[],h=it[0],1!=it.length||h.nodeType!==yt)throw ot("tplrt",st,"");ii(y,et,h);gt={$attr:{}};it=ui(h,[],gt);ir=n.splice(vt+1,n.length-(vt+1));ut&&li(it);n=n.concat(it).concat(ir);ai(l,gt);gt=n.length}else et.html(it);if(g.templateUrl)gi=!0,dt("template",ct,g,et),ct=g,g.replace&&(w=g),ht=nr(n.splice(vt,n.length-vt),et,l,y,di&&ri,b,k,{controllerDirectives:lt,newIsolateScopeDirective:ut,templateDirective:ct,nonTlbTranscludeDirective:ci}),gt=n.length;else if(g.compile)try{bt=g.compile(et,l,ri);o(bt)?tr(null,bt,ei,pi):bt&&tr(bt.pre,bt.post,ei,pi)}catch(rr){e(rr,wt(et))}g.terminal&&(ht.terminal=!0,ni=Math.max(ni,g.priority))}return ht.scope=ti&&!0===ti.scope,ht.transcludeOnThisElement=di,ht.elementTranscludeOnThisElement=pt,ht.templateOnThisElement=gi,ht.transclude=ri,d.hasElementTranscludeDirective=pt,ht}function li(n){for(var t=0,i=n.length;t<i;t++)n[t]=du(n[t],{$$isolateScope:!0})}function ti(t,r,u,f,o,s,h){var c,l,a;if(r===o)return null;if(o=null,w.hasOwnProperty(r))for(r=n.get(r+"Directive"),l=0,a=r.length;l<a;l++)try{c=r[l];(f===i||f>c.priority)&&-1!=c.restrict.indexOf(u)&&(s&&(c=du(c,{$$start:s,$$end:h})),t.push(c),o=c)}catch(v){e(v)}return o}function di(t){if(w.hasOwnProperty(t))for(var r=n.get(t+"Directive"),i=0,u=r.length;i<u;i++)if(t=r[i],t.multiElement)return!0;return!1}function ai(n,t){var u=t.$attr,f=n.$attr,i=n.$$element;r(n,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),n.$set(r,i,!0,u[r]))});r(t,function(t,r){"class"==r?(gt(i,t),n["class"]=(n["class"]?n["class"]+" ":"")+t):"style"==r?(i.attr("style",i.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==r.charAt(0)||n.hasOwnProperty(r)||(n[r]=t,f[r]=u[r])})}function nr(n,t,i,u,e,s,h,l){var v=[],y,w,k=t[0],a=n.shift(),g=du(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),d=o(a.templateUrl)?a.templateUrl(t,i):a.templateUrl,nt=a.templateNamespace;return t.empty(),b(ht.getTrustedResourceUrl(d)).then(function(o){var b,it,tt,ut;if(o=bi(o),a.replace){if(o=wf.test(o)?to(fi(nt,p(o))):[],b=o[0],1!=o.length||b.nodeType!==yt)throw ot("tplrt",a.name,d);o={$attr:{}};ii(u,t,b);tt=ui(b,[],o);c(a.scope)&&li(tt);n=tt.concat(n);ai(i,o)}else b=k,t.html(o);for(n.unshift(g),y=ci(n,b,i,e,t,a,s,h,l),r(u,function(n,i){n==b&&(u[i]=t[0])}),w=ri(t[0].childNodes,e);v.length;){o=v.shift();it=v.shift();var ft=v.shift(),rt=v.shift(),tt=t[0];o.$$destroyed||(it!==k&&(ut=it.className,l.hasElementTranscludeDirective&&a.replace||(tt=tf(b)),ii(ft,f(it),tt),gt(f(tt),ut)),it=y.transcludeOnThisElement?ni(o,y.transclude,rt):rt,y(w,o,tt,u,it))}v=null}),function(n,t,i,r,u){n=u;t.$$destroyed||(v?v.push(t,i,r,n):(y.transcludeOnThisElement&&(n=ni(t,y.transclude,u)),y(w,t,i,r,n)))}}function tr(n,t){var i=t.priority-n.priority;return 0!==i?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function dt(n,t,i,r){if(t)throw ot("multidir",t.name,i.name,n,wt(r));}function ir(n,t){var i=u(t,!0);i&&n.push({priority:0,compile:function(n){n=n.parent();var t=!!n.length;return t&&kt.$$addBindingClass(n),function(n,r){var u=r.parent();t||kt.$$addBindingClass(u);kt.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){r[0].nodeValue=n})}}})}function fi(n,i){n=y(n||"html");switch(n){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+n+">"+i+"<\/"+n+">",r.childNodes[0].childNodes;default:return i}}function rr(n,t){if("srcdoc"==t)return ht.HTML;var i=pt(n);if("xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t))return ht.RESOURCE_URL}function ur(n,t,i,r,f){var o=rr(n,r),e;if(f=g[r]||f,e=u(i,!0,o,f),e){if("multiple"===r&&"select"===pt(n))throw ot("selmulti",wt(n));t.push({priority:100,compile:function(){return{pre:function(n,t,s){if(t=s.$$observers||(s.$$observers={}),it.test(r))throw ot("nodomevents");var h=s[r];h!==i&&(e=h&&u(h,!0,o,f),i=h);e&&(s[r]=e(n),(t[r]||(t[r]=[])).$$inter=!0,(s.$$observers&&s.$$observers[r].$$scope||n).$watch(e,function(n,t){"class"===r&&n!=t?s.$updateClass(n,t):s.$set(r,n)}))}}}})}}function ii(n,i,r){var u=i[0],h=i.length,s=u.parentNode,e,o,c;if(n)for(e=0,o=n.length;e<o;e++)if(n[e]==u){for(n[e++]=r,o=e+h-1,c=n.length;e<c;e++,o++)o<c?n[e]=n[o]:delete n[e];n.length-=h-1;n.context===u&&(n.context=r);break}for(s&&s.replaceChild(r,u),n=t.createDocumentFragment(),n.appendChild(u),f(r).data(f(u).data()),vt?(yf=!0,vt.cleanData([u])):delete f.cache[u[f.expando]],u=1,h=i.length;u<h;u++)s=i[u],f(s).remove(),n.appendChild(s),delete i[u];i[0]=r;i.length=1}function vi(n,t){return l(function(){return n.apply(null,arguments)},n,t)}function yi(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(o){e(o,wt(i))}}var oi=function(n,t){if(t)for(var u=Object.keys(t),r,i=0,f=u.length;i<f;i++)r=u[i],this[r]=t[r];else this.$attr={};this.$$element=n};oi.prototype={$normalize:bt,$addClass:function(n){n&&0<n.length&&lt.addClass(this.$$element,n)},$removeClass:function(n){n&&0<n.length&&lt.removeClass(this.$$element,n)},$updateClass:function(n,t){var i=no(n,t);i&&i.length&&lt.addClass(this.$$element,i);(i=no(t,n))&&i.length&&lt.removeClass(this.$$element,i)},$set:function(n,t,u,f){var h=this.$$element[0],s=de(h,n),o=rc(h,n),h=n;if(s?(this.$$element.prop(n,t),f=s):o&&(this[o]=t,h=o),this[n]=t,f?this.$attr[n]=f:(f=this.$attr[n])||(this.$attr[n]=f=ce(n,"-")),s=pt(this.$$element),"a"===s&&"href"===n||"img"===s&&"src"===n)this[n]=t=at(t,"src"===n);else if("img"===s&&"srcset"===n){for(var s="",o=p(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(o)?c:/(,)/,o=o.split(c),c=Math.floor(o.length/2),l=0;l<c;l++)var a=2*l,s=s+at(p(o[a]),!0),s=s+(" "+p(o[a+1]));o=p(o[2*l]).split(/\s/);s+=at(p(o[0]),!0);2===o.length&&(s+=" "+p(o[1]));this[n]=t=s}!1!==u&&(null===t||t===i?this.$$element.removeAttr(f):this.$$element.attr(f,t));(n=this.$$observers)&&r(n[h],function(n){try{n(t)}catch(i){e(i)}})},$observe:function(n,t){var i=this,u=i.$$observers||(i.$$observers=ut()),r=u[n]||(u[n]=[]);return r.push(t),et.$evalAsync(function(){!r.$$inter&&i.hasOwnProperty(n)&&t(i[n])}),function(){gi(r,t)}}};var pi=u.startSymbol(),wi=u.endSymbol(),bi="{{"==pi||"}}"==wi?ct:function(n){return n.replace(/\{\{/g,pi).replace(/}}/g,wi)},fr=/^ngAttr[A-Z]/;return kt.$$addBindingInfo=v?function(n,t){var i=n.data("$binding")||[];s(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:h,kt.$$addBindingClass=v?function(n){gt(n,"ng-binding")}:h,kt.$$addScopeInfo=v?function(n,t,i,r){n.data(i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:h,kt.$$addScopeClass=v?function(n,t){gt(n,t?"ng-isolate-scope":"ng-scope")}:h,kt}]}function bt(n){return ir(n.replace(as,""))}function no(n,t){var r="",e=n.split(/\s+/),o=t.split(/\s+/),u=0,f,i;n:for(;u<e.length;u++){for(f=e[u],i=0;i<o.length;i++)if(f==o[i])continue n;r+=(0<r.length?" ":"")+f}return r}function to(n){n=f(n);var t=n.length;if(1>=t)return n;for(;t--;)8===n[t].nodeType&&ua.call(n,t,1);return n}function vc(){var n={},t=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,i){si(t,"controller");c(t)?l(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(u,f){function e(n,t,i,r){if(!n||!c(n.$scope))throw v("$controller")("noscp",r,t);n.$scope[t]=i}return function(o,h,c,v){var p,y,w;if(c=!0===c,v&&a(v)&&(w=v),a(o)){if(v=o.match(r),!v)throw da("ctrlfmt",o);y=v[1];w=w||v[3];o=n.hasOwnProperty(y)?n[y]:le(h.$scope,y,!0)||(t?le(f,y,!0):i);dr(o,y,!0)}return c?(c=(s(o)?o[o.length-1]:o).prototype,p=Object.create(c||null),w&&e(h,w,p,y||o.name),l(function(){return u.invoke(o,p,h,y),p},{instance:p,identifier:w})):(p=u.instantiate(o,h,y),w&&e(h,w,p,y||o.name),p)}}]}function yc(){this.$get=["$window",function(n){return f(n.document)}]}function pc(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function uf(n,t){var r,i;return a(n)&&(r=n.replace(tv,"").trim(),r&&(i=t("Content-Type"),(i=i&&0===i.indexOf(vs))||(i=(i=r.match(ga))&&nv[i[0]].test(r)),i&&(n=ee(r)))),n}function io(n){var t=ut(),i,u,f;return n?(r(n.split("\n"),function(n){f=n.indexOf(":");i=y(p(n.substr(0,f)));u=p(n.substr(f+1));i&&(t[i]=t[i]?t[i]+", "+u:u)}),t):t}function ro(n){var t=c(n)?n:i;return function(i){return t||(t=io(n)),i?(i=t[y(i)],void 0===i&&(i=null),i):t}}function uo(n,t,i,u){return o(u)?u(n,t,i):(r(u,function(r){n=r(n,t,i)}),n)}function wc(){var n=this.defaults={transformResponse:[uf],transformRequest:[function(n){return c(n)&&"[object File]"!==fi.call(n)&&"[object Blob]"!==fi.call(n)&&"[object FormData]"!==fi.call(n)?tr(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:lt(df),put:lt(df),patch:lt(df)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1,f;this.useApplyAsync=function(n){return u(n)?(t=!!n,this):t};f=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(h,p,w,b,k,d){function g(t){function h(n){var t=l({},n);return t.data=n.data?uo(n.data,n.headers,n.status,f.transformResponse):n.data,n=n.status,200<=n&&300>n?t:k.reject(t)}function a(n){var t,i={};return r(n,function(n,r){o(n)?(t=n(),null!=t&&(i[r]=t)):i[r]=n}),i}var f,s,c,u;if(!nt.isObject(t))throw v("$http")("badreq",t);for(f=l({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse},t),f.headers=function(t){var i=n.headers,u=l({},t.headers),r,f,i=l({},i.common,i[y(t.method)]);n:for(r in i){t=y(r);for(f in u)if(y(f)===t)continue n;u[r]=i[r]}return a(u)}(t),f.method=au(f.method),s=[function(t){var u=t.headers,f=uo(t.data,ro(u),i,t.transformRequest);return e(f)&&r(u,function(n,t){"content-type"===y(t)&&delete u[t]}),e(t.withCredentials)&&!e(n.withCredentials)&&(t.withCredentials=n.withCredentials),rt(t,f).then(h,h)},i],u=k.when(f),r(tt,function(n){(n.request||n.requestError)&&s.unshift(n.request,n.requestError);(n.response||n.responseError)&&s.push(n.response,n.responseError)});s.length;)t=s.shift(),c=s.shift(),u=u.then(t,c);return u.success=function(n){return u.then(function(t){n(t.data,t.status,t.headers,f)}),u},u.error=function(n){return u.then(null,function(t){n(t.data,t.status,t.headers,f)}),u},u}function rt(r,f){function rt(n,i,r,u){function f(){y(i,n,r,u)}a&&(200<=n&&300>n?a.put(v,[n,i,io(r),u]):a.remove(v));t?b.$applyAsync(f):(f(),b.$$phase||b.$apply())}function y(n,t,i,u){t=Math.max(t,0);(200<=t&&300>t?w.resolve:w.reject)({data:n,status:t,headers:ro(i),config:r,statusText:u})}function nt(n){y(n.data,n.status,lt(n.headers()),n.statusText)}function tt(){var n=g.pendingRequests.indexOf(r);-1!==n&&g.pendingRequests.splice(n,1)}var w=k.defer(),d=w.promise,a,l,it=r.headers,v=ut(r.url,r.params);return g.pendingRequests.push(r),d.then(tt,tt),(r.cache||n.cache)&&!1!==r.cache&&("GET"===r.method||"JSONP"===r.method)&&(a=c(r.cache)?r.cache:c(n.cache)?n.cache:ft),a&&(l=a.get(v),u(l)?l&&o(l.then)?l.then(nt,nt):s(l)?y(l[1],l[0],lt(l[2]),l[3]):y(l,200,{},"OK"):a.put(v,d)),e(l)&&((l=ao(r.url)?p.cookies()[r.xsrfCookieName||n.xsrfCookieName]:i)&&(it[r.xsrfHeaderName||n.xsrfHeaderName]=l),h(r.method,v,f,rt,it,r.timeout,r.withCredentials,r.responseType)),d}function ut(n,t){if(!t)return n;var i=[];return ah(t,function(n,t){null===n||e(n)||(s(n)||(n=[n]),r(n,function(n){c(n)&&(n=it(n)?n.toISOString():tr(n));i.push(ti(t)+"="+ti(n))}))}),0<i.length&&(n+=(-1==n.indexOf("?")?"?":"&")+i.join("&")),n}var ft=w("$http"),tt=[];return r(f,function(n){tt.unshift(a(n)?d.get(n):d.invoke(n))}),g.pendingRequests=[],function(){r(arguments,function(n){g[n]=function(t,i){return g(l(i||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(){r(arguments,function(n){g[n]=function(t,i,r){return g(l(r||{},{method:n,url:t,data:i}))}})}("post","put","patch"),g.defaults=n,g}]}function bc(){return new n.XMLHttpRequest}function kc(){this.$get=["$browser","$window","$document",function(n,t,i){return dc(n,bc,n.defer,t.angular.callbacks,i[0])}]}function dc(n,t,f,e,s){function c(n,t,i){var r=s.createElement("script"),u=null;return r.type="text/javascript",r.src=n,r.async=!0,u=function(n){r.removeEventListener("load",u,!1);r.removeEventListener("error",u,!1);s.body.removeChild(r);r=null;var f=-1,o="unknown";n&&("load"!==n.type||e[t].called||(n={type:"error"}),o=n.type,f="error"===n.type?404:200);i&&i(f,o)},r.addEventListener("load",u,!1),r.addEventListener("error",u,!1),s.body.appendChild(r),u}return function(s,l,a,v,p,w,b,k){function rt(){nt&&nt();d&&d.abort()}function tt(t,r,u,e,o){it!==i&&f.cancel(it);nt=d=null;t(r,u,e,o);n.$$completeOutstandingRequest(h)}var g,nt,d,it;if(n.$$incOutstandingRequestCount(),l=l||n.url(),"jsonp"==y(s))g="_"+(e.counter++).toString(36),e[g]=function(n){e[g].data=n;e[g].called=!0},nt=c(l.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(n,t){tt(v,n,e[g].data,"",t);e[g]=h});else{if(d=t(),d.open(s,l,!0),r(p,function(n,t){u(n)&&d.setRequestHeader(t,n)}),d.onload=function(){var i=d.statusText||"",t="response"in d?d.response:d.responseText,n=1223===d.status?204:d.status;0===n&&(n=t?200:"file"==dt(l).protocol?404:0);tt(v,n,t,d.getAllResponseHeaders(),i)},s=function(){tt(v,-1,null,null,"")},d.onerror=s,d.onabort=s,b&&(d.withCredentials=!0),k)try{d.responseType=k}catch(ut){if("json"!==k)throw ut;}d.send(a||null)}0<w?it=f(rt,w):w&&o(w.then)&&w.then(rt)}}function gc(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,r,f){function h(n){return"\\\\\\"+n}function s(s,h,p,w){function rt(i){return i.replace(v,n).replace(y,t)}function et(n){var i,t;try{if(i=n,n=p?f.getTrusted(p,i):f.valueOf(i),w&&!u(n))t=n;else if(null==n)t="";else{switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=tr(n)}t=n}return t}catch(e){t=gf("interr",s,e.toString());r(t)}}var it;w=!!w;for(var d,nt,b=0,g=[],tt=[],ut=s.length,k=[],ft=[];b<ut;)if(-1!=(d=s.indexOf(n,b))&&-1!=(nt=s.indexOf(t,d+c)))b!==d&&k.push(rt(s.substring(b,d))),b=s.substring(d+c,nt),g.push(b),tt.push(i(b,et)),b=nt+a,ft.push(k.length),k.push("");else{b!==ut&&k.push(rt(s.substring(b)));break}if(p&&1<k.length)throw gf("noconcat",s);if(!h||g.length)return it=function(n){for(var t=0,i=g.length;t<i;t++){if(w&&e(n[t]))return;k[ft[t]]=n[t]}return k.join("")},l(function(n){var t=0,i=g.length,u=Array(i);try{for(;t<i;t++)u[t]=tt[t](n);return it(u)}catch(f){n=gf("interr",s,f.toString());r(n)}},{exp:s,expressions:g,$$watchDelegate:function(n,t,i){var r;return n.$watchGroup(tt,function(i,u){var f=it(i);o(t)&&t.call(this,f,i!==u?r:f,n);r=f},i)}})}var c=n.length,a=t.length,v=new RegExp(n.replace(/./g,h),"g"),y=new RegExp(t.replace(/./g,h),"g");return s.startSymbol=function(){return n},s.endSymbol=function(){return t},s}]}function nl(){this.$get=["$rootScope","$window","$q","$$q",function(n,t,i,r){function e(e,o,s,h){var y=t.setInterval,p=t.clearInterval,a=0,v=u(h)&&!h,l=(v?r:i).defer(),c=l.promise;return s=u(s)?s:0,c.then(null,null,e),c.$$intervalId=y(function(){l.notify(a++);0<s&&a>=s&&(l.resolve(a),p(c.$$intervalId),delete f[c.$$intervalId]);v||n.$apply()},o),f[c.$$intervalId]=l,c}var f={};return e.cancel=function(n){return n&&n.$$intervalId in f?(f[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete f[n.$$intervalId],!0):!1},e}]}function tl(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(n){return 1===n?"one":"other"}}}}function ff(n){n=n.split("/");for(var t=n.length;t--;)n[t]=kr(n[t]);return n.join("/")}function fo(n,t){var i=dt(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=g(i.port)||rv[i.protocol]||null}function eo(n,t){var r="/"!==n.charAt(0),i;r&&(n="/"+n);i=dt(n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname);t.$$search=se(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function kt(n,t){if(0===t.indexOf(n))return t.substr(n.length)}function ii(n){var t=n.indexOf("#");return-1==t?n:n.substr(0,t)}function ou(n){return n.replace(/(#.+)|#$/,"$1")}function ef(n){return n.substr(0,ii(n).lastIndexOf("/")+1)}function of(n,t){this.$$html5=!0;t=t||"";var r=ef(n);fo(n,this);this.$$parse=function(n){var t=kt(r,n);if(!a(t))throw wu("ipthprfx",n,r);eo(t,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=gu(this.$$search),t=this.$$hash?"#"+kr(this.$$hash):"";this.$$url=ff(this.$$path)+(n?"?"+n:"")+t;this.$$absUrl=r+this.$$url.substr(1)};this.$$parseLinkUrl=function(u,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var e,o;return(e=kt(n,u))!==i?(o=e,o=(e=kt(t,e))!==i?r+(kt("/",e)||e):n+o):(e=kt(r,u))!==i?o=r+e:r==u+"/"&&(o=r),o&&this.$$parse(o),!!o}}function sf(n,t){var i=ef(n);fo(n,this);this.$$parse=function(r){var u,f;r=kt(n,r)||kt(i,r);"#"===r.charAt(0)?(u=kt(t,r),e(u)&&(u=r)):u=this.$$html5?r:"";eo(u,this);r=this.$$path;f=/^\/[A-Z]:(\/.*)/;0===u.indexOf(n)&&(u=u.replace(n,""));f.exec(u)||(r=(u=f.exec(r))?u[1]:r);this.$$path=r;this.$$compose()};this.$$compose=function(){var i=gu(this.$$search),r=this.$$hash?"#"+kr(this.$$hash):"";this.$$url=ff(this.$$path)+(i?"?"+i:"")+r;this.$$absUrl=n+(this.$$url?t+this.$$url:"")};this.$$parseLinkUrl=function(t){return ii(n)==ii(t)?(this.$$parse(t),!0):!1}}function oo(n,t){this.$$html5=!0;sf.apply(this,arguments);var i=ef(n);this.$$parseLinkUrl=function(r,u){if(u&&"#"===u[0])return this.hash(u.slice(1)),!0;var f,e;return n==ii(r)?f=r:(e=kt(i,r))?f=n+t+e:i===r+"/"&&(f=i),f&&this.$$parse(f),!!f};this.$$compose=function(){var i=gu(this.$$search),r=this.$$hash?"#"+kr(this.$$hash):"";this.$$url=ff(this.$$path)+(i?"?"+i:"")+r;this.$$absUrl=n+t+this.$$url}}function su(n){return function(){return this[n]}}function so(n,t){return function(i){return e(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function il(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return u(n)?(t=n,this):t};this.html5Mode=function(t){return di(t)?(n.enabled=t,this):c(t)?(di(t.enabled)&&(n.enabled=t.enabled),di(t.requireBase)&&(n.requireBase=t.requireBase),di(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,r,u,e,o){function y(n,t,i){var u=s.url(),f=s.$$state;try{r.url(n,t,i);s.$$state=r.state()}catch(e){throw s.url(u),s.$$state=f,e;}}function p(n,t){i.$broadcast("$locationChangeSuccess",s.absUrl(),n,s.$$state,t)}var s,l,h,v,w,a;if(l=r.baseHref(),h=r.url(),n.enabled){if(!l&&n.requireBase)throw wu("nobase");v=h.substring(0,h.indexOf("/",h.indexOf("//")+2))+(l||"/");l=u.history?of:oo}else v=ii(h),l=sf;s=new l(v,"#"+t);s.$$parseLinkUrl(h,h);s.$$state=r.state();w=/^\s*(javascript|mailto):/i;e.on("click",function(t){var u,h,l;if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(u=f(t.target);"a"!==pt(u[0]);)if(u[0]===e[0]||!(u=u.parent())[0])return;h=u.prop("href");l=u.attr("href")||u.attr("xlink:href");c(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=dt(h.animVal).href);w.test(h)||!h||u.attr("target")||t.isDefaultPrevented()||!s.$$parseLinkUrl(h,l)||(t.preventDefault(),s.absUrl()!=r.url()&&(i.$apply(),o.angular["ff-684208-preventDefault"]=!0))}});ou(s.absUrl())!=ou(h)&&r.url(s.absUrl(),!0);a=!0;r.onUrlChange(function(n,t){i.$evalAsync(function(){var r=s.absUrl(),u=s.$$state,f;s.$$parse(n);s.$$state=t;f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented;s.absUrl()===n&&(f?(s.$$parse(r),s.$$state=u,y(r,!1,u)):(a=!1,p(r,u)))});i.$$phase||i.$digest()});return i.$watch(function(){var t=ou(r.url()),e=ou(s.absUrl()),n=r.state(),o=s.$$replace,f=t!==e||s.$$html5&&u.history&&n!==s.$$state;(a||f)&&(a=!1,i.$evalAsync(function(){var r=s.absUrl(),u=i.$broadcast("$locationChangeStart",r,t,s.$$state,n).defaultPrevented;s.absUrl()===r&&(u?(s.$$parse(t),s.$$state=n):(f&&y(r,o,n===s.$$state?null:s.$$state),p(t,n)))}));s.$$replace=!1}),s}]}function rl(){var n=!0,t=this;this.debugEnabled=function(t){return u(t)?(n=t,this):n};this.$get=["$window",function(i){function f(n){return n instanceof Error&&(n.stack?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var t=i.console||{},u=t[n]||t.log||h;n=!1;try{n=!!u.apply}catch(e){}return n?function(){var n=[];return r(arguments,function(t){n.push(f(t))}),u.apply(t,n)}:function(n,t){u(n,null==t?"":t)}}return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var i=u("debug");return function(){n&&i.apply(t,arguments)}}()}}]}function at(n,t){if("__defineGetter__"===n||"__defineSetter__"===n||"__lookupGetter__"===n||"__lookupSetter__"===n||"__proto__"===n)throw st("isecfld",t);return n}function ft(n,t){if(n){if(n.constructor===n)throw st("isecfn",t);if(n.window===n)throw st("isecwindow",t);if(n.children&&(n.nodeName||n.prop&&n.attr&&n.find))throw st("isecdom",t);if(n===Object)throw st("isecobj",t);}return n}function hf(n){return n.constant}function fr(n,t,i,r,u){var f,o,e;for(ft(n,u),ft(t,u),i=i.split("."),o=0;1<i.length;o++)f=at(i.shift(),u),e=0===o&&t&&t[f]||n[f],e||(e={},n[f]=e),n=ft(e,u);return f=at(i.shift(),u),ft(n[f],u),n[f]=r}function ci(n){return"constructor"==n}function ho(n,t,r,u,f,e,o){at(n,e);at(t,e);at(r,e);at(u,e);at(f,e);var s=function(n){return ft(n,e)},h=o||ci(n)?s:ct,c=o||ci(t)?s:ct,l=o||ci(r)?s:ct,a=o||ci(u)?s:ct,v=o||ci(f)?s:ct;return function(e,o){var s=o&&o.hasOwnProperty(n)?o:e;return null==s?s:(s=h(s[n]),!t)?s:null==s?i:(s=c(s[t]),!r)?s:null==s?i:(s=l(s[r]),!u)?s:null==s?i:(s=a(s[u]),f?null==s?i:s=v(s[f]):s)}}function ul(n,t){return function(i,r){return n(i,r,ft,t)}}function fl(n,t,u){var o=t.expensiveChecks,l=o?cv:hv,e=l[n],f,h,s,c;return e?e:(f=n.split("."),h=f.length,t.csp?e=6>h?ho(f[0],f[1],f[2],f[3],f[4],u,o):function(n,t){var r=0,e;do e=ho(f[r++],f[r++],f[r++],f[r++],f[r++],u,o)(n,t),t=i,n=e;while(r<h);return e}:(s="",o&&(s+="s = eso(s, fe);\nl = eso(l, fe);\n"),c=o,r(f,function(n,t){at(n,u);var i=(t?"s":'((l&&l.hasOwnProperty("'+n+'"))?l:s)')+"."+n;(o||ci(n))&&(i="eso("+i+", fe)",c=!0);s+="if(s == null) return undefined;\ns="+i+";\n"}),s+="return s;",t=new Function("s","l","eso","fe",s),t.toString=tt(s),c&&(t=ul(t,u)),e=t),e.sharedGetter=!0,e.assign=function(t,i,r){return fr(t,r,n,i,n)},l[n]=e)}function cf(n){return o(n.valueOf)?n.valueOf():lv.call(n)}function el(){var n=ut(),t=ut();this.$get=["$filter","$sniffer",function(i,f){function y(n){var t=n;return n.sharedGetter&&(t=function(t,i){return n(t,i)},t.literal=n.literal,t.constant=n.constant,t.assign=n.assign),t}function l(n,t){for(var i,r=0,u=n.length;r<u;r++)i=n[r],i.constant||(i.inputs?l(i.inputs,t):-1===t.indexOf(i)&&t.push(i));return t}function e(n,t){return null==n||null==t?n===t:"object"==typeof n&&(n=cf(n),"object"==typeof n)?!1:n===t||n!==n&&t!==t}function s(n,t,i,r){var u=r.$$inputs||(r.$$inputs=l(r.inputs,[])),f,o;if(1===u.length)return o=e,u=u[0],n.$watch(function(n){var t=u(n);return e(t,o)||(f=r(n),o=t&&cf(t)),f},t,i);for(var s=[],h=0,c=u.length;h<c;h++)s[h]=e;return n.$watch(function(n){for(var i,o=!1,t=0,h=u.length;t<h;t++)i=u[t](n),(o||(o=!e(i,s[t])))&&(s[t]=i&&cf(i));return o&&(f=r(n)),f},t,i)}function a(n,t,i,r){var f,e;return f=n.$watch(function(n){return r(n)},function(n,i,r){e=n;o(t)&&t.apply(this,arguments);u(n)&&r.$$postDigest(function(){u(e)&&f()})},i)}function v(n,t,i,f){function e(n){var t=!0;return r(n,function(n){u(n)||(t=!1)}),t}var s,h;return s=n.$watch(function(n){return f(n)},function(n,i,r){h=n;o(t)&&t.call(this,n,i,r);e(n)&&r.$$postDigest(function(){e(h)&&s()})},i)}function p(n,t,i,r){var u;return u=n.$watch(function(n){return r(n)},function(){o(t)&&t.apply(this,arguments);u()},i)}function c(n,t){if(!t)return n;var i=n.$$watchDelegate,i=i!==v&&i!==a?function(i,r){var u=n(i,r);return t(u,i,r)}:function(i,r){var f=n(i,r),e=t(f,i,r);return u(f)?e:f};return n.$$watchDelegate&&n.$$watchDelegate!==s?i.$$watchDelegate=n.$$watchDelegate:t.$stateful||(i.$$watchDelegate=s,i.inputs=[n]),i}var w={csp:f.csp,expensiveChecks:!1},b={csp:f.csp,expensiveChecks:!0};return function(r,u,f){var e,k,o,l;switch(typeof r){case"string":return o=r=r.trim(),l=f?t:n,e=l[o],e||(":"===r.charAt(0)&&":"===r.charAt(1)&&(k=!0,r=r.substring(2)),f=f?b:w,e=new ne(f),e=new vi(e,i,f).parse(r),e.constant?e.$$watchDelegate=p:k?(e=y(e),e.$$watchDelegate=e.literal?v:a):e.inputs&&(e.$$watchDelegate=s),l[o]=e),c(e,u);case"function":return c(r,u);default:return c(h,u)}}}]}function ol(){this.$get=["$rootScope","$exceptionHandler",function(n,t){return co(function(t){n.$evalAsync(t)},t)}]}function sl(){this.$get=["$browser","$exceptionHandler",function(n,t){return co(function(t){n.defer(t)},t)}]}function co(n,t){function k(n,t,i){function r(t){return function(i){u||(u=!0,t.call(n,i))}}var u=!1;return[r(t),r(i)]}function a(){this.$$state={status:0}}function h(n,t){return function(i){t.call(n,i)}}function l(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,n(function(){var e,n,f,u,s;for(f=r.pending,r.processScheduled=!1,r.pending=i,u=0,s=f.length;u<s;++u){n=f[u][0];e=f[u][r.status];try{o(e)?n.resolve(e(r.value)):1===r.status?n.resolve(r.value):n.reject(r.value)}catch(h){n.reject(h);t(h)}}}))}function u(){this.promise=new a;this.resolve=h(this,this.resolve);this.reject=h(this,this.reject);this.notify=h(this,this.notify)}var y=v("$q",TypeError);a.prototype={then:function(n,t,i){var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,n,t,i]),0<this.$$state.status&&l(this.$$state),r.promise},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return p(t,!0,n)},function(t){return p(t,!1,n)},t)}};u.prototype={resolve:function(n){this.promise.$$state.status||(n===this.promise?this.$$reject(y("qcycle",n)):this.$$resolve(n))},$$resolve:function(n){var i,r=k(this,this.$$resolve,this.$$reject);try{(c(n)||o(n))&&(i=n&&n.then);o(i)?(this.promise.$$state.status=-1,i.call(n,r[0],r[1],this.notify)):(this.promise.$$state.value=n,this.promise.$$state.status=1,l(this.promise.$$state))}catch(u){r[1](u);t(u)}},reject:function(n){this.promise.$$state.status||this.$$reject(n)},$$reject:function(n){this.promise.$$state.value=n;this.promise.$$state.status=2;l(this.promise.$$state)},notify:function(i){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&n(function(){for(var u,f,n=0,e=r.length;n<e;n++){f=r[n][0];u=r[n][3];try{f.notify(o(u)?u(i):i)}catch(s){t(s)}}})}};var e=function(n,t){var i=new u;return t?i.resolve(n):i.reject(n),i.promise},p=function(n,t,i){var r=null;try{o(i)&&(r=i())}catch(u){return e(u,!1)}return r&&o(r.then)?r.then(function(){return e(n,t)},function(n){return e(n,!1)}):e(n,t)},w=function(n,t,i,r){var f=new u;return f.resolve(n),f.promise.then(t,i,r)},f=function b(n){if(!o(n))throw y("norslvr",n);if(!(this instanceof b))return new b(n);var t=new u;return n(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise};return f.defer=function(){return new u},f.reject=function(n){var t=new u;return t.reject(n),t.promise},f.when=w,f.all=function(n){var i=new u,f=0,t=s(n)?[]:{};return r(n,function(n,r){f++;w(n).then(function(n){t.hasOwnProperty(r)||(t[r]=n,--f||i.resolve(t))},function(n){t.hasOwnProperty(r)||i.reject(n)})}),0===f&&i.resolve(t),i.promise},f}function hl(){this.$get=["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]}function cl(){function f(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++vu;this.$$ChildScope=null}return t.prototype=n,t}var i=10,u=v("$rootScope"),n=null,t=null;this.digestTtl=function(n){return arguments.length&&(i=n),i};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(s,l,a,v){function it(n){n.currentScope.$$destroyed=!0}function w(){this.$id=++vu;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function d(n){if(y.$$phase)throw u("inprog",y.$$phase);y.$$phase=n}function g(n,t,i){do n.$$listenerCount[i]-=t,0===n.$$listenerCount[i]&&delete n.$$listenerCount[i];while(n=n.$parent)}function nt(){}function tt(){for(;k.length;)try{k.shift()()}catch(n){l(n)}t=null}function ut(){null===t&&(t=v.defer(function(){y.$apply(tt)}))}w.prototype={constructor:w,$new:function(n,t){var i;return t=t||this,n?(i=new w,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=f(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!=this)&&i.$on("$destroy",it),i},$watch:function(t,i,r){var f=a(t),u,e;return f.$$watchDelegate?f.$$watchDelegate(this,i,r,f):(u=this.$$watchers,e={fn:i,last:nt,get:f,exp:t,eq:!!r},n=null,o(i)||(e.fn=h),u||(u=this.$$watchers=[]),u.unshift(e),function(){gi(u,e);n=null})},$watchGroup:function(n,t){function c(){o=!1;h?(h=!1,t(i,i,u)):t(i,f,u)}var f=Array(n.length),i=Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?1===n.length?this.$watch(n[0],function(n,r,u){i[0]=n;f[0]=r;t(i,n===r?i:f,u)}):(r(n,function(n,t){var r=u.$watch(n,function(n,r){i[t]=n;f[t]=r;o||(o=!0,u.$evalAsync(c))});e.push(r)}),function(){for(;e.length;)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&t(i,i,u)}),function(){s=!1})},$watchCollection:function(n,t){function s(n){i=n;var t,h,o,s;if(!e(i)){if(c(i))if(pi(i))for(r!==l&&(r=l,f=r.length=0,u++),n=i.length,f!==n&&(u++,r.length=f=n),t=0;t<n;t++)s=r[t],o=i[t],h=s!==s&&o!==o,h||s===o||(u++,r[t]=o);else{r!==v&&(r=v={},f=0,u++);n=0;for(t in i)i.hasOwnProperty(t)&&(n++,o=i[t],s=r[t],t in r?(h=s!==s&&o!==o,h||s===o||(u++,r[t]=o)):(f++,r[t]=o,u++));if(f>n)for(t in u++,r)i.hasOwnProperty(t)||(f--,delete r[t])}else r!==i&&(r=i,u++);return u}}s.$stateful=!0;var h=this,i,r,o,p=1<t.length,u=0,w=a(n,s),l=[],v={},y=!0,f=0;return this.$watch(w,function(){if(y?(y=!1,t(i,i,h)):t(i,o,h),p)if(c(i))if(pi(i)){o=Array(i.length);for(var n=0;n<i.length;n++)o[n]=i[n]}else for(n in o={},i)es.call(i,n)&&(o[n]=i[n]);else o=i})},$digest:function(){var r,e,s,h,g,c,it=i,f,a=[],w,k;d("$digest");v.$$checkUrlChange();this===y&&null!==t&&(v.defer.cancel(t),tt());n=null;do{for(c=!1,f=this;p.length;){try{k=p.shift();k.scope.$eval(k.expression,k.locals)}catch(ut){l(ut)}n=null}n:do{if(h=f.$$watchers)for(g=h.length;g--;)try{if(r=h[g])if((e=r.get(f))===(s=r.last)||(r.eq?rt(e,s):"number"==typeof e&&"number"==typeof s&&isNaN(e)&&isNaN(s))){if(r===n){c=!1;break n}}else c=!0,n=r,r.last=r.eq?ni(e,null):e,r.fn(e,s===nt?e:s,f),5>it&&(w=4-it,a[w]||(a[w]=[]),a[w].push({msg:o(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:e,oldVal:s}))}catch(ft){l(ft)}if(!(h=f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(h=f.$$nextSibling);)f=f.$parent}while(f=h);if((c||p.length)&&!it--)throw y.$$phase=null,u("infdig",i,a);}while(c||p.length);for(y.$$phase=null;b.length;)try{b.shift()()}catch(et){l(et)}},$destroy:function(){var n,t;if(!this.$$destroyed&&(n=this.$parent,this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y)){for(t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);n.$$childHead==this&&(n.$$childHead=this.$$nextSibling);n.$$childTail==this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h;this.$on=this.$watch=this.$watchGroup=function(){return h};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(n,t){return a(n)(this,t)},$evalAsync:function(n,t){y.$$phase||p.length||v.defer(function(){p.length&&y.$digest()});p.push({scope:this,expression:n,locals:t})},$$postDigest:function(n){b.push(n)},$apply:function(n){try{return d("$apply"),this.$eval(n)}catch(i){l(i)}finally{y.$$phase=null;try{y.$digest()}catch(t){throw l(t),t;}}},$applyAsync:function(n){function t(){i.$eval(n)}var i=this;n&&k.push(t);ut()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);-1!==i&&(r[i]=null,g(u,1,n))}},$emit:function(n){var o=[],u,r=this,e=!1,t={name:n,targetScope:r,stopPropagation:function(){e=!0},preventDefault:function(){t.defaultPrevented=!0},defaultPrevented:!1},s=nr([t],arguments,1),i,f;do{for(u=r.$$listeners[n]||o,t.currentScope=r,i=0,f=u.length;i<f;i++)if(u[i])try{u[i].apply(null,s)}catch(h){l(h)}else u.splice(i,1),i--,f--;if(e)return t.currentScope=null,t;r=r.$parent}while(r);return t.currentScope=null,t},$broadcast:function(n){var t=this,i=this,u={name:n,targetScope:this,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},e,r,f;if(!this.$$listenerCount[n])return u;for(e=nr([u],arguments,1);t=i;){for(u.currentScope=t,i=t.$$listeners[n]||[],r=0,f=i.length;r<f;r++)if(i[r])try{i[r].apply(null,e)}catch(o){l(o)}else i.splice(r,1),r--,f--;if(!(i=t.$$listenerCount[n]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(i=t.$$nextSibling);)t=t.$parent}return u.currentScope=null,u}};var y=new w,p=y.$$asyncQueue=[],b=y.$$postDigestQueue=[],k=y.$$applyAsyncQueue=[];return y}]}function ll(){var n=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return u(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(t=n,this):t};this.$get=function(){return function(i,r){var f=r?t:n,u;return u=dt(i).href,""===u||u.match(f)?i:"unsafe:"+u}}}function al(n){if("self"===n)return n;if(a(n)){if(-1<n.indexOf("***"))throw gt("iwcard",n);return n=os(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+n+"$")}if(wi(n))return new RegExp("^"+n.source+"$");throw gt("imatcher");}function lo(n){var t=[];return u(n)&&r(n,function(n){t.push(al(n))}),t}function vl(){this.SCE_CONTEXTS=ht;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=lo(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=lo(n)),t};this.$get=["$injector",function(r){function o(n,t){return"self"===n?ao(t):!!n.exec(t.href)}function f(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(){throw gt("unsafe");},e,u;return r.has("$sanitize")&&(s=r.get("$sanitize")),e=f(),u={},u[ht.HTML]=f(e),u[ht.CSS]=f(e),u[ht.URL]=f(e),u[ht.JS]=f(e),u[ht.RESOURCE_URL]=f(u[ht.URL]),{trustAs:function(n,t){var r=u.hasOwnProperty(n)?u[n]:null;if(!r)throw gt("icontext",n,t);if(null===t||t===i||""===t)return t;if("string"!=typeof t)throw gt("itype",n);return new r(t)},getTrusted:function(r,f){var h,e,l,c;if(null===f||f===i||""===f)return f;if(h=u.hasOwnProperty(r)?u[r]:null,h&&f instanceof h)return f.$$unwrapTrustedValue();if(r===ht.RESOURCE_URL){for(h=dt(f.toString()),c=!1,e=0,l=n.length;e<l;e++)if(o(n[e],h)){c=!0;break}if(c)for(e=0,l=t.length;e<l;e++)if(o(t[e],h)){c=!1;break}if(c)return f;throw gt("insecurl",f.toString());}if(r===ht.HTML)return s(f);throw gt("unsafe");},valueOf:function(n){return n instanceof e?n.$$unwrapTrustedValue():n}}}]}function yl(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(t,i){var u;if(n&&8>li)throw gt("iequirks");u=lt(ht);u.isEnabled=function(){return n};u.trustAs=i.trustAs;u.getTrusted=i.getTrusted;u.valueOf=i.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=ct);u.parseAs=function(n,i){var r=t(i);return r.literal&&r.constant?r:t(i,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return r(ht,function(n,t){var i=y(t);u[ir("parse_as_"+i)]=function(t){return f(n,t)};u[ir("get_trusted_"+i)]=function(t){return e(n,t)};u[ir("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function pl(){this.$get=["$window","$document",function(n,t){var s={},h=g((/android (\d+)/.exec(y((n.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((n.navigator||{}).userAgent),f=t[0]||{},i,r=f.body&&f.body.style,u=!1,o=!1,c;if(r){for(c in r)if(u=/^(Moz|webkit|ms)(?=[A-Z])/.exec(c)){i=u[0];i=i.substr(0,1).toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in r&&"webkit");u=!!("transition"in r||i+"Transition"in r);o=!!("animation"in r||i+"Animation"in r);!h||u&&o||(u=a(f.body.style.webkitTransition),o=a(f.body.style.webkitAnimation))}return{history:!(!n.history||!n.history.pushState||4>h||l),hasEvent:function(n){if("input"===n&&11>=li)return!1;if(e(s[n])){var t=f.createElement("div");s[n]="on"+n in t}return s[n]},csp:cr(),vendorPrefix:i,transitions:u,animations:o,android:h}}]}function wl(){this.$get=["$templateCache","$http","$q",function(n,t,i){function r(u,f){r.totalPendingRequests++;var e=t.defaults&&t.defaults.transformResponse;return s(e)?e=e.filter(function(n){return n!==uf}):e===uf&&(e=null),t.get(u,{cache:n,transformResponse:e})["finally"](function(){r.totalPendingRequests--}).then(function(n){return n.data},function(n){if(!f)throw ot("tpload",u);return i.reject(n)})}return r.totalPendingRequests=0,r}]}function bl(){this.$get=["$rootScope","$browser","$location",function(n,t,i){return{findBindings:function(n,t,i){n=n.getElementsByClassName("ng-binding");var u=[];return r(n,function(n){var f=nt.element(n).data("$binding");f&&r(f,function(r){i?new RegExp("(^|\\s)"+os(t)+"(\\s|\\||$)").test(r)&&u.push(n):-1!=r.indexOf(t)&&u.push(n)})}),u},findModels:function(n,t,i){for(var f,u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r)if(f=n.querySelectorAll("["+u[r]+"model"+(i?"=":"*=")+'"'+t+'"]'),f.length)return f},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),n.$digest())},whenStable:function(n){t.notifyWhenNoOutstandingRequests(n)}}}]}function kl(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,r,f){function o(o,s,h){var a=u(h)&&!h,c=(a?r:i).defer(),l=c.promise;return s=t.defer(function(){try{c.resolve(o())}catch(t){c.reject(t);f(t)}finally{delete e[l.$$timeoutId]}a||n.$apply()},s),l.$$timeoutId=s,e[s]=c,l}var e={};return o.cancel=function(n){return n&&n.$$timeoutId in e?(e[n.$$timeoutId].reject("canceled"),delete e[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},o}]}function dt(n){return li&&(d.setAttribute("href",n),n=d.href),d.setAttribute("href",n),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname}}function ao(n){return n=a(n)?dt(n):n,n.protocol===ys.protocol&&n.host===ys.host}function dl(){this.$get=tt(n)}function vo(n){function t(i,u){if(c(i)){var f={};return r(i,function(n,i){f[i]=t(i,n)}),f}return n.factory(i+"Filter",u)}this.register=t;this.$get=["$injector",function(n){return function(t){return n.get(t+"Filter")}}];t("currency",yo);t("date",go);t("filter",gl);t("json",ta);t("limitTo",ia);t("lowercase",ws);t("number",po);t("orderBy",ns);t("uppercase",bs)}function gl(){return function(n,t,i){if(!s(n))return n;var r;switch(typeof t){case"function":break;case"boolean":case"number":case"string":r=!0;case"object":t=na(t,i,r);break;default:return n}return n.filter(t)}}function na(n,t,i){var r=c(n)&&"$"in n;return!0===t?t=rt:o(t)||(t=function(n,t){return c(n)||c(t)?!1:(n=y(""+n),t=y(""+t),-1!==n.indexOf(t))}),function(u){return r&&!c(u)?ri(u,n.$,t,!1):ri(u,n,t,i)}}function ri(n,t,i,r,u){var h=null!==n?typeof n:"null",c=null!==t?typeof t:"null",f;if("string"===c&&"!"===t.charAt(0))return!ri(n,t.substring(1),i,r);if(s(n))return n.some(function(n){return ri(n,t,i,r)});switch(h){case"object":if(r){for(f in n)if("$"!==f.charAt(0)&&ri(n[f],t,i,!0))return!0;return u?!1:ri(n,t,i,!1)}if("object"===c){for(f in t)if(u=t[f],!o(u)&&!e(u)&&(h="$"===f,!ri(h?n:n[f],u,i,h,h)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function yo(n){var t=n.NUMBER_FORMATS;return function(n,i,r){return e(i)&&(i=t.CURRENCY_SYM),e(r)&&(r=t.PATTERNS[1].maxFrac),null==n?n:wo(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,i)}}function po(n){var t=n.NUMBER_FORMATS;return function(n,i){return null==n?n:wo(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function wo(n,t,i,r,u){var l,f;if(!isFinite(n)||c(n))return"";l=0>n;n=Math.abs(n);var o=n+"",s="",y=[],h=!1;if(-1!==o.indexOf("e")&&(f=o.match(/([\d\.]+)e(-?)(\d+)/),f&&"-"==f[2]&&f[3]>u+1?n=0:(s=o,h=!0)),h)0<u&&1>n&&(s=n.toFixed(u),n=parseFloat(s));else{o=(o.split(ps)[1]||"").length;e(u)&&(u=Math.min(Math.max(t.minFrac,o),t.maxFrac));n=+(Math.round(+(n.toString()+"e"+u)).toString()+"e"+-u);var o=(""+n).split(ps),h=o[0],o=o[1]||"",a=0,v=t.lgSize,p=t.gSize;if(h.length>=v+p)for(a=h.length-v,f=0;f<a;f++)0==(a-f)%p&&0!==f&&(s+=i),s+=h.charAt(f);for(f=a;f<h.length;f++)0==(h.length-f)%v&&0!==f&&(s+=i),s+=h.charAt(f);for(;o.length<u;)o+="0";u&&"0"!==u&&(s+=r+o.substr(0,u))}return 0===n&&(l=!1),y.push(l?t.negPre:t.posPre,s,l?t.negSuf:t.posSuf),y.join("")}function hu(n,t,i){var r="";for(0>n&&(r="-",n=-n),n=""+n;n.length<t;)n="0"+n;return i&&(n=n.substr(n.length-t)),r+n}function k(n,t,i,r){return i=i||0,function(u){return u=u["get"+n](),(0<i||u>-i)&&(u+=i),0===u&&-12==i&&(u=12),hu(u,t,r)}}function cu(n,t){return function(i,r){var u=i["get"+n](),f=au(t?"SHORT"+n:n);return r[f][u]}}function bo(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(4>=t?5:12)-t)}function ko(n){return function(t){var i=bo(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+i,t=1+Math.round(t/6048e5),hu(t,n)}}function lf(n,t){return 0>=n.getFullYear()?t.ERAS[0]:t.ERAS[1]}function go(n){function t(n){var t;if(t=n.match(i)){n=new Date(0);var r=0,u=0,f=t[8]?n.setUTCFullYear:n.setFullYear,e=t[8]?n.setUTCHours:n.setHours;t[9]&&(r=g(t[9]+t[10]),u=g(t[9]+t[11]));f.call(n,g(t[1]),g(t[2])-1,g(t[3]));r=g(t[4]||0)-r;u=g(t[5]||0)-u;f=g(t[6]||0);t=Math.round(1e3*parseFloat("0."+(t[7]||0)));e.call(n,r,u,f,t)}return n}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,u,f){var s="",e=[],o,h;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,a(i)&&(i=yv.test(i)?g(i):t(i)),b(i)&&(i=new Date(i)),!it(i))return i;for(;u;)(h=vv.exec(u))?(e=nr(e,h,1),u=e.pop()):(e.push(u),u=null);return f&&"UTC"===f&&(i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+i.getTimezoneOffset())),r(e,function(t){o=av[t];s+=o?o(i,n.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function ta(){return function(n,t){return e(t)&&(t=2),tr(n,t)}}function ia(){return function(n,t){return b(n)&&(n=n.toString()),s(n)||a(n)?(t=Infinity===Math.abs(Number(t))?Number(t):g(t))?0<t?n.slice(0,t):n.slice(t):a(n)?"":[]:n}}function ns(n){return function(t,i,r){function u(n,t){return t?function(t,i){return n(i,t)}:n}function e(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}function o(n){return null===n?"null":"function"==typeof n.valueOf&&(n=n.valueOf(),e(n))||"function"==typeof n.toString&&(n=n.toString(),e(n))?n:""}function f(n,t){var i=typeof n,r=typeof t;return i===r&&"object"===i&&(n=o(n),t=o(t)),i===r?("string"===i&&(n=n.toLowerCase(),t=t.toLowerCase()),n===t?0:n<t?-1:1):i<r?-1:1}return pi(t)?(i=s(i)?i:[i],0===i.length&&(i=["+"]),i=i.map(function(t){var r=!1,i=t||ct,e;if(a(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0),t=t.substring(1)),""===t)return u(f,r);if(i=n(t),i.constant)return e=i(),u(function(n,t){return f(n[e],t[e])},r)}return u(function(n,t){return f(i(n),i(t))},r)}),sr.call(t).sort(u(function(n,t){for(var u,r=0;r<i.length;r++)if(u=i[r](n,t),0!==u)return u;return 0},r))):t}}function ui(n){return o(n)&&(n={link:n}),n.restrict=n.restrict||"AC",tt(n)}function ts(n,t,u,f,e){var o=this,s=[],h=o.$$parentForm=n.parent().controller("form")||wr;o.$error={};o.$$success={};o.$pending=i;o.$name=e(t.name||t.ngForm||"")(u);o.$dirty=!1;o.$pristine=!0;o.$valid=!0;o.$invalid=!1;o.$submitted=!1;h.$addControl(o);o.$rollbackViewValue=function(){r(s,function(n){n.$rollbackViewValue()})};o.$commitViewValue=function(){r(s,function(n){n.$commitViewValue()})};o.$addControl=function(n){si(n.$name,"input");s.push(n);n.$name&&(o[n.$name]=n)};o.$$renameControl=function(n,t){var i=n.$name;o[i]===n&&delete o[i];o[t]=n;n.$name=t};o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name];r(o.$pending,function(t,i){o.$setValidity(i,null,n)});r(o.$error,function(t,i){o.$setValidity(i,null,n)});r(o.$$success,function(t,i){o.$setValidity(i,null,n)});gi(s,n)};us({ctrl:this,$element:n,set:function(n,t,i){var r=n[t];r?-1===r.indexOf(i)&&r.push(i):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(gi(r,i),0===r.length&&delete n[t])},parentForm:h,$animate:f});o.$setDirty=function(){f.removeClass(n,yi);f.addClass(n,bu);o.$dirty=!0;o.$pristine=!1;h.$setDirty()};o.$setPristine=function(){f.setClass(n,yi,bu+" ng-submitted");o.$dirty=!1;o.$pristine=!0;o.$submitted=!1;r(s,function(n){n.$setPristine()})};o.$setUntouched=function(){r(s,function(n){n.$setUntouched()})};o.$setSubmitted=function(){f.addClass(n,"ng-submitted");o.$submitted=!0;h.$setSubmitted()}}function af(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function er(n,t,i,r,u,f){var c=y(t[0].type),s,o,e,h;if(!u.android){s=!1;t.on("compositionstart",function(){s=!0});t.on("compositionend",function(){s=!1;o()})}if(o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val();n=n&&n.type;"password"===c||i.ngTrim&&"false"===i.ngTrim||(u=p(u));(r.$viewValue!==u||""===u&&r.$$hasNativeValidators)&&r.$setViewValue(u,n)}},u.hasEvent("input"))t.on("input",o);else{h=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))};t.on("keydown",function(n){var t=n.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||h(n,this,this.value)});if(u.hasEvent("paste"))t.on("paste cut",h)}t.on("change",o);r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function lu(n,t){return function(i,u){var e,f;if(it(i))return i;if(a(i)){if('"'==i.charAt(0)&&'"'==i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),bv.test(i))return new Date(i);if(n.lastIndex=0,e=n.exec(i))return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(n,i){i<t.length&&(f[t[i]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function or(n,t,r,f){return function(o,s,h,c,l,a,v){function w(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function d(n){return u(n)?it(n)?n:r(n):i}var p,y,b,k;is(o,s,h,c);er(o,s,h,c,l,a);p=c&&c.$options&&c.$options.timezone;c.$$parserName=n;c.$parsers.push(function(n){return c.$isEmpty(n)?null:t.test(n)?(n=r(n,y),"UTC"===p&&n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n):i});c.$formatters.push(function(n){if(n&&!it(n))throw ku("datefmt",n);if(w(n)){if((y=n)&&"UTC"===p){var t=6e4*y.getTimezoneOffset();y=new Date(y.getTime()+t)}return v("date")(n,f,p)}return y=null,""});(u(h.min)||h.ngMin)&&(c.$validators.min=function(n){return!w(n)||e(b)||r(n)>=b},h.$observe("min",function(n){b=d(n);c.$validate()}));(u(h.max)||h.ngMax)&&(c.$validators.max=function(n){return!w(n)||e(k)||r(n)<=k},h.$observe("max",function(n){k=d(n);c.$validate()}))}}function is(n,t,r,u){(u.$$hasNativeValidators=c(t[0].validity))&&u.$parsers.push(function(n){var r=t.prop("validity")||{};return r.badInput&&!r.typeMismatch?i:n})}function rs(n,t,i,r,f){if(u(r)){if(n=n(r),!n.constant)throw v("ngModel")("constexpr",i,r);return n(t)}return f}function vf(n,t){return n="ngClass"+n,["$animate",function(i){function f(n,t){var f=[],r=0,u,i;n:for(;r<n.length;r++){for(u=n[r],i=0;i<t.length;i++)if(u==t[i])continue n;f.push(u)}return f}function u(n){if(!s(n)){if(a(n))return n.split(" ");if(c(n)){var t=[];return r(n,function(n,i){n&&(t=t.concat(i.split(" ")))}),t}}return n}return{restrict:"AC",link:function(e,o,s){function h(n,t){var i=o.data("$classCounts")||{},u=[];return r(n,function(n){(0<t||i[n])&&(i[n]=(i[n]||0)+t,i[n]===+(0<t)&&u.push(n))}),o.data("$classCounts",i),u.join(" ")}function l(n){var r,l;if(!0===t||e.$index%2===t)if(r=u(n||[]),c){if(!rt(n,c)){var a=u(c),l=f(r,a),r=f(a,r),l=h(l,1),r=h(r,-1);l&&l.length&&i.addClass(o,l);r&&r.length&&i.removeClass(o,r)}}else l=h(r,1),s.$addClass(l);c=lt(n)}var c;e.$watch(s[n],l,!0);s.$observe("class",function(){l(e.$eval(s[n]))});"ngClass"!==n&&e.$watch("$index",function(i,r){var f=i&1,o;f!==(r&1)&&(o=u(e.$eval(s[n])),f===t?(f=h(o,1),s.$addClass(f)):(f=h(o,-1),s.$removeClass(f)))})}}}]}function us(n){function f(n,t){t&&!r[n]?(h.addClass(o,n),r[n]=!0):!t&&r[n]&&(h.removeClass(o,n),r[n]=!1)}function e(n,t){n=n?"-"+ce(n,"-"):"";f(br+n,!0===t);f(eh+n,!1===t)}var t=n.ctrl,o=n.$element,r={},s=n.set,u=n.unset,c=n.parentForm,h=n.$animate;r[eh]=!(r[br]=o.hasClass(br));t.$setValidity=function(n,r,o){r===i?(t.$pending||(t.$pending={}),s(t.$pending,n,o)):(t.$pending&&u(t.$pending,n,o),fs(t.$pending)&&(t.$pending=i));di(r)?r?(u(t.$error,n,o),s(t.$$success,n,o)):(s(t.$error,n,o),u(t.$$success,n,o)):(u(t.$error,n,o),u(t.$$success,n,o));t.$pending?(f(oh,!0),t.$valid=t.$invalid=i,e("",null)):(f(oh,!1),t.$valid=fs(t.$error),t.$invalid=!t.$valid,e("",t.$valid));r=t.$pending&&t.$pending[n]?i:t.$error[n]?!1:t.$$success[n]?!0:null;e(n,r);c.$setValidity(n,r,t)}}function fs(n){if(n)for(var t in n)return!1;return!0}var ra=/^\/(.+)\/([a-z]*)$/,y=function(n){return a(n)?n.toLowerCase():n},es=Object.prototype.hasOwnProperty,au=function(n){return a(n)?n.toUpperCase():n},li,f,vt,sr=[].slice,ua=[].splice,fa=[].push,fi=Object.prototype.toString,ai=v("ng"),nt=n.angular||(n.angular={}),hr,vu=0,lr,hs,ei,ar,bf,kf,vi,ws,bs,ks,pr,wr;li=t.documentMode;h.$inject=[];ct.$inject=[];var s=Array.isArray,p=function(n){return a(n)?n.trim():n},os=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},cr=function(){if(u(cr.isActive_))return cr.isActive_;var n=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!n)try{new Function("")}catch(i){n=!0}return cr.isActive_=n},yu=["ng-","data-ng-","ng:","x-ng-"],ea=/[A-Z]/g,ss=!1,yf,yt=1,pu=3,oa={full:"1.3.15",major:1,minor:3,dot:15,codeName:"locality-filtration"};w.expando="ng339";lr=w.cache={};hs=1;w._data=function(n){return this.cache[n[this.expando]]||{}};var sa=/([\:\-\_]+(.))/g,ha=/^moz([A-Z])/,ca={mouseleave:"mouseout",mouseenter:"mouseover"},pf=v("jqLite"),la=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,wf=/<|&#?\w+;/,aa=/<([\w:]+)/,va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,et={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};et.optgroup=et.option;et.tbody=et.tfoot=et.colgroup=et.caption=et.thead;et.th=et.td;ei=w.prototype={ready:function(i){function r(){u||(u=!0,i())}var u=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),w(n).on("load",r))},toString:function(){var n=[];return r(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return 0<=n?f(this[n]):f(this[this.length+n])},length:0,push:fa,sort:[].sort,splice:[].splice};ar={};r("multiple selected checked disabled readOnly required open".split(" "),function(n){ar[y(n)]=n});bf={};r("input select option textarea button form details".split(" "),function(n){bf[n]=!0});kf={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:rf,removeData:tu},function(n,t){w[t]=n});r({data:rf,inheritedData:eu,scope:function(n){return f.data(n,"$scope")||eu(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return f.data(n,"$isolateScope")||f.data(n,"$isolateScopeNoTemplate")},controller:we,injector:function(n){return eu(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:ru,css:function(n,t,i){if(t=ir(t),u(i))n.style[t]=i;else return n.style[t]},attr:function(n,t,r){var f=y(t);if(ar[f])if(u(r))r?(n[t]=!0,n.setAttribute(t,f)):(n[t]=!1,n.removeAttribute(f));else return n[t]||(n.attributes.getNamedItem(t)||h).specified?f:i;else if(u(r))n.setAttribute(t,r);else if(n.getAttribute)return n=n.getAttribute(t,2),null===n?i:n},prop:function(n,t,i){if(u(i))n[t]=i;else return n[t]},text:function(){function n(n,t){if(e(t)){var i=n.nodeType;return i===yt||i===pu?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,t){if(e(t)){if(n.multiple&&"select"===pt(n)){var i=[];return r(n.options,function(n){n.selected&&i.push(n.value||n.text)}),0===i.length?null:i}return n.value}n.value=t},html:function(n,t){if(e(t))return n.innerHTML;nu(n,!0);n.innerHTML=t},empty:be},function(n,t){w.prototype[t]=function(t,r){var u,f,e=this.length,o;if(n!==be&&(2==n.length&&n!==ru&&n!==we?t:r)===i){if(c(t)){for(u=0;u<e;u++)if(n===rf)n(this[u],t);else for(f in t)n(this[u],f,t[f]);return this}for(u=n.$dv,e=u===i?Math.min(e,1):e,f=0;f<e;f++)o=n(this[f],t,r),u=u?u+o:o;return u}for(u=0;u<e;u++)n(this[u],t,r);return this}});r({removeData:tu,on:function ya(n,t,i,r){var e,f,s,o;if(u(r))throw pf("onargs");if(ae(n))for(f=iu(n,!0),r=f.events,e=f.handle,e||(e=f.handle=uc(n,r)),f=0<=t.indexOf(" ")?t.split(" "):[t],s=f.length;s--;)t=f[s],o=r[t],o||(r[t]=[],"mouseenter"===t||"mouseleave"===t?ya(n,ca[t],function(n){var i=n.relatedTarget;i&&(i===this||this.contains(i))||e(n,t)}):"$destroy"!==t&&n.addEventListener(t,e,!1),o=r[t]),o.push(i)},off:ye,one:function(n,t,i){n=f(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,t){var i,u=n.parentNode;nu(n);r(new w(t),function(t){i?u.insertBefore(t,i.nextSibling):u.replaceChild(t,n);i=t})},children:function(n){var t=[];return r(n.childNodes,function(n){n.nodeType===yt&&t.push(n)}),t},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var i=n.nodeType,r;if(i===yt||11===i)for(t=new w(t),i=0,r=t.length;i<r;i++)n.appendChild(t[i])},prepend:function(n,t){if(n.nodeType===yt){var i=n.firstChild;r(new w(t),function(t){n.insertBefore(t,i)})}},wrap:function(n,t){t=f(t).eq(0).clone()[0];var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)},remove:ke,detach:function(n){ke(n,!0)},after:function(n,t){var u=n,e=n.parentNode,i,f,r;for(t=new w(t),i=0,f=t.length;i<f;i++)r=t[i],e.insertBefore(r,u.nextSibling),u=r},addClass:fu,removeClass:uu,toggleClass:function(n,t,i){t&&r(t.split(" "),function(t){var r=i;e(r)&&(r=!ru(n,t));(r?fu:uu)(n,t)})},parent:function(n){return(n=n.parentNode)&&11!==n.nodeType?n:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:tf,triggerHandler:function(n,t,i){var u,e,o=t.type||t,f=iu(n);(f=(f=f&&f.events)&&f[o])&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:o,target:n},t.type&&(u=l(u,t)),t=lt(f),e=i?[u].concat(i):[u],r(t,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){w.prototype[t]=function(t,i,r){for(var o,s=0,h=this.length;s<h;s++)e(o)?(o=n(this[s],t,i,r),u(o)&&(o=f(o))):pe(o,n(this[s],t,i,r));return u(o)?o:this};w.prototype.bind=w.prototype.on;w.prototype.unbind=w.prototype.off});rr.prototype={put:function(n,t){this[hi(n,this.nextUid)]=t},get:function(n){return this[hi(n,this.nextUid)]},remove:function(n){var t=this[n=hi(n,this.nextUid)];return delete this[n],t}};var cs=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,pa=/,/,wa=/^\s*(_?)(\S+?)\1\s*$/,ls=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,oi=v("$injector");ur.$$annotate=function(n,t,i){var u;if("function"==typeof n){if(!(u=n.$inject)){if(u=[],n.length){if(t)throw a(i)&&i||(i=n.name||ec(n)),oi("strictdi",i);t=n.toString().replace(ls,"");t=t.match(cs);r(t[1].split(pa),function(n){n.replace(wa,function(n,t,i){u.push(i)})})}n.$inject=u}}else s(n)?(t=n.length-1,dr(n[t],"fn"),u=n.slice(0,t)):dr(n,"fn",!0);return u};var ba=v("$animate"),ka=["$provide",function(n){this.$$selectors={};this.register=function(t,i){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw ba("notcsel",t);this.$$selectors[t.substr(1)]=r;n.factory(r,i)};this.classNameFilter=function(n){return 1===arguments.length&&(this.$$classNameFilter=n instanceof RegExp?n:null),this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(n,t,i){function v(t){var r,u=n.defer();return u.promise.$$cancelFn=function(){r&&r()},i.$$postDigest(function(){r=t(function(){u.resolve()})}),u.promise}function y(n,t){var i=[],u=[],f=ut();return r((n.attr("class")||"").split(/\s+/),function(n){f[n]=!0}),r(t,function(n,t){var r=f[t];!1===n&&r?u.push(t):!0!==n||r||i.push(t)}),0<i.length+u.length&&[i.length?i:null,u.length?u:null]}function c(n,t,i){for(var r=0,u=t.length;r<u;++r)n[t[r]]=i}function u(){return o||(o=n.defer(),t(function(){o.resolve();o=null})),o.promise}function e(n,t){if(nt.isObject(t)){var i=l(t.from||{},t.to||{});n.css(i)}}var o;return{animate:function(n,t,i){return e(n,{from:t,to:i}),u()},enter:function(n,t,i,r){return e(n,r),i?i.after(n):t.prepend(n),u()},leave:function(n,t){return e(n,t),n.remove(),u()},move:function(n,t,i,r){return this.enter(n,t,i,r)},addClass:function(n,t,i){return this.setClass(n,t,[],i)},$$addClassImmediately:function(n,t,i){return n=f(n),t=a(t)?t:s(t)?t.join(" "):"",r(n,function(n){fu(n,t)}),e(n,i),u()},removeClass:function(n,t,i){return this.setClass(n,[],t,i)},$$removeClassImmediately:function(n,t,i){return n=f(n),t=a(t)?t:s(t)?t.join(" "):"",r(n,function(n){uu(n,t)}),e(n,i),u()},setClass:function(n,t,i,r){var o=this,e=!1,u;return n=f(n),u=n.data("$$animateClasses"),u?r&&u.options&&(u.options=nt.extend(u.options||{},r)):(u={classes:{},options:r},e=!0),r=u.classes,t=s(t)?t:t.split(" "),i=s(i)?i:i.split(" "),c(r,t,!0),c(r,i,!1),e&&(u.promise=v(function(t){var r=n.data("$$animateClasses"),i;n.removeData("$$animateClasses");r&&(i=y(n,r.classes),i&&o.$$setClassImmediately(n,i[0],i[1],r.options));t()}),n.data("$$animateClasses",u)),u.promise},$$setClassImmediately:function(n,t,i,r){return t&&this.$$addClassImmediately(n,t),i&&this.$$removeClassImmediately(n,i),e(n,r),u()},enabled:h,cancel:h}}]}],ot=v("$compile");ge.$inject=["$provide","$$sanitizeUriProvider"];var as=/^((?:x|data)[\:\-_])/i,da=v("$controller"),vs="application/json",df={"Content-Type":vs+";charset=utf-8"},ga=/^\[|^\{(?!\{)/,nv={"[":/]$/,"{":/}$/},tv=/^\)\]\}',?\n/,gf=v("$interpolate"),iv=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,rv={http:80,https:443,ftp:21},wu=v("$location"),uv={$$html5:!1,$$replace:!1,absUrl:su("$$absUrl"),url:function(n){if(e(n))return this.$$url;var t=iv.exec(n);return(t[1]||""===n)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===n)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:su("$$protocol"),host:su("$$host"),port:su("$$port"),path:so("$$path",function(n){return n=null!==n?n.toString():"","/"==n.charAt(0)?n:"/"+n}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(a(n)||b(n))n=n.toString(),this.$$search=se(n);else if(c(n))n=ni(n,{}),r(n,function(t,i){null==t&&delete n[i]}),this.$$search=n;else throw wu("isrcharg");break;default:e(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:so("$$hash",function(n){return null!==n?n.toString():""}),replace:function(){return this.$$replace=!0,this}};r([oo,sf,of],function(n){n.prototype=Object.create(uv);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==of||!this.$$html5)throw wu("nostate");return this.$$state=e(t)?null:t,this}});var st=v("$parse"),fv=Function.prototype.call,ev=Function.prototype.apply,ov=Function.prototype.bind,vr=ut();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(n,t){n.constant=n.literal=n.sharedGetter=!0;vr[t]=n});vr["this"]=function(n){return n};vr["this"].sharedGetter=!0;var yr=l(ut(),{"+":function(n,t,r,f){return r=r(n,t),f=f(n,t),u(r)?u(f)?r+f:r:u(f)?f:i},"-":function(n,t,i,r){return i=i(n,t),r=r(n,t),(u(i)?i:0)-(u(r)?r:0)},"*":function(n,t,i,r){return i(n,t)*r(n,t)},"/":function(n,t,i,r){return i(n,t)/r(n,t)},"%":function(n,t,i,r){return i(n,t)%r(n,t)},"===":function(n,t,i,r){return i(n,t)===r(n,t)},"!==":function(n,t,i,r){return i(n,t)!==r(n,t)},"==":function(n,t,i,r){return i(n,t)==r(n,t)},"!=":function(n,t,i,r){return i(n,t)!=r(n,t)},"<":function(n,t,i,r){return i(n,t)<r(n,t)},">":function(n,t,i,r){return i(n,t)>r(n,t)},"<=":function(n,t,i,r){return i(n,t)<=r(n,t)},">=":function(n,t,i,r){return i(n,t)>=r(n,t)},"&&":function(n,t,i,r){return i(n,t)&&r(n,t)},"||":function(n,t,i,r){return i(n,t)||r(n,t)},"!":function(n,t,i){return!i(n,t)},"=":!0,"|":!0}),sv={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ne=function(n){this.options=n};ne.prototype={constructor:ne,lex:function(n){for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(n=this.text.charAt(this.index),'"'===n||"'"===n)this.readString(n);else if(this.isNumber(n)||"."===n&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(n))this.readIdent();else if(this.is(n,"(){}[].,;:?"))this.tokens.push({index:this.index,text:n}),this.index++;else if(this.isWhitespace(n))this.index++;else{var t=n+this.peek(),i=t+this.peek(2),r=yr[t],u=yr[i];yr[n]||r||u?(n=u?i:r?t:n,this.tokens.push({index:this.index,text:n,operator:!0}),this.index+=n.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return-1!==t.indexOf(n)},peek:function(n){return n=n||1,this.index+n<this.text.length?this.text.charAt(this.index+n):!1},isNumber:function(n){return"0"<=n&&"9">=n&&"string"==typeof n},isWhitespace:function(n){return" "===n||"\r"===n||"\t"===n||"\n"===n||"\v"===n||""===n},isIdent:function(n){return"a"<=n&&"z">=n||"A"<=n&&"Z">=n||"_"===n||"$"===n},isExpOperator:function(n){return"-"===n||"+"===n||this.isNumber(n)},throwError:function(n,t,i){i=i||this.index;t=u(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw st("lexerr",n,t,this.text);},readNumber:function(){for(var t,i,n="",r=this.index;this.index<this.text.length;){if(t=y(this.text.charAt(this.index)),"."==t||this.isNumber(t))n+=t;else if(i=this.peek(),"e"==t&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&"e"==n.charAt(n.length-1))n+=t;else if(!this.isExpOperator(t)||i&&this.isNumber(i)||"e"!=n.charAt(n.length-1))break;else this.throwError("Invalid exponent");this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){for(var t,n=this.index;this.index<this.text.length;){if(t=this.text.charAt(this.index),!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:n,text:this.text.slice(n,this.index),identifier:!0})},readString:function(n){var f=this.index,t,u;this.index++;for(var r="",u=n,i=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),u=u+t,i)"u"===t?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,r+=String.fromCharCode(parseInt(i,16))):r+=sv[t]||t,i=!1;else if("\\"===t)i=!0;else{if(t===n){this.index++;this.tokens.push({index:f,text:u,constant:!0,value:r});return}r+=t}this.index++}this.throwError("Unterminated quote",f)}};vi=function(n,t,i){this.lexer=n;this.$filter=t;this.options=i};vi.ZERO=l(function(){return 0},{sharedGetter:!0,constant:!0});vi.prototype={constructor:vi,parse:function(n){return this.text=n,this.tokens=this.lexer.lex(n),n=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var n,t,i;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.peek().identifier&&(this.peek().text in vr)?n=vr[this.consume().text]:this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(n=this.functionCall(n,i),i=null):"["===t.text?(i=n,n=this.objectIndex(n)):"."===t.text?(i=n,n=this.fieldAccess(n)):this.throwError("IMPOSSIBLE");return n},throwError:function(n,t){throw st("syntax",t.text,n,t.index+1,this.text,this.text.substring(t.index));},peekToken:function(){if(0===this.tokens.length)throw st("ueoe",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){n=this.tokens[n];var f=n.text;if(f===t||f===i||f===r||f===u||!(t||i||r||u))return n}return!1},expect:function(n,t,i,r){return(n=this.peek(n,t,i,r))?(this.tokens.shift(),n):!1},consume:function(n){if(0===this.tokens.length)throw st("ueoe",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},unaryFn:function(n,t){var i=yr[n];return l(function(n,r){return i(n,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(n,t,i,r){var u=yr[t];return l(function(t,r){return u(t,r,n,i)},{constant:n.constant&&i.constant,inputs:!r&&[n,i]})},identifier:function(){for(var n=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)n+=this.consume().text+this.consume().text;return fl(n,this.options,this.text)},constant:function(){var n=this.consume().value;return l(function(){return n},{constant:!0,literal:!0})},statements:function(){for(var n=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&n.push(this.filterChain()),!this.expect(";"))return 1===n.length?n[0]:function(t,i){for(var u,r=0,f=n.length;r<f;r++)u=n[r](t,i);return u}},filterChain:function(){for(var n=this.expression();this.expect("|");)n=this.filter(n);return n},filter:function(n){var u=this.$filter(this.consume().text),t,r,f;if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());return f=[n].concat(t||[]),l(function(f,e){var o=n(f,e);if(r){for(r[0]=o,o=t.length;o--;)r[o+1]=t[o](f,e);return u.apply(i,r)}return u(o)},{constant:!u.$stateful&&f.every(hf),inputs:!u.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary(),t,i;return(i=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,i.index)+"] can not be assigned to",i),t=this.ternary(),l(function(i,r){return n.assign(i,t(i,r),r)},{inputs:[n,t]})):n},ternary:function(){var n=this.logicalOR(),t,i;return this.expect("?")&&(t=this.assignment(),this.consume(":"))?(i=this.assignment(),l(function(r,u){return n(r,u)?t(r,u):i(r,u)},{constant:n.constant&&t.constant&&i.constant})):n},logicalOR:function(){for(var n=this.logicalAND(),t;t=this.expect("||");)n=this.binaryFn(n,t.text,this.logicalAND(),!0);return n},logicalAND:function(){for(var n=this.equality(),t;t=this.expect("&&");)n=this.binaryFn(n,t.text,this.equality(),!0);return n},equality:function(){for(var n=this.relational(),t;t=this.expect("==","!=","===","!==");)n=this.binaryFn(n,t.text,this.relational());return n},relational:function(){for(var n=this.additive(),t;t=this.expect("<",">","<=",">=");)n=this.binaryFn(n,t.text,this.additive());return n},additive:function(){for(var n=this.multiplicative(),t;t=this.expect("+","-");)n=this.binaryFn(n,t.text,this.multiplicative());return n},multiplicative:function(){for(var n=this.unary(),t;t=this.expect("*","/","%");)n=this.binaryFn(n,t.text,this.unary());return n},unary:function(){var n;return this.expect("+")?this.primary():(n=this.expect("-"))?this.binaryFn(vi.ZERO,n.text,this.unary()):(n=this.expect("!"))?this.unaryFn(n.text,this.unary()):this.primary()},fieldAccess:function(n){var t=this.identifier();return l(function(r,u,f){return r=f||n(r,u),null==r?i:t(r)},{assign:function(i,r,u){var f=n(i,u);return f||n.assign(i,f={},u),t.assign(f,r)}})},objectIndex:function(n){var t=this.text,r=this.expression();return this.consume("]"),l(function(u,f){var e=n(u,f),o=r(u,f);return at(o,t),e?ft(e[o],t):i},{assign:function(i,u,f){var o=at(r(i,f),t),e=ft(n(i,f),t);return e||n.assign(i,e={},f),e[o]=u}})},functionCall:function(n,t){var e=[],f,r;if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return this.consume(")"),f=this.text,r=e.length?[]:null,function(o,s){var l=t?t(o,s):u(t)?i:o,c=n(o,s,l)||h,a;if(r)for(a=e.length;a--;)r[a]=ft(e[a](o,s),f);if(ft(l,f),c){if(c.constructor===c)throw st("isecfn",f);if(c===fv||c===ev||c===ov)throw st("isecff",f);}return l=c.apply?c.apply(l,r):c(r[0],r[1],r[2],r[3],r[4]),r&&(r.length=0),ft(l,f)}},arrayDeclaration:function(){var n=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),l(function(t,i){for(var u=[],r=0,f=n.length;r<f;r++)u.push(n[r](t,i));return u},{literal:!0,constant:n.every(hf),inputs:n})},object:function(){var i=[],t=[],n;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;n=this.consume();n.constant?i.push(n.value):n.identifier?i.push(n.text):this.throwError("invalid key",n);this.consume(":");t.push(this.expression())}while(this.expect(","));return this.consume("}"),l(function(n,r){for(var f={},u=0,e=t.length;u<e;u++)f[i[u]]=t[u](n,r);return f},{literal:!0,constant:t.every(hf),inputs:t})}};var hv=ut(),cv=ut(),lv=Object.prototype.valueOf,gt=v("$sce"),ht={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ot=v("$compile"),d=t.createElement("a"),ys=dt(n.location.href);vo.$inject=["$provide"];yo.$inject=["$locale"];po.$inject=["$locale"];var ps=".",av={yyyy:k("FullYear",4),yy:k("FullYear",2,0,!0),y:k("FullYear",1),MMMM:cu("Month"),MMM:cu("Month",!0),MM:k("Month",2,1),M:k("Month",1,1),dd:k("Date",2),d:k("Date",1),HH:k("Hours",2),H:k("Hours",1),hh:k("Hours",2,-12),h:k("Hours",1,-12),mm:k("Minutes",2),m:k("Minutes",1),ss:k("Seconds",2),s:k("Seconds",1),sss:k("Milliseconds",3),EEEE:cu("Day"),EEE:cu("Day",!0),a:function(n,t){return 12>n.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(n){return n=-1*n.getTimezoneOffset(),(0<=n?"+":"")+(hu(Math[0<n?"floor":"ceil"](n/60),2)+hu(Math.abs(n%60),2))},ww:ko(2),w:ko(1),G:lf,GG:lf,GGG:lf,GGGG:function(n,t){return 0>=n.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},vv=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yv=/^\-?\d+$/;go.$inject=["$locale"];ws=tt(y);bs=tt(au);ns.$inject=["$parse"];ks=tt({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref&&!t.name)return function(n,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===fi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});pr={};r(ar,function(n,t){if("multiple"!=n){var i=bt("ng-"+t);pr[i]=function(){return{restrict:"A",priority:100,link:function(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}}}}});r(kf,function(n,t){pr[t]=function(){return{priority:100,link:function(n,i,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(i=r.ngPattern.match(ra))){r.$set("ngPattern",new RegExp(i[1],i[2]));return}n.$watch(r[t],function(n){r.$set(t,n)})}}}});r(["src","srcset","href"],function(n){var t=bt("ng-"+n);pr[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;"href"===n&&"[object SVGAnimatedString]"===fi.call(r.prop("href"))&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){t?(u.$set(f,t),li&&e&&r.prop(e,u[f])):"href"===n&&u.$set(f,null)})}}}});wr={$addControl:h,$$renameControl:function(n,t){n.$name=t},$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h};ts.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ds=function(n){return["$timeout",function(t){return{name:"form",restrict:n?"EAC":"E",controller:ts,compile:function(r,u){r.addClass(yi).addClass(br);var f=u.name?"name":n&&u.ngForm?"ngForm":!1;return{pre:function(n,r,u,e){var o,s;if(!("action"in u)){o=function(t){n.$apply(function(){e.$commitViewValue();e.$setSubmitted()});t.preventDefault()};r[0].addEventListener("submit",o,!1);r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",o,!1)},0,!1)})}s=e.$$parentForm;f&&(fr(n,null,e.$name,e,e.$name),u.$observe(f,function(t){e.$name!==t&&(fr(n,null,e.$name,i,e.$name),s.$$renameControl(e,t),fr(n,null,e.$name,e,e.$name))}));r.on("$destroy",function(){s.$removeControl(e);f&&fr(n,null,u[f],i,e.$name);l(e,wr)})}}}}}]},pv=ds(),wv=ds(!0),bv=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,kv=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,dv=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,gv=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,gs=/^(\d{4})-(\d{2})-(\d{2})$/,nh=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,te=/^(\d{4})-W(\d\d)$/,th=/^(\d{4})-(\d\d)$/,ih=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,rh={text:function(n,t,i,r,u,f){er(n,t,i,r,u,f);af(r)},date:or("date",gs,lu(gs,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":or("datetimelocal",nh,lu(nh,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:or("time",ih,lu(ih,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:or("week",te,function(n,t){var i;if(it(n))return n;if(a(n)&&(te.lastIndex=0,i=te.exec(n),i)){var u=+i[1],r=+i[2],f=i=0,e=0,o=0,s=bo(u),r=7*(r-1);return t&&(i=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(u,0,s.getDate()+r,i,f,e,o)}return NaN},"yyyy-Www"),month:or("month",th,lu(th,["yyyy","MM"]),"yyyy-MM"),number:function(n,t,r,f,o,s){var h,c;is(n,t,r,f);er(n,t,r,f,o,s);f.$$parserName="number";f.$parsers.push(function(n){return f.$isEmpty(n)?null:gv.test(n)?parseFloat(n):i});f.$formatters.push(function(n){if(!f.$isEmpty(n)){if(!b(n))throw ku("numfmt",n);n=n.toString()}return n});(u(r.min)||r.ngMin)&&(f.$validators.min=function(n){return f.$isEmpty(n)||e(h)||n>=h},r.$observe("min",function(n){u(n)&&!b(n)&&(n=parseFloat(n,10));h=b(n)&&!isNaN(n)?n:i;f.$validate()}));(u(r.max)||r.ngMax)&&(f.$validators.max=function(n){return f.$isEmpty(n)||e(c)||n<=c},r.$observe("max",function(n){u(n)&&!b(n)&&(n=parseFloat(n,10));c=b(n)&&!isNaN(n)?n:i;f.$validate()}))},url:function(n,t,i,r,u,f){er(n,t,i,r,u,f);af(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||kv.test(i)}},email:function(n,t,i,r,u,f){er(n,t,i,r,u,f);af(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||dv.test(i)}},radio:function(n,t,i,r){e(i.name)&&t.attr("name",++vu);t.on("click",function(n){t[0].checked&&r.$setViewValue(i.value,n&&n.type)});r.$render=function(){t[0].checked=i.value==r.$viewValue};i.$observe("value",r.$render)},checkbox:function(n,t,i,r,u,f,e,o){var s=rs(o,n,"ngTrueValue",i.ngTrueValue,!0),h=rs(o,n,"ngFalseValue",i.ngFalseValue,!1);t.on("click",function(n){r.$setViewValue(t[0].checked,n&&n.type)});r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return!1===n};r.$formatters.push(function(n){return rt(n,s)});r.$parsers.push(function(n){return n?s:h})},hidden:h,button:h,submit:h,reset:h,file:h},uh=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(rh[y(e.type)]||rh.text)(u,f,e,o[0],t,n,i,r)}}}}],ny=/^(true|false|\d+)$/,ty=function(){return{restrict:"A",priority:100,compile:function(n,t){return ny.test(t.ngValue)?function(n,t,i){i.$set("value",n.$eval(i.ngValue))}:function(n,t,i){n.$watch(i.ngValue,function(n){i.$set("value",n)})}}}},iy=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,r,u){n.$$addBindingInfo(r,u.ngBind);r=r[0];t.$watch(u.ngBind,function(n){r.textContent=n===i?"":n})}}}}],ry=["$interpolate","$compile",function(n,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,u,f){r=n(u.attr(f.$attr.ngBindTemplate));t.$$addBindingInfo(u,r.expressions);u=u[0];f.$observe("ngBindTemplate",function(n){u.textContent=n===i?"":n})}}}}],uy=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(n){return(n||"").toString()});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){r.html(n.getTrustedHtml(f(t))||"")})}}}}],fy=tt({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}}),ey=vf("",!0),oy=vf("Odd",0),sy=vf("Even",1),hy=ui({compile:function(n,t){t.$set("ngCloak",i);n.removeClass("ng-cloak")}}),cy=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],fh={},ly={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=bt("ng-"+n);fh[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t],null,!0);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};ly[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var ay=["$animate",function(n){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.createComment(" end ngIf: "+u.ngIf+" ");h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=gr(h.clone),n.leave(o).then(function(){o=null}),h=null))})}}}],vy=["$templateRequest","$anchorScroll","$animate","$sce",function(n,t,i,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:nt.noop,compile:function(f,e){var s=e.ngInclude||e.src,h=e.onload||"",o=e.autoscroll;return function(f,e,c,l,a){var w=0,v,y,p,b=function(){y&&(y.remove(),y=null);v&&(v.$destroy(),v=null);p&&(i.leave(p).then(function(){y=null}),y=p,p=null)};f.$watch(r.parseAsResourceUrl(s),function(r){var c=function(){u(o)&&(!o||f.$eval(o))&&t()},s=++w;r?(n(r,!0).then(function(n){if(s===w){var t=f.$new();l.template=n;n=a(t,function(n){b();i.enter(n,null,e).then(c)});v=t;p=n;v.$emit("$includeContentLoaded",r);f.$eval(h)}},function(){s===w&&(b(),f.$emit("$includeContentError",r))}),f.$emit("$includeContentRequested",r)):(b(),l.template=null)})}}}}],yy=["$compile",function(n){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){/SVG/.test(r[0].toString())?(r.empty(),n(ve(f.template,t).childNodes)(i,function(n){r.append(n)},{futureParentElement:r})):(r.html(f.template),n(r.contents())(i))}}}],py=ui({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),wy=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,t,u,f){var o=t.attr(u.$attr.ngList)||", ",h="false"!==u.ngTrim,c=h?p(o):o;f.$parsers.push(function(n){if(!e(n)){var t=[];return n&&r(n.split(c),function(n){n&&t.push(h?p(n):n)}),t}});f.$formatters.push(function(n){return s(n)?n.join(o):i});f.$isEmpty=function(n){return!n||!n.length}}}},br="ng-valid",eh="ng-invalid",yi="ng-pristine",bu="ng-dirty",oh="ng-pending",ku=new v("ngModel"),by=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(n,t,f,s,c,l,a,v,y,p){var it,g;this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=i;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=i;this.$name=p(f.name||"",!1)(n);var d=c(f.ngModel),rt=d.assign,tt=d,ut=rt,nt=null,k,w=this;this.$$setOptions=function(n){if((w.$options=n)&&n.getterSetter){var t=c(f.ngModel+"()"),i=c(f.ngModel+"($$$p)");tt=function(n){var i=d(n);return o(i)&&(i=t(n)),i};ut=function(n){o(d(n))?i(n,{$$$p:w.$modelValue}):rt(n,w.$modelValue)}}else if(!d.assign)throw ku("nonassign",f.ngModel,wt(s));};this.$render=h;this.$isEmpty=function(n){return e(n)||""===n||null===n||n!==n};it=s.inheritedData("$formController")||wr;g=0;us({ctrl:this,$element:s,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]},parentForm:it,$animate:l});this.$setPristine=function(){w.$dirty=!1;w.$pristine=!0;l.removeClass(s,bu);l.addClass(s,yi)};this.$setDirty=function(){w.$dirty=!0;w.$pristine=!1;l.removeClass(s,yi);l.addClass(s,bu);it.$setDirty()};this.$setUntouched=function(){w.$touched=!1;w.$untouched=!0;l.setClass(s,"ng-untouched","ng-touched")};this.$setTouched=function(){w.$touched=!0;w.$untouched=!1;l.setClass(s,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){a.cancel(nt);w.$viewValue=w.$$lastCommittedViewValue;w.$render()};this.$validate=function(){if(!b(w.$modelValue)||!isNaN(w.$modelValue)){var n=w.$$rawModelValue,t=w.$valid,r=w.$modelValue,u=w.$options&&w.$options.allowInvalid;w.$$runValidators(n,w.$$lastCommittedViewValue,function(f){u||t===f||(w.$modelValue=f?n:i,w.$modelValue!==r&&w.$$writeModelToScope())})}};this.$$runValidators=function(n,t,u){function c(){var i=!0;return r(w.$validators,function(r,u){var e=r(n,t);i=i&&e;f(u,e)}),i?!0:(r(w.$asyncValidators,function(n,t){f(t,null)}),!1)}function l(){var u=[],s=!0;r(w.$asyncValidators,function(r,e){var h=r(n,t);if(!h||!o(h.then))throw ku("$asyncValidators",h);f(e,i);u.push(h.then(function(){f(e,!0)},function(){s=!1;f(e,!1)}))});u.length?y.all(u).then(function(){e(s)},h):e(!0)}function f(n,t){s===g&&w.$setValidity(n,t)}function e(n){s===g&&u(n)}g++;var s=g;(function(){var n=w.$$parserName||"parse";if(k===i)f(n,null);else return k||(r(w.$validators,function(n,t){f(t,null)}),r(w.$asyncValidators,function(n,t){f(t,null)})),f(n,k),k;return!0})()?c()?l():e(!1):e(!1)};this.$commitViewValue=function(){var n=w.$viewValue;a.cancel(nt);(w.$$lastCommittedViewValue!==n||""===n&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=n,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue,r,u,f;if(k=e(t)?i:!0)for(r=0;r<w.$parsers.length;r++)if(t=w.$parsers[r](t),e(t)){k=!1;break}b(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=tt(n));u=w.$modelValue;f=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t;f&&(w.$modelValue=t,w.$modelValue!==u&&w.$$writeModelToScope());w.$$runValidators(t,w.$$lastCommittedViewValue,function(n){f||(w.$modelValue=n?t:i,w.$modelValue!==u&&w.$$writeModelToScope())})};this.$$writeModelToScope=function(){ut(n,w.$modelValue);r(w.$viewChangeListeners,function(n){try{n()}catch(i){t(i)}})};this.$setViewValue=function(n,t){w.$viewValue=n;w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)};this.$$debounceViewValueCommit=function(t){var r=0,i=w.$options;i&&u(i.debounce)&&(i=i.debounce,b(i)?r=i:b(i[t])?r=i[t]:b(i["default"])&&(r=i["default"]));a.cancel(nt);r?nt=a(function(){w.$commitViewValue()},r):v.$$phase?w.$commitViewValue():n.$apply(function(){w.$commitViewValue()})};n.$watch(function(){var t=tt(n);if(t!==w.$modelValue){w.$modelValue=w.$$rawModelValue=t;k=i;for(var u=w.$formatters,f=u.length,r=t;f--;)r=u[f](r);w.$viewValue!==r&&(w.$viewValue=w.$$lastCommittedViewValue=r,w.$render(),w.$$runValidators(t,r,h))}return t})}],ky=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:by,priority:1,compile:function(t){return t.addClass(yi).addClass("ng-untouched").addClass(br),{pre:function(n,t,i,r){var u=r[0],f=r[1]||wr;u.$$setOptions(r[2]&&r[2].$options);f.$addControl(u);i.$observe("name",function(n){u.$name!==n&&f.$$renameControl(u,n)});n.$on("$destroy",function(){f.$removeControl(u)})},post:function(t,i,r,u){var f=u[0];if(f.$options&&f.$options.updateOn)i.on(f.$options.updateOn,function(n){f.$$debounceViewValueCommit(n&&n.type)});i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(f.$setTouched):t.$apply(f.$setTouched))})}}}}}],dy=/(\s+|^)default(\s+|$)/,gy=function(){return{restrict:"A",controller:["$scope","$attrs",function(n,t){var r=this;this.$options=n.$eval(t.ngModelOptions);this.$options.updateOn!==i?(this.$options.updateOnDefault=!1,this.$options.updateOn=p(this.$options.updateOn.replace(dy,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},np=ui({terminal:!0,priority:1e3}),tp=["$locale","$interpolate",function(n,t){var i=/{}/g,u=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,e,o){function w(n){e.text(n||"")}var l=o.count,s=o.$attr.when&&e.attr(o.$attr.when),a=o.offset||0,h=f.$eval(s)||{},v={},s=t.startSymbol(),b=t.endSymbol(),k=s+l+"-"+a+b,p=nt.noop,c;r(o,function(n,t){var i=u.exec(t);i&&(i=(i[1]?"-":"")+y(i[2]),h[i]=e.attr(o.$attr[t]))});r(h,function(n,r){v[r]=t(n.replace(i,k))});f.$watch(l,function(t){t=parseFloat(t);var i=isNaN(t);i||t in h||(t=n.pluralCat(t-a));t===c||i&&isNaN(c)||(p(),p=f.$watch(v[t],w),c=t)})}}}],ip=["$parse","$animate",function(n,u){var e=v("ngRepeat"),o=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=0===t;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=0==(t&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(s,h){var y=h.ngRepeat,tt=t.createComment(" end ngRepeat: "+y+" "),c=y.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),p,a,w,b,g,nt,v;if(!c)throw e("iexp",y);var k=c[1],it=c[2],l=c[3],d=c[4],c=k.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!c)throw e("iidexp",k);if(p=c[3]||c[1],a=c[2],l&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(l)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(l)))throw e("badident",l);return v={$id:hi},d?w=n(d):(g=function(n,t){return hi(t)},nt=function(n){return n}),function(n,t,s,h,c){w&&(b=function(t,i,r){return a&&(v[a]=t),v[p]=i,v.$index=r,w(n,v)});var k=ut();n.$watchCollection(it,function(s){var h,st,ht=t[0],rt,ct=ut(),et,ft,ot,w,d,v,it;if(l&&(n[l]=s),pi(s))d=s,st=b||g;else{st=b||nt;d=[];for(it in s)s.hasOwnProperty(it)&&"$"!=it.charAt(0)&&d.push(it);d.sort()}for(et=d.length,it=Array(et),h=0;h<et;h++)if(ft=s===d?h:d[h],ot=s[ft],w=st(ft,ot,h),k[w])v=k[w],delete k[w],ct[w]=v,it[h]=v;else{if(ct[w])throw r(it,function(n){n&&n.scope&&(k[n.id]=n)}),e("dupes",y,w,ot);it[h]={id:w,scope:i,clone:i};ct[w]=!0}for(rt in k){if(v=k[rt],w=gr(v.clone),u.leave(w),w[0].parentNode)for(h=0,st=w.length;h<st;h++)w[h].$$NG_REMOVED=!0;v.scope.$destroy()}for(h=0;h<et;h++)if(ft=s===d?h:d[h],ot=s[ft],v=it[h],v.scope){rt=ht;do rt=rt.nextSibling;while(rt&&rt.$$NG_REMOVED);v.clone[0]!=rt&&u.move(gr(v.clone),null,f(ht));ht=v.clone[v.clone.length-1];o(v.scope,h,p,ot,a,ft,et)}else c(function(n,t){v.scope=t;var i=tt.cloneNode(!1);n[n.length++]=i;u.enter(n,null,f(ht));ht=i;v.clone=n;ct[v.id]=v;o(v.scope,h,p,ot,a,ft,et)});k=ct})}}}}],rp=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],up=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],fp=ui(function(n,t,i){n.$watchCollection(i.ngStyle,function(n,i){i&&n!==i&&r(i,function(n,i){t.css(i,"")});n&&t.css(n)})}),ep=["$animate",function(n){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,u,f,e){var c=[],h=[],o=[],s=[],l=function(n,t){return function(){n.splice(t,1)}};i.$watch(f.ngSwitch||f.on,function(i){for(var a,u=0,f=o.length;u<f;++u)n.cancel(o[u]);for(u=o.length=0,f=s.length;u<f;++u)a=gr(h[u].clone),s[u].$destroy(),(o[u]=n.leave(a)).then(l(o,u));h.length=0;s.length=0;(c=e.cases["!"+i]||e.cases["?"])&&r(c,function(i){i.transclude(function(r,u){s.push(u);var f=i.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");h.push({clone:r});n.enter(r,f.parent(),f)})})})}}}],op=ui({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["!"+i.ngSwitchWhen]=r.cases["!"+i.ngSwitchWhen]||[];r.cases["!"+i.ngSwitchWhen].push({transclude:u,element:t})}}),sp=ui({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),hp=ui({restrict:"EAC",link:function(n,t,i,r,u){if(!u)throw v("ngTransclude")("orphan",wt(t));u(function(n){t.empty();t.append(n)})}}),cp=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"==i.type&&n.put(i.id,t[0].text)}}}],lp=v("ngOptions"),ap=tt({restrict:"A",terminal:!0}),vp=["$compile","$parse",function(n,o){var c=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,l={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,t,i){var r=this,f={},e=l,u;r.databound=i.ngModel;r.init=function(n,t,i){e=n;u=i};r.addOption=function(t,i){si(t,'"option value"');f[t]=!0;e.$viewValue==t&&(n.val(t),u.parent()&&u.remove());i&&i[0].hasAttribute("selected")&&(i[0].selected=!0)};r.removeOption=function(n){this.hasOption(n)&&(delete f[n],e.$viewValue===n&&this.renderUnknownOption(n))};r.renderUnknownOption=function(t){t="? "+hi(t)+" ?";u.val(t);n.prepend(u);n.val(t);u.prop("selected",!0)};r.hasOption=function(n){return f.hasOwnProperty(n)};t.$on("$destroy",function(){r.renderUnknownOption=h})}],link:function(h,l,a,v){function ut(n,t,i,r){i.$render=function(){var n=i.$viewValue;r.hasOption(n)?(b.parent()&&b.remove(),t.val(n),""===n&&g.prop("selected",!0)):e(n)&&g?t.val(""):r.renderUnknownOption(n)};t.on("change",function(){n.$apply(function(){b.parent()&&b.remove();i.$setViewValue(t.val())})})}function ft(n,t,i){var f;i.$render=function(){var n=new rr(i.$viewValue);r(t.find("option"),function(t){t.selected=u(n.get(t.value))})};n.$watch(function(){rt(f,i.$viewValue)||(f=lt(i.$viewValue),i.$render())});t.on("change",function(){n.$apply(function(){var n=[];r(t.find("option"),function(t){t.selected&&n.push(t.value)});i.$setViewValue(n)})})}function et(t,f,e){function a(n,i,r){return ut[ct]=r,k&&(ut[k]=i),n(t,ut)}function at(n){var t,i;if(p)if(l&&s(n))for(t=new rr([]),i=0;i<n.length;i++)t.put(a(l,null,n[i]),!0);else t=new rr(n);else l&&(n=a(l,null,n));return function(i,r){var f;return f=l?l:v?v:ht,p?u(t.remove(a(f,i,r))):n===a(f,i,r)}}function ft(){nt||(t.$$postDigest(et),nt=!0)}function b(n,t,i){n[t]=n[t]||0;n[t]+=i?1:-1}function et(){var ht,yt,n,v,d,c,h,ct,s,ft,pt,i,et,o,lt,wt;for(nt=!1,ht={"":[]},yt=[""],d=e.$viewValue,c=it(t)||[],ct=k?Object.keys(c).sort():c,et={},h=at(d),o=!1,rt={},i=0;pt=ct.length,i<pt;i++)(s=i,k&&(s=ct[i],"$"===s.charAt(0)))||(ft=c[s],n=a(vt,s,ft)||"",(v=ht[n])||(v=ht[n]=[],yt.push(n)),n=h(s,ft),o=o||n,ft=a(st,s,ft),ft=u(ft)?ft:"",wt=l?l(t,ut):k?ct[i]:i,l&&(rt[wt]=s),v.push({id:wt,label:ft,selected:n}));for(p||(y||null===d?ht[""].unshift({id:"",label:"",selected:!o}):o||ht[""].unshift({id:"?",label:"",selected:!0})),s=0,ct=yt.length;s<ct;s++){for(n=yt[s],v=ht[n],g.length<=s?(d={element:ot.clone().attr("label",n),label:v.label},c=[d],g.push(c),f.append(d.element)):(c=g[s],d=c[0],d.label!=n&&d.element.attr("label",d.label=n)),o=null,i=0,pt=v.length;i<pt;i++)n=v[i],(h=c[i+1])?(o=h.element,h.label!==n.label&&(b(et,h.label,!1),b(et,n.label,!0),o.text(h.label=n.label),o.prop("label",h.label)),h.id!==n.id&&o.val(h.id=n.id),o[0].selected!==n.selected&&(o.prop("selected",h.selected=n.selected),li&&o.prop("selected",h.selected))):(""===n.id&&y?lt=y:(lt=tt.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),c.push(h={element:lt,label:n.label,id:n.id,selected:n.selected}),b(et,n.label,!0),o?o.after(lt):d.element.append(lt),o=lt);for(i++;c.length>i;)n=c.pop(),b(et,n.label,!1),n.element.remove()}for(;g.length>s;){for(v=g.pop(),i=1;i<v.length;++i)b(et,v[i].label,!1);v[0].element.remove()}r(et,function(n,t){0<n?w.addOption(t):0>n&&w.removeOption(t)})}var h;if(!(h=d.match(c)))throw lp("iexp",d,wt(f));var st=o(h[2]||h[1]),ct=h[4]||h[6],lt=/ as /.test(h[0])&&h[1],v=lt?o(lt):null,k=h[5],vt=o(h[3]||""),ht=o(h[2]?h[1]:ct),it=o(h[7]),l=h[8]?o(h[8]):null,rt={},g=[[{element:f,label:""}]],ut={};y&&(n(y)(t),y.removeClass("ng-scope"),y.remove());f.empty();f.on("change",function(){t.$apply(function(){var o=it(t)||[],u,n;p?(u=[],r(f.val(),function(n){n=l?rt[n]:n;u.push("?"===n?i:""===n?null:a(v?v:ht,n,o[n]))})):(n=l?rt[f.val()]:f.val(),u="?"===n?i:""===n?null:a(v?v:ht,n,o[n]));e.$setViewValue(u);et()})});e.$render=et;t.$watchCollection(it,ft);t.$watchCollection(function(){var i=it(t),r,n,u;if(i&&s(i))for(r=Array(i.length),n=0,u=i.length;n<u;n++)r[n]=a(st,n,i[n]);else if(i)for(n in r={},i)i.hasOwnProperty(n)&&(r[n]=a(st,n,i[n]));return r},ft);p&&t.$watchCollection(function(){return e.$modelValue},ft)}var w,k,it;if(v[1]){w=v[0];v=v[1];var p=a.multiple,d=a.ngOptions,y=!1,g,nt=!1,tt=f(t.createElement("option")),ot=f(t.createElement("optgroup")),b=tt.clone();for(a=0,k=l.children(),it=k.length;a<it;a++)if(""===k[a].value){g=y=k.eq(a);break}w.init(v,y,b);p&&(v.$isEmpty=function(n){return!n||0===n.length});d?et(h,l,v):p?ft(h,l,v):ut(h,l,v,w)}}}}],yp=["$interpolate",function(n){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(i,r){if(e(r.value)){var u=n(i.text(),!0);u||r.$set("value",i.text())}return function(n,i,r){var e=i.parent(),f=e.data("$selectController")||e.parent().data("$selectController");f&&f.databound||(f=t);u?n.$watch(u,function(n,t){r.$set("value",n);t!==n&&f.removeOption(t);f.addOption(n,i)}):f.addOption(r.value,i);i.on("$destroy",function(){f.removeOption(r.value)})}}}}],pp=tt({restrict:"E",terminal:!1}),sh=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},hh=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,r,u){if(u){var f,o=r.ngPattern||r.pattern;r.$observe("pattern",function(n){if(a(n)&&0<n.length&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw v("ngPattern")("noregexp",o,n,wt(t));f=n||i;u.$validate()});u.$validators.pattern=function(n){return u.$isEmpty(n)||e(f)||f.test(n)}}}}},ch=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){n=g(n);u=isNaN(n)?-1:n;r.$validate()});r.$validators.maxlength=function(n,t){return 0>u||r.$isEmpty(t)||t.length<=u}}}}},lh=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=g(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};n.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(gh(),tc(nt),f(t).ready(function(){bh(t,he)}))}(window,document),window.angular.$$csp()||window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}<\/style>'),function(n,t,i){"use strict";function d(n){var i=[];return o(i,t.noop).chars(n),i.join("")}function r(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function g(n,i){function k(n,r,e,s){if(r=t.lowercase(r),v[r])for(;f.last()&&y[f.last()];)o("",f.last());a[r]&&f.last()==r&&o("",r);(s=l[r]||!!s)||f.push(r);var h={};e.replace(tt,function(n,t,i,r,f){h[t]=u(i||r||f||"")});i.start&&i.start(r,h,s)}function o(n,r){var u=0,e;if(r=t.lowercase(r))for(u=f.length-1;0<=u&&f[u]!=r;u--);if(0<=u){for(e=f.length-1;e>=u;e--)i.end&&i.end(f[e]);f.length=u}}"string"!=typeof n&&(n=null===n||"undefined"==typeof n?"":""+n);var r,e,f=[],b=n,w;for(f.last=function(){return f[f.length-1]};n;){if(w="",e=!0,f.last()&&p[f.last()]?(n=n.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(n,t){return t=t.replace(ut,"$1").replace(ft,"$1"),i.chars&&i.chars(u(t)),""}),o("",f.last())):(0===n.indexOf("<!--")?(r=n.indexOf("--",4),0<=r&&n.lastIndexOf("-->",r)===r&&(i.comment&&i.comment(n.substring(4,r)),n=n.substring(r+3),e=!1)):c.test(n)?(r=n.match(c))&&(n=n.replace(r[0],""),e=!1):rt.test(n)?(r=n.match(h))&&(n=n.substring(r[0].length),r[0].replace(h,o),e=!1):it.test(n)&&((r=n.match(s))?(r[4]&&(n=n.substring(r[0].length),r[0].replace(s,k)),e=!1):(w+="<",n=n.substring(1))),e&&(r=n.indexOf("<"),w+=0>r?n:n.substring(0,r),n=0>r?"":n.substring(r),i.chars&&i.chars(u(w)))),n==b)throw nt("badparse",n);b=n}o()}function u(n){return n?(f.innerHTML=n.replace(/</g,"&lt;"),f.textContent):""}function e(n){return n.replace(/&/g,"&amp;").replace(et,function(n){var t=n.charCodeAt(0);return n=n.charCodeAt(1),"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(ot,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,f,o){n=t.lowercase(n);!u&&p[n]&&(u=n);u||!0!==w[n]||(r("<"),r(n),t.forEach(f,function(u,f){var o=t.lowercase(f),s="img"===n&&"src"===o||"background"===o;!0===k[o]&&(!0!==b[o]||i(u,s))&&(r(" "),r(f),r('="'),r(e(u)),r('"'))}),r(o?"/>":">"))},end:function(n){n=t.lowercase(n);u||!0!==w[n]||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(e(n))}}}var nt=t.$$minErr("$sanitize"),s=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,tt=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,it=/^</,rt=/^<\//,ut=/\x3c!--(.*?)--\x3e/g,c=/<!DOCTYPE([^>]*?)>/i,ft=/<!\[CDATA\[(.*?)]]\x3e/g,et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ot=/([^\#-~| |!])/g,l=r("area,br,col,hr,img,wbr"),k,f;n=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");i=r("rp,rt");var a=t.extend({},i,n),v=t.extend({},n,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=t.extend({},i,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));n=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var p=r("script,style"),w=t.extend({},l,v,y,a,n),b=r("background,cite,href,longdesc,src,usemap,xlink:href");n=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width");i=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");k=t.extend({},b,i,n);f=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var i=[];return g(t,o(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]});t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,r=/^mailto:/;return function(u,f){function c(n){n&&o.push(d(n))}function a(n,i){o.push("<a ");t.isDefined(f)&&o.push('target="',f,'" ');o.push('href="',n.replace(/"/g,"&quot;"),'">');c(i);o.push("<\/a>")}if(!u)return u;for(var e,s=u,o=[],h,l;e=s.match(i);)h=e[0],e[2]||e[4]||(h=(e[3]?"http://":"mailto:")+h),l=e.index,c(s.substr(0,l)),a(h,e[0].replace(r,"")),s=s.substring(l+e[0].length);return c(s),n(o.join(""))}}])}(window,window.angular),function(n,t,i){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(n,i,r){r=r.ngAnimateChildren;t.isString(r)&&0===r.length?i.data("$$ngAnimateChildren",!0):n.$watch(r,function(n){i.data("$$ngAnimateChildren",!!n)})}}).factory("$$animateReflow",["$$rAF","$document",function(n){return function(t){return n(function(){t()})}}]).config(["$provide","$animateProvider",function(r,u){function o(n){for(var i,t=0;t<n.length;t++)if(i=n[t],1==i.nodeType)return i}function l(n,t){return o(n)==o(t)}var s=t.noop,f=t.forEach,a=u.$$selectors,c=t.isArray,v=t.isString,y=t.isObject,h={running:!0},e;r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(n,i,r,p,w,b,k,d,g,nt){function ft(n,t){var i=n.data("$$ngAnimateState")||{};return t&&(i.running=!0,i.structural=!0,n.data("$$ngAnimateState",i)),i.disabled||i.running&&i.structural}function it(n){var t,r=i.defer();return r.promise.$$cancelFn=function(){t&&t()},k.$$postDigest(function(){t=n(function(){r.resolve()})}),r.promise}function rt(n){if(y(n))return n.tempClasses&&v(n.tempClasses)&&(n.tempClasses=n.tempClasses.split(/\s+/)),n}function st(n,t,i){var e,o,r,u;return i=i||{},e={},f(i,function(n,t){f(t.split(" "),function(t){e[t]=n})}),o=Object.create(null),f((n.attr("class")||"").split(/\s+/),function(n){o[n]=!0}),r=[],u=[],f(t&&t.classes||[],function(n,t){var i=o[t],f=e[t]||{};!1===n?(i||"addClass"==f.event)&&u.push(t):!0===n&&(i&&"removeClass"!=f.event||r.push(t))}),0<r.length+u.length&&[r.join(" "),u.join(" ")]}function ht(n){var t,f,i,u,e;if(n){for(t=[],f={},n=n.substr(1).split("."),(p.transitions||p.animations)&&t.push(r.get(a[""])),i=0;i<n.length;i++)u=n[i],e=a[u],e&&!f[u]&&(t.push(r.get(e)),f[u]=!0);return t}}function ct(n,i,r,u){function l(n,t){var i=n[t],r=n["before"+t.charAt(0).toUpperCase()+t.substr(1)];if(i||r)return"leave"==t&&(r=i,i=null),g.push({event:t,fn:i}),d.push({event:t,fn:r}),!0}function b(t,i,h){var c=[],l;f(t,function(n){n.fn&&c.push(n)});l=0;f(c,function(t,f){var a=function(){n:{if(i){if((i[f]||s)(),++l<c.length)break n;i=null}h()}};switch(t.event){case"setClass":i.push(t.fn(n,e,o,a,u));break;case"animate":i.push(t.fn(n,r,u.from,u.to,a));break;case"addClass":i.push(t.fn(n,e||r,a,u));break;case"removeClass":i.push(t.fn(n,o||r,a,u));break;default:i.push(t.fn(n,a,u))}});i&&0===i.length&&h()}var k=n[0],e,o;if(k){u&&(u.to=u.to||{},u.from=u.from||{});c(r)&&(e=r[0],o=r[1],e?o?r=e+" "+o:(r=e,i="addClass"):(r=o,i="removeClass"));var a="setClass"==i,nt=a||"addClass"==i||"removeClass"==i||"animate"==i,h=n.attr("class")+" "+r;if(yt(h)){var v=s,y=[],d=[],p=s,w=[],g=[],h=(" "+h).replace(/\s+/g,".");return f(ht(h),function(n){!l(n,i)&&a&&(l(n,"addClass"),l(n,"removeClass"))}),{node:k,event:i,className:r,isClassBased:nt,isSetClassOperation:a,applyStyles:function(){u&&n.css(t.extend(u.from||{},u.to||{}))},before:function(n){v=n;b(d,y,function(){v=s;n()})},after:function(n){p=n;b(g,w,function(){p=s;n()})},cancel:function(){y&&(f(y,function(n){(n||s)(!0)}),v(!0));w&&(f(w,function(n){(n||s)(!0)}),p(!0))}}}}}function ut(n,i,r,u,o,h,c,l){function g(t){var u="$animate:"+t;y&&y[u]&&0<y[u].length&&b(function(){r.triggerHandler(u,{event:n,className:i})})}function nt(){g("before")}function it(){g("after")}function w(){w.hasBeenRun||(w.hasBeenRun=!0,h())}function k(){if(!k.hasBeenRun){a&&a.applyStyles();k.hasBeenRun=!0;c&&c.tempClasses&&f(c.tempClasses,function(n){e.removeClass(r,n)});var t=r.data("$$ngAnimateState");t&&(a&&a.isClassBased?tt(r,i):(b(function(){var t=r.data("$$ngAnimateState")||{};rt==t.index&&tt(r,i,n)}),r.data("$$ngAnimateState",t)));g("close");l()}}var a=ct(r,n,i,c),y,d,rt;if(!a||(n=a.event,i=a.className,y=t.element._data(a.node),y=y&&y.events,u||(u=o?o.parent():r.parent()),lt(r,u)))return w(),nt(),it(),k(),s;u=r.data("$$ngAnimateState")||{};var p=u.active||{},v=u.totalActive||0,ut=u.last;if(o=!1,0<v){if(v=[],a.isClassBased)"setClass"==ut.event?(v.push(ut),tt(r,i)):p[i]&&(d=p[i],d.event==n?o=!0:(v.push(d),tt(r,i)));else if("leave"==n&&p["ng-leave"])o=!0;else{for(d in p)v.push(p[d]);u={};tt(r,!0)}0<v.length&&f(v,function(n){n.cancel()})}if(!a.isClassBased||a.isSetClassOperation||"animate"==n||o||(o="addClass"==n==r.hasClass(i)),o)return w(),nt(),it(),g("close"),l(),s;if(p=u.active||{},v=u.totalActive||0,"leave"==n)r.one("$destroy",function(n){n=t.element(this);var i=n.data("$$ngAnimateState");i&&(i=i.active["ng-leave"])&&(i.cancel(),tt(n,"ng-leave"))});return e.addClass(r,"ng-animate"),c&&c.tempClasses&&f(c.tempClasses,function(n){e.addClass(r,n)}),rt=vt++,v++,p[i]=a,r.data("$$ngAnimateState",{last:a,active:p,index:rt,totalActive:v}),nt(),a.before(function(t){var u=r.data("$$ngAnimateState");t=t||!u||!u.active[i]||a.isClassBased&&u.active[i].event!=n;w();!0===t?k():(it(),a.after(k))}),a.cancel}function et(n){(n=o(n))&&(n=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName("ng-animate"):n.querySelectorAll(".ng-animate"),f(n,function(n){n=t.element(n);(n=n.data("$$ngAnimateState"))&&n.active&&f(n.active,function(n){n.cancel()})}))}function tt(n,t){if(l(n,w))h.disabled||(h.running=!1,h.structural=!1);else if(t){var i=n.data("$$ngAnimateState")||{},r=!0===t;!r&&i.active&&i.active[t]&&(i.totalActive--,delete i.active[t]);(r||!i.totalActive)&&(e.removeClass(n,"ng-animate"),n.removeData("$$ngAnimateState"))}}function lt(n,i){var f,e,o,r,u;if(h.disabled)return!0;if(l(n,w))return h.running;do{if(0===i.length)break;if(r=l(i,w),u=r?h:i.data("$$ngAnimateState")||{},u.disabled)return!0;r&&(o=!0);!1!==f&&(r=i.data("$$ngAnimateChildren"),t.isDefined(r)&&(f=r));e=e||u.running||u.last&&!u.last.isClassBased}while(i=i.parent());return!o||!f&&e}e=nt;w.data("$$ngAnimateState",h);var at=k.$watch(function(){return g.totalPendingRequests},function(n){0===n&&(at(),k.$$postDigest(function(){k.$$postDigest(function(){h.running=!1})}))}),vt=0,ot=u.classNameFilter(),yt=ot?function(n){return ot.test(n)}:function(){return!0};return{animate:function(n,i,r,u,f){return u=u||"ng-inline-animate",f=rt(f)||{},f.from=r?i:null,f.to=r?r:i,it(function(i){return ut("animate",u,t.element(o(n)),null,null,s,f,i)})},enter:function(i,r,u,f){return f=rt(f),i=t.element(i),r=r&&t.element(r),u=u&&t.element(u),ft(i,!0),n.enter(i,r,u),it(function(n){return ut("enter","ng-enter",t.element(o(i)),r,u,s,f,n)})},leave:function(i,r){return r=rt(r),i=t.element(i),et(i),ft(i,!0),it(function(u){return ut("leave","ng-leave",t.element(o(i)),null,null,function(){n.leave(i)},r,u)})},move:function(i,r,u,f){return f=rt(f),i=t.element(i),r=r&&t.element(r),u=u&&t.element(u),et(i),ft(i,!0),n.move(i,r,u),it(function(n){return ut("move","ng-move",t.element(o(i)),r,u,s,f,n)})},addClass:function(n,t,i){return this.setClass(n,t,[],i)},removeClass:function(n,t,i){return this.setClass(n,[],t,i)},setClass:function(i,r,u,e){if(e=rt(e),i=t.element(i),i=t.element(o(i)),ft(i))return n.$$setClassImmediately(i,r,u,e);var h,s=i.data("$$animateClasses"),l=!!s;return(s||(s={classes:{}}),h=s.classes,r=c(r)?r:r.split(" "),f(r,function(n){n&&n.length&&(h[n]=!0)}),u=c(u)?u:u.split(" "),f(u,function(n){n&&n.length&&(h[n]=!1)}),l)?(e&&s.options&&(s.options=t.extend(s.options||{},e)),s.promise):(i.data("$$animateClasses",s={classes:h,options:e}),s.promise=it(function(t){var e=i.parent(),u=o(i),f=u.parentNode,r;if(!f||f.$$NG_REMOVED||u.$$NG_REMOVED)t();else return u=i.data("$$animateClasses"),i.removeData("$$animateClasses"),f=i.data("$$ngAnimateState")||{},r=st(i,u,f.active),r?ut("setClass",r,i,e,null,function(){r[0]&&n.$$addClassImmediately(i,r[0]);r[1]&&n.$$removeClassImmediately(i,r[1])},u.options,t):t()}))},cancel:function(n){n.$$cancelFn()},enabled:function(n,t){switch(arguments.length){case 2:if(n)tt(t);else{var i=t.data("$$ngAnimateState")||{};i.disabled=!0;t.data("$$ngAnimateState",i)}break;case 1:h.disabled=!n;break;default:n=!h.disabled}return!!n}}}]);u.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,u,h,l){function k(){w||(w=l(function(){ut=[];w=null;p={}}))}function d(n,t){w&&w();ut.push(t);w=l(function(){f(ut,function(n){n()});ut=[];w=null;p={}})}function yt(n,i){var r=o(n);n=t.element(r);ct.push(n);r=Date.now()+i;r<=vt||(h.cancel(at),vt=r,at=h(function(){pt(ct);ct=[]},i,!1))}function pt(n){f(n,function(n){(n=n.data("$$ngAnimateCSS3Data"))&&f(n.closeAnimationFns,function(n){n()})})}function ft(n,t){var i=t?p[t]:null;if(!i){var u=0,e=0,o=0,s=0;f(n,function(n){if(1==n.nodeType){n=r.getComputedStyle(n)||{};u=Math.max(g(n[b+"Duration"]),u);e=Math.max(g(n[b+"Delay"]),e);s=Math.max(g(n[y+"Delay"]),s);var t=g(n[y+"Duration"]);0<t&&(t*=parseInt(n[y+"IterationCount"],10)||1);o=Math.max(t,o)}});i={total:0,transitionDelay:e,transitionDuration:u,animationDelay:s,animationDuration:o};t&&(p[t]=i)}return i}function g(n){var t=0;return n=v(n)?n.split(/\s*,\s*/):[],f(n,function(n){t=Math.max(parseFloat(n)||0,t)}),t}function wt(n,t,i,r){var f,u,c,s,h,l;n=0<=["ng-enter","ng-leave","ng-move"].indexOf(i);u=t.parent();c=u.data("$$ngAnimateKey");c||(u.data("$$ngAnimateKey",++lt),c=lt);f=c+"-"+o(t).getAttribute("class");var u=f+" "+i,c=p[u]?++p[u].total:0,s={};return(0<c&&(h=i+"-stagger",s=f+" "+h,(f=!p[s])&&e.addClass(t,h),s=ft(t,s),f&&e.removeClass(t,h)),e.addClass(t,i),h=t.data("$$ngAnimateCSS3Data")||{},l=ft(t,u),f=l.transitionDuration,l=l.animationDuration,n&&0===f&&0===l)?(e.removeClass(t,i),!1):(i=r||n&&0<f,n=0<l&&0<s.animationDelay&&0===s.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:s,cacheKey:u,running:h.running||0,itemIndex:c,blockTransition:i,closeAnimationFns:h.closeAnimationFns||[]}),u=o(t),i&&(et(u,!0),r&&t.css(r)),n&&(u.style[y+"PlayState"]="paused"),!0)}function bt(n,t,i,r,u){function nt(){t.off(ut,tt);e.removeClass(t,v);e.removeClass(t,b);d&&h.cancel(d);rt(t,i);var r=o(t),n;for(n in w)r.style.removeProperty(w[n])}function tt(n){n.stopPropagation();var t=n.originalEvent||n;n=t.$manualTimeStamp||t.timeStamp||Date.now();t=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-ct,0)>=it&&t>=k&&r()}var p=o(t),v,b,g,c,k,l,it;if(n=t.data("$$ngAnimateCSS3Data"),-1!=p.getAttribute("class").indexOf(i)&&n){v="";b="";f(i.split(" "),function(n,t){var i=(0<t?" ":"")+n;v+=i+"-active";b+=i+"-pending"});var w=[],l=n.itemIndex,s=n.stagger,a=0;if(0<l&&(a=0,0<s.transitionDelay&&0===s.transitionDuration&&(a=s.transitionDelay*l),g=0,0<s.animationDelay&&0===s.animationDuration&&(g=s.animationDelay*l,w.push(ot+"animation-play-state")),a=Math.round(100*Math.max(a,g))/100),a||(e.addClass(t,v),n.blockTransition&&et(p,!1)),c=ft(t,n.cacheKey+" "+v),k=Math.max(c.transitionDuration,c.animationDuration),0===k)e.removeClass(t,v),rt(t,i),r();else{!a&&u&&0<Object.keys(u).length&&(c.transitionDuration||(t.css("transition",c.animationDuration+"s linear all"),w.push("transition")),t.css(u));l=Math.max(c.transitionDelay,c.animationDelay);it=1e3*l;0<w.length&&(s=p.getAttribute("style")||"",";"!==s.charAt(s.length-1)&&(s+=";"),p.setAttribute("style",s+" "));var ct=Date.now(),ut=ht+" "+st,l=1e3*(a+1.5*(l+k)),d;0<a&&(e.addClass(t,b),d=h(function(){d=null;0<c.transitionDuration&&et(p,!1);0<c.animationDuration&&(p.style[y+"PlayState"]="");e.addClass(t,v);e.removeClass(t,b);u&&(0===c.transitionDuration&&t.css("transition",c.animationDuration+"s linear all"),t.css(u),w.push("transition"))},1e3*a,!1));t.on(ut,tt);return n.closeAnimationFns.push(function(){nt();r()}),n.running++,yt(t,l),nt}}else r()}function et(n,t){n.style[b+"Property"]=t?"none":""}function nt(n,t,i,r){if(wt(n,t,i,r))return function(n){n&&rt(t,i)}}function tt(n,t,i,r,u){if(t.data("$$ngAnimateCSS3Data"))return bt(n,t,i,r,u);rt(t,i);r()}function it(n,t,i,r,u){var e=nt(n,t,i,u.from),f;if(e)return f=e,d(t,function(){f=tt(n,t,i,r,u.to)}),function(n){(f||s)(n)};k();r()}function rt(n,t){e.removeClass(n,t);var i=n.data("$$ngAnimateCSS3Data");i&&(i.running&&i.running--,i.running&&0!==i.running||n.removeData("$$ngAnimateCSS3Data"))}function a(n,t){var i="";return n=c(n)?n:n.split(/\s+/),f(n,function(n,r){n&&0<n.length&&(i+=(0<r?" ":"")+n+t)}),i}var ot="",b,st,y,ht;n.ontransitionend===i&&n.onwebkittransitionend!==i?(ot="-webkit-",b="WebkitTransition",st="webkitTransitionEnd transitionend"):(b="transition",st="transitionend");n.onanimationend===i&&n.onwebkitanimationend!==i?(ot="-webkit-",y="WebkitAnimation",ht="webkitAnimationEnd animationend"):(y="animation",ht="animationend");var p={},lt=0,ut=[],w,at=null,vt=0,ct=[];return{animate:function(n,t,i,r,u,f){return f=f||{},f.from=i,f.to=r,it("animate",n,t,u,f)},enter:function(n,t,i){return i=i||{},it("enter",n,"ng-enter",t,i)},leave:function(n,t,i){return i=i||{},it("leave",n,"ng-leave",t,i)},move:function(n,t,i){return i=i||{},it("move",n,"ng-move",t,i)},beforeSetClass:function(n,t,i,r,u){if(u=u||{},t=a(i,"-remove")+" "+a(t,"-add"),u=nt("setClass",n,t,u.from))return d(n,r),u;k();r()},beforeAddClass:function(n,t,i,r){if(r=r||{},t=nt("addClass",n,a(t,"-add"),r.from))return d(n,i),t;k();i()},beforeRemoveClass:function(n,t,i,r){if(r=r||{},t=nt("removeClass",n,a(t,"-remove"),r.from))return d(n,i),t;k();i()},setClass:function(n,t,i,r,u){return u=u||{},i=a(i,"-remove"),t=a(t,"-add"),tt("setClass",n,i+" "+t,r,u.to)},addClass:function(n,t,i,r){return r=r||{},tt("addClass",n,a(t,"-add"),i,r.to)},removeClass:function(n,t,i,r){return r=r||{},tt("removeClass",n,a(t,"-remove"),i,r.to)}}}])}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return r(new(r(function(){},{prototype:n})),t)}function k(n){return f(arguments,function(t){t!==n&&f(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function wt(n,t){var r=[],i;for(i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var i=[];return t.forEach(n,function(n,t){i.push(t)}),i}function s(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=r);r>i;i++)if(i in n&&n[i]===t)return i;return-1}function it(n,t,i,u){var f,o=wt(i,u),c={},l=[],h,e;for(h in o)if(o[h].params&&(f=p(o[h].params),f.length))for(e in f)s(l,f[e])>=0||(l.push(f[e]),c[f[e]]=n[f[e]]);return r({},c,t)}function d(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function g(n,t){var i={};return f(n,function(n){i[n]=t[n]}),i}function b(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1)),t;for(t in n)-1==s(r,t)&&(i[t]=n[t]);return i}function nt(n,t){var r=a(n),i=r?[]:{};return f(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function v(n,t){var i=a(n)?[]:{};return f(n,function(n,r){i[r]=t(n,r)}),i}function rt(n,t){var h=1,c=2,o={},l=[],a=o,v=r(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(g[i]!==c){if(d.push(i),g[i]===h)throw d.splice(0,s(d,i)),new Error("Cyclic dependency: "+d.join(" -> "));if(g[i]=h,e(n))w.push(i,[function(){return t.get(n)}],l);else{var r=t.annotate(n);f(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}d.pop();g[i]=c}}function it(n){return y(n)&&n.then&&n.$$promises}if(!y(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],d=[],g={};return f(o,tt),o=d=g=null,function(e,o,s){function p(){--et||(rt||k(c,o.$$values),h.$$values=c,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,tt.resolve(c))}function g(n){h.$$failure=n;tt.reject(n)}function ft(i,r,o){function a(n){l.reject(n);g(n)}function y(){if(!u(h.$$failure))try{l.resolve(t.invoke(r,s,c));l.promise.then(function(n){c[i]=n;p()},a)}catch(n){a(n)}}var l=n.defer(),v=0;f(o,function(n){d.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(v++,d[n].then(function(t){c[n]=t;--v||y()},a))});v||y();d[i]=l.promise}var l,ut;if(it(e)&&s===i&&(s=o,o=e,e=null),e){if(!y(e))throw new Error("'locals' must be an object");}else e=a;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=v;var tt=n.defer(),h=tt.promise,d=h.$$promises={},c=r({},e),et=1+w.length/3,rt=!1;if(u(o.$$failure))return g(o.$$failure),h;for(o.$$inheritedValues&&k(c,b(o.$$inheritedValues,nt)),r(d,o.$$promises),o.$$values?(rt=k(c,b(o.$$values,nt)),h.$$inheritedValues=b(o.$$values,nt),p()):(o.$$inheritedValues&&(h.$$inheritedValues=b(o.$$inheritedValues,nt)),o.then(p,g)),l=0,ut=w.length;ut>l;l+=3)e.hasOwnProperty(w[l])?p():ft(w[l],w[l+1],w[l+2]);return h}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ut(n,t,i){this.fromConfig=function(n,t,i){return u(n.template)?this.fromString(n.template,t):u(n.templateUrl)?this.fromUrl(n.templateUrl,t):u(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return h(n)?n(t):n};this.fromUrl=function(i,r){return h(i)&&(i=i(r)),null==i?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function l(n,t,u){function d(t,i,r,u){if(it.push(t),tt[t])return tt[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new c.Param(t,i,r,u),b[t]}function g(n,t,i){var r=["",""],u=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return u;switch(i){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+i+"|",")?"]}return u+r[0]+t+r[1]}function nt(i,r){var f,u,e,s,h;return f=i[2]||i[3],h=t.params[f],e=n.substring(o,i.index),u=r?i[4]:i[4]||("*"==i[1]?".*":null),s=c.type(u||"string")||w(c.type("string"),{pattern:new RegExp(u)}),{id:f,regexp:u,segment:e,type:s,cfg:h}}var f,l,e,s,k;t=r({params:{}},y(t)?t:{});var h,a=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,v="^",o=0,p=this.segments=[],tt=u?u.params:{},b=this.params=u?u.params.$$new():new c.ParamSet,it=[];for(this.source=n;(h=a.exec(n))&&(f=nt(h,!1),!(f.segment.indexOf("?")>=0));)l=d(f.id,f.type,f.cfg,"path"),v+=g(f.segment,l.type.pattern.source,l.squash),p.push(f.segment),o=a.lastIndex;if(e=n.substring(o),s=e.indexOf("?"),s>=0){if(k=this.sourceSearch=e.substring(s),e=e.substring(0,s),this.sourcePath=n.substring(0,o+s),k.length>0)for(o=0;h=rt.exec(k);)f=nt(h,!0),l=d(f.id,f.type,f.cfg,"search"),o=a.lastIndex}else this.sourcePath=n,this.sourceSearch="";v+=g(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(v,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=it}function o(n){r(this,n)}function ft(){function rt(n){return null!=n?n.toString().replace(/\//g,"%2F"):n}function ht(n){return null!=n?n.toString().replace(/%2F/g,"/"):n}function ct(n){return this.pattern.test(n)}function lt(){return{strict:g,caseInsensitive:d}}function ut(n){return h(n)||a(n)&&h(n[n.length-1])}function et(){for(;it.length;){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){r(this,n||{})}c=this;var b,d=!1,g=!0,tt=!1,n={},ot=!0,it=[],st={string:{encode:rt,decode:ht,is:ct,pattern:/[^/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return u(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return 0!==parseInt(n,10)},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};ft.$$getDefaultValue=function(n){if(!ut(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return u(n)&&(d=n),d};this.strictMode=function(n){return u(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!u(n))return tt;if(n!==!0&&n!==!1&&!e(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new l(n,r(lt(),t))};this.isMatcher=function(n){if(!y(n))return!1;var t=!0;return f(l.prototype,function(i,r){h(i)&&(t=t&&u(n[r])&&h(n[r]))}),t};this.type=function(t,i,f){if(!u(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new o(r({name:t},i)),f&&(it.push({name:t,def:f}),ot||et()),this};f(st,function(t,i){n[i]=new o(r({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,ot=!1,et(),f(st,function(t,i){n[i]||(n[i]=new o(t))}),this}];this.Param=function(t,f,h,c){function g(n){var t=y(n)?p(n):[],i=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return i&&(n={value:n}),n.$$fn=ut(n.value)?n.value:function(){return n.value},n}function it(i,r,u){if(i.type&&r)throw new Error("Param '"+t+"' has two type configurations.");return r?r:i.type?i.type instanceof o?i.type:new o(i.type):"config"===u?n.any:n.string}function rt(){var n={array:"search"===c?"auto":!1},i=t.match(/\[\]$/)?{array:!0}:{};return r(n,i,h).array}function ft(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!u(i)||null==i)return tt;if(i===!0||e(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function et(n,t,r,u){var f,o,h=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return f=a(n.replace)?n.replace:[],e(u)&&f.push({from:u,to:i}),o=v(f,function(n){return n.from}),nt(h,function(n){return-1===s(o,n.from)}).concat(f)}function ot(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(h.$$fn)}function st(n){function t(n){return function(t){return t.from===n}}function i(n){var i=v(nt(d.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),u(n)?d.type.decode(n):ot()}function ht(){return"{Param:"+t+" "+f+" squash: '"+k+"' optional: "+w+"}"}var d=this,l;h=g(h);f=it(h,f,c);l=rt();f=l?f.$asArray(l,"search"===c):f;"string"!==f.name||l||"path"!==c||h.value!==i||(h.value="");var w=h.value!==i,k=ft(h,w),ct=et(h,l,w,k);r(this,{id:t,type:f,location:c,array:l,squash:k,replace:ct,isOptional:w,value:st,dynamic:i,config:h,toString:ht})};k.prototype={$$new:function(){return w(this,r(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),f(i,function(n){f(p(n),function(n){-1===s(t,n)&&-1===s(r,n)&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return f(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return f(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){var u,t,i,r=!0,e=this;return f(this.$$keys(),function(f){i=e[f];t=n[f];u=!t&&i.isOptional;r=r&&(u||!!i.type.is(t))}),r},$$parent:i};this.ParamSet=k}function et(n,f){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t["$"===i?0:Number(i)]})}function c(n,t,i){if(!i)return!1;var r=n.invoke(t,t,{$match:i});return u(r)?r:!0}function l(r,u,f,h){function b(n,t,i){return"/"===l?n:t?l.slice(0,-1)+n:i?l.slice(1)+n:n}function p(n){function u(n){var t=n(f,r);return t?(e(t)&&r.replace().url(t),!0):!1}var h,t,l;if(!n||!n.defaultPrevented){if(h=c&&r.url()===c,c=i,h)return!0;for(l=o.length,t=0;l>t;t++)if(u(o[t]))return;s&&u(s)}}function w(){return v=v||u.$on("$locationChangeSuccess",p)}var c,l=h.baseHref(),a=r.url();return y||w(),{sync:function(){p()},listen:function(){return w()},update:function(n){return n?void(a=r.url()):void(r.url()!==a&&(r.url(a),r.replace()))},push:function(n,t,u){r.url(n.format(t||{}));c=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),e=i.format(u),f=f||{},o||null===e||(e="#"+n.hashPrefix()+e),e=b(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var v,o=[],s=null,y=!1;this.rule=function(n){if(!h(n))throw new Error("'rule' must be a function");return o.push(n),this};this.otherwise=function(n){if(e(n)){var t=n;n=function(){return t}}else if(!h(n))throw new Error("'rule' must be a function");return s=n,this};this.when=function(n,t){var i,u=e(t),l,o,s;if(e(n)&&(n=f.compile(n)),!u&&!h(t)&&!a(t))throw new Error("invalid 'handler' in when()");l={matcher:function(n,t){return u&&(i=f.compile(t),t=["$match",function(n){return i.format(n)}]),r(function(i,r){return c(i,t,n.exec(r.path(),r.search()))},{prefix:e(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(i=t,t=["$match",function(n){return w(i,n)}]),r(function(i,r){return c(i,t,n.exec(r.path()))},{prefix:p(n)})}};o={matcher:f.isMatcher(n),regex:n instanceof RegExp};for(s in o)if(o[s])return this.rule(l[s](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);y=n};this.$get=l;l.$inject=["$location","$rootScope","$injector","$browser"]}function ot(n,o){function ot(n){return 0===n.indexOf(".")||0===n.indexOf("^")}function k(n,t){var s;if(!n)return i;var h=e(n),u=h?n:n.name,c=ot(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),f=0,l=r.length,o=t;l>f;f++)if(""!==r[f]||0!==f){if("^"!==r[f])break;if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent}else o=t;r=r.slice(f).join(".");u=o.name+(o.name&&r?".":"")+r}return s=tt[u],!s||!h&&(h||s!==n&&s.self!==n)?i:s}function st(n,t){rt[n]||(rt[n]=[]);rt[n].push(t)}function ht(n){for(var t=rt[n]||[];t.length;)ut(t.shift())}function ut(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!e(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"'' is already defined");if(u=-1!==i.indexOf(".")?i.substring(0,i.lastIndexOf(".")):e(t.parent)?t.parent:y(t.parent)&&e(t.parent.name)?t.parent.name:"",u&&!tt[u])return st(u,t.self);for(r in b)h(b[r])&&(t[r]=b[r](t,b.$delegates[r]));return tt[i]=t,!t[et]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){l.$current.navigable==t&&d(n,i)||l.transitionTo(t,n,{inherit:!0,location:!1})}]),ht(i),t}function ct(n){return n.indexOf("*")>-1}function lt(n){var t=n.split("."),i=l.$current.name.split("."),r,u;if("**"===t[0]&&(i=i.slice(s(i,t[1])),i.unshift("**")),"**"===t[t.length-1]&&(i.splice(s(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length)return!1;for(r=0,u=t.length;u>r;r++)"*"===t[r]&&(i[r]="*");return i.join("")===t.join("")}function at(n,t){return e(n)&&!u(t)?b[n]:h(t)&&e(n)?(b[n]&&!b.$delegates[n]&&(b.$delegates[n]=b[n]),b[n]=t,this):this}function vt(n,t){return y(n)?t=n:t.name=n,ut(t),this}function ft(n,o,s,c,y,b,rt){function st(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(rt.update(),ft):e.retry?u.$retry?(rt.update(),ot):(f=l.transition=o.when(e.retry),f.then(function(){return f!==l.transition?ut:(t.options.$retry=!0,l.transitionTo(t.to,t.toParams,t.options))},function(){return ft}),rt.update(),f):null}function ht(n,i,r,u,e,l){var w=r?i:g(n.params.$$keys(),i),v={$stateParams:w},p;return e.resolve=y.resolve(n.resolve,v,e.resolve,n),p=[e.resolve.then(function(n){e.globals=n})],u&&p.push(u),f(n.views,function(i,r){var u=i.resolve&&i.resolve!==n.resolve?i.resolve:{};u.$template=[function(){return s.load(r,{view:i,locals:v,params:w,notify:l.notify})||""}];p.push(y.resolve(u,v,e.resolve,n).then(function(f){if(h(i.controllerProvider)||a(i.controllerProvider)){var o=t.extend({},u,v);f.$$controller=c.invoke(i.controllerProvider,null,o)}else f.$$controller=i.controller;f.$$state=n;f.$$controllerAs=i.controllerAs;e[r]=f}))}),o.all(p).then(function(){return e})}var ut=o.reject(new Error("transition superseded")),at=o.reject(new Error("transition prevented")),ft=o.reject(new Error("transition aborted")),ot=o.reject(new Error("transition failed"));return nt.locals={resolve:null,globals:{$stateParams:{}}},l={params:{},current:nt.self,$current:nt,transition:null},l.reload=function(){return l.transitionTo(l.current,b,{reload:!0,inherit:!1,notify:!0})},l.go=function(n,t,i){return l.transitionTo(n,t,r({inherit:!0,relative:l.$current},i))},l.transitionTo=function(t,i,f){var d,vt,ft,tt,ct;i=i||{};f=r({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var wt,a=l.$current,p=l.params,lt=a.path,e=k(t,f.relative);if(!u(e)){if(d={to:t,toParams:i,options:f},vt=st(d,a.self,p,f),vt)return vt;if(t=d.to,i=d.toParams,f=d.options,e=k(t,f.relative),!u(e)){if(!f.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+f.relative+"'");}}if(e[et])throw new Error("Cannot transition to abstract state '"+t+"'");if(f.inherit&&(i=it(b,i||{},l.$current,e)),!e.params.$$validates(i))return ot;i=e.params.$$values(i);t=e;var v=t.path,s=0,h=v[s],y=nt.locals,pt=[];if(!f.reload)for(;h&&h===lt[s]&&h.ownParams.$$equals(i,p);)y=pt[s]=h.locals,s++,h=v[s];if(yt(t,a,y,f))return t.self.reloadOnSearch!==!1&&rt.update(),l.transition=null,o.when(l.current);if(i=g(t.params.$$keys(),i||{}),f.notify&&n.$broadcast("$stateChangeStart",t.self,i,a.self,p).defaultPrevented)return rt.update(),at;for(ft=o.when(y),tt=s;tt<v.length;tt++,h=v[tt])y=pt[tt]=w(y),ft=ht(h,i,h===t,ft,y,f);return ct=l.transition=ft.then(function(){var r,u,e;if(l.transition!==ct)return ut;for(r=lt.length-1;r>=s;r--)e=lt[r],e.self.onExit&&c.invoke(e.self.onExit,e.self,e.locals.globals),e.locals=null;for(r=s;r<v.length;r++)u=v[r],u.locals=pt[r],u.self.onEnter&&c.invoke(u.self.onEnter,u.self,u.locals.globals);return l.transition!==ct?ut:(l.$current=t,l.current=t.self,l.params=i,dt(l.params,b),l.transition=null,f.location&&t.navigable&&rt.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,a.self,p),rt.update(!0),l.current)},function(r){return l.transition!==ct?ut:(l.transition=null,wt=n.$broadcast("$stateChangeError",t.self,i,a.self,p,r),wt.defaultPrevented||rt.update(),o.reject(r))})},l.is=function(n,t,f){f=r({relative:l.$current},f||{});var e=k(n,f.relative);return u(e)?l.$current!==e?!1:t?d(e.params.$$values(t),b):!0:i},l.includes=function(n,t,f){if(f=r({relative:l.$current},f||{}),e(n)&&ct(n)){if(!lt(n))return!1;n=l.$current.name}var o=k(n,f.relative);return u(o)?u(l.$current.includes[o.name])?t?d(o.params.$$values(t),b,p(t)):!0:!1:i},l.href=function(n,t,f){var e,o;return(f=r({lossy:!0,inherit:!0,absolute:!1,relative:l.$current},f||{}),e=k(n,f.relative),!u(e))?null:(f.inherit&&(t=it(b,t||{},l.$current,e)),o=e&&f.lossy?e.navigable:e,o&&o.url!==i&&null!==o.url?rt.href(o.url,g(e.params.$$keys(),t||{}),{absolute:f.absolute}):null)},l.get=function(n,t){if(0===arguments.length)return v(p(tt),function(n){return tt[n].self});var i=k(n,t||l.$current);return i&&i.self?i.self:null},l}function yt(n,t,i,r){if(n===t&&(i===t.locals&&!r.reload||n.self.reloadOnSearch===!1))return!0}var nt,l,tt={},rt={},et="abstract",b={parent:function(n){if(u(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=r({},n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(e(t))return"^"==t.charAt(0)?o.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new c.ParamSet;return f(n.params||{},function(n,i){t[i]||(t[i]=new c.Param(i,null,n,"config"))}),t},params:function(n){return n.parent&&n.parent.params?r(n.parent.params.$$new(),n.ownParams):new c.ParamSet},views:function(n){var t={};return f(u(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?r({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ut({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=at;this.state=vt;this.$get=ft;ft.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function st(){function n(n,t){return{load:function(i,u){var f;return u=r({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},u),u.view&&(f=t.fromConfig(u.view,u.params,u.locals)),f&&u.notify&&n.$broadcast("$viewContentLoading",u),f}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function bt(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){i(function(){n[0].scrollIntoView()},0,!1)}}]}function ht(n,i,r,u){function s(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function h(n,t){var r=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},i;return e?{enter:function(n,t,i){var r=e.enter(n,null,t,i);r&&r.then&&r.then(i)},leave:function(n,t){var i=e.leave(n,t);i&&i.then&&i.then(t)}}:f?(i=f&&f(t,n),{enter:function(n,t,r){i.enter(n,null,t);r()},leave:function(n,t){i.leave(n);t()}}):r()}var o=s(),f=o("$animator"),e=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,f,e){return function(i,f,o){function w(){c&&(c.remove(),c=null);s&&(s.$destroy(),s=null);l&&(p.leave(l,function(){c=null}),c=l,l=null)}function a(h){var c,a=lt(i,o,f,u),d=a&&n.$current&&n.$current.locals[a],k;(h||d!==y)&&(c=i.$new(),y=n.$current.locals[a],k=e(c,function(n){p.enter(n,f,function(){s&&s.$emit("$viewContentAnimationEnded");(t.isDefined(v)&&!v||i.$eval(v))&&r(n)});w()}),l=k,s=c,s.$emit("$viewContentLoaded"),s.$eval(b))}var c,l,s,y,b=o.onload||"",v=o.autoscroll,p=h(o,i);i.$on("$stateChangeSuccess",function(){a(!1)});i.$on("$viewContentLoading",function(){a(!1)});a(!0)}}}}function ct(n,t,i,r){return{restrict:"ECA",priority:-400,compile:function(u){var f=u.html();return function(u,e,o){var c=i.$current,l=lt(u,o,e,r),s=c&&c.locals[l],a,h;s&&(e.data("$uiView",{name:l,state:s.$$state}),e.html(s.$template?s.$template:f),a=n(e.contents()),s.$$controller&&(s.$scope=u,h=t(s.$$controller,s),s.$$controllerAs&&(u[s.$$controllerAs]=h),e.data("$ngControllerController",h),e.children().data("$ngControllerController",h)),a(u))}}}}function lt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function kt(n,t){var i,r=n.match(/^\s*({[^}]*})\s*$/);if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||4!==i.length)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function at(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function vt(n,i){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(u,f,e,o){var s=kt(e.uiSref,n.current.name),h=null,w=at(f)||n.$current,c=null,b="A"===f.prop("tagName"),v="FORM"===f[0].nodeName,k=v?"action":"href",y=!0,l={relative:w,inherit:!0},p=u.$eval(e.uiSrefOpts)||{},a;t.forEach(r,function(n){n in p&&(l[n]=p[n])});a=function(i){if(i&&(h=t.copy(i)),y){c=n.href(s.state,h,l);var r=o[1]||o[0];return r&&r.$$setStateInfo(s.state,h),null===c?(y=!1,!1):void e.$set(k,c)}};s.paramExpr&&(u.$watch(s.paramExpr,function(n){n!==h&&a(n)},!0),h=t.copy(u.$eval(s.paramExpr)));a();v||f.bind("click",function(t){var e=t.which||t.button,r,u;e>1||t.ctrlKey||t.metaKey||t.shiftKey||f.attr("target")||(r=i(function(){n.go(s.state,h,l)}),t.preventDefault(),u=b&&!c?1:0,t.preventDefault=function(){u--<=0&&i.cancel(r)})})}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,u){function s(){h()?r.addClass(o):r.removeClass(o)}function h(){return"undefined"!=typeof u.uiSrefActiveEq?f&&n.is(f.name,e):f&&n.includes(f.name,e)}var f,e,o;o=i(u.uiSrefActiveEq||u.uiSrefActive||"",!1)(t);this.$$setStateInfo=function(t,i){f=n.get(t,at(r));e=i;s()};t.$on("$stateChangeSuccess",s)}]}}function yt(n){var t=function(t){return n.is(t)};return t.$stateful=!0,t}function pt(n){var t=function(t){return n.includes(t)};return t.$stateful=!0,t}var u=t.isDefined,h=t.isFunction,e=t.isString,y=t.isObject,a=t.isArray,f=t.forEach,r=t.extend,dt=t.copy,c;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);rt.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",rt);ut.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",ut);l.prototype.concat=function(n,t){var i={caseInsensitive:c.caseInsensitive(),strict:c.strictMode(),squash:c.defaultSquashPolicy()};return new l(this.sourcePath+n+this.sourceSearch,r(i,t),this)};l.prototype.toString=function(){return this.source};l.prototype.exec=function(n,t){function l(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/,"-")}var r=t(n).split(/-(?!\\)/),u=v(r,t);return v(u,i).reverse()}var o=this.regexp.exec(n),f,u;if(!o)return null;t=t||{};var i,e,r,s=this.parameters(),a=s.length,c=this.segments.length-1,h={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;c>i;i++){for(r=s[i],f=this.params[r],u=o[i+1],e=0;e<f.replace;e++)f.replace[e].from===u&&(u=f.replace[e].to);u&&f.array===!0&&(u=l(u));h[r]=f.value(u)}for(;a>i;i++)r=s[i],h[r]=this.params[r].value(t[r]);return h};l.prototype.parameters=function(n){return u(n)?this.params[n]||null:this.$$paramNames};l.prototype.validates=function(n){return this.params.$$validates(n)};l.prototype.format=function(n){function b(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,w;n=n||{};var h=this.segments,c=this.parameters(),k=this.params;if(!this.validates(n))return null;for(var l=!1,d=h.length-1,g=c.length,i=h[0],r=0;g>r;r++){var nt=d>r,o=c[r],u=k[o],y=u.value(n[o]),p=u.isOptional&&u.type.equals(u.value(),y),f=p?u.squash:!1,t=u.type.encode(y);if(nt)s=h[r+1],f===!1?(null!=t&&(i+=a(t)?v(t,b).join("-"):encodeURIComponent(t)),i+=s):f===!0?(w=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(w)[1]):e(f)&&(i+=f+s);else{if(null==t||p&&f!==!1)continue;a(t)||(t=[t]);t=v(t,encodeURIComponent).join("&"+o+"=");i+=(l?"&":"?")+(o+"="+t);l=!0}}return i};o.prototype.is=function(){return!0};o.prototype.encode=function(n){return n};o.prototype.decode=function(n){return n};o.prototype.equals=function(n,t){return n==t};o.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};o.prototype.pattern=/.*/;o.prototype.toString=function(){return"{Type:"+this.name+"}"};o.prototype.$asArray=function(n,t){function r(n,t){function r(n,t){return function(){return n[t].apply(n,arguments)}}function f(n){return a(n)?n:u(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return"auto"===t?n[0]:n;default:return n}}function s(n){return!n}function e(n,t){return function(i){i=f(i);var r=v(i,n);return t===!0?0===nt(r,s).length:o(r)}}function h(n){return function(t,i){var u=f(t),e=f(i),r;if(u.length!==e.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],e[r]))return!1;return!0}}this.encode=e(r(n,"encode"));this.decode=e(r(n,"decode"));this.is=e(r(n,"is"),!0);this.equals=h(r(n,"equals"));this.pattern=n.pattern;this.$arrayMode=t}if(!n)return this;if("auto"===n&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",ft);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);et.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",et);ot.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").value("$stateParams",{}).provider("$state",ot);st.$inject=[];t.module("ui.router.state").provider("$view",st);t.module("ui.router.state").provider("$uiViewScroll",bt);ht.$inject=["$state","$injector","$uiViewScroll","$interpolate"];ct.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",ht);t.module("ui.router.state").directive("uiView",ct);vt.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",vt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt);yt.$inject=["$state"];pt.$inject=["$state"];t.module("ui.router.state").filter("isState",yt).filter("includedByState",pt)}(window,window.angular),angular.module("ui.autocomplete",[]).directive("uiAutocomplete",["$timeout","$exceptionHandler",function(n,t){function r(n,t){var i=new RegExp($.ui.autocomplete.escapeRegex(t),"i");return $.grep(n,function(n){return i.test($("<div>").html(n.label||n.value||n).text())})}var i=$.ui.autocomplete.prototype,u=i._initSource,f=Array.prototype.slice;return $.extend(i,{_initSource:function(){this.options.html&&$.isArray(this.options.source)?this.source=function(n,t){t(r(this.options.source,n.term))}:u.call(this)},_normalize:function(n){return $.map(n,function(n){return n&&typeof n=="object"?$.extend({label:n.label||n.value,value:n.value||n.label},n):{label:n+"",value:n}})},_renderItemData:function(n,t){var i=t.groupLabel||t.label;return t.groupLabel?i=$("<div>").append(i).addClass("ui-menu-group"):this.options.html?(typeof i=="object"&&(i=$(i)),(typeof i!="object"||i.length>1||!i.is("a"))&&(i=$("<a>").append(i))):i=$("<a>").text(i),$("<li>").append(i).appendTo(n).data("ui-autocomplete-item",t)},_resizeMenu:function(){var n=this;setTimeout(function(){var t=n.menu.element,r=t.css("max-height")||0,u=Math.max(t.width("").outerWidth()+1,n.element.outerWidth()),f=n.element.height(),i=$(window).height()-n.options.outHeight-t.offset().top;i=r&&i>r?r:i;t.css({width:u,maxHeight:i})},10)}}),{require:"ngModel",link:function(i,u,e,o){function y(n){l(h)&&(o.$viewValue||o.$viewValue===0?n&&n.item&&(n.item.label=l(n.item.label)?$("<div>").append(n.item.label).html():n.item.label,w(h,n.item)):d(h),a(o.$viewChangeListeners,function(n){try{n()}catch(i){t(i)}}))}function nt(){o.$setViewValue("");o.$render();y()}function tt(){s.options.focusOpen&&!v&&u.autocomplete("search","")}function it(n){return n=l(n)?n:{},n.disabled=n.source?n.disabled:!0,n.appendTo=n.appendTo||u.parents(".ng-view")[0]||u.parents("[ng-view]")[0]||null,n.minLength=n.focusOpen?0:n.minLength,n.outHeight=n.outHeight||0,n.position=n.position||{my:"left top",at:"left bottom",collision:"flipfit"},n}function d(n){if(l(n)){var t=/^\$/;a(n,function(i,r){var u=typeof i;t.test(r)||(u==="number"?n[r]=0:u==="string"?n[r]="":u==="boolean"?n[r]=!1:l(i)&&d(i))})}}var v=!1,c=null,p={},h=null,a=angular.forEach,l=angular.isObject,w=angular.extend,s=i.$eval(e.uiAutocomplete),b=angular.bind(u,u.val),g=i.$watch(e.ngModel,function(n){h=n;l(h)&&(o.$formatters.push(function(n){return n.value}),o.$parsers.push(function(n){return h.value=n,h}),i.$watch(e.ngModel,function(n){b()!==n.value&&(o.$viewValue=n.value,o.$render())},!0),o.$pristine=!1,o.$setViewValue(h.value),o.$pristine=!0);n&&g()}),k={open:function(){v=!0;c=null},close:function(){v=!1},select:function(t,i){c=i;n(function(){u.blur()},0)},change:function(){var n=b(),t=!1;c&&c.item&&n.indexOf(c.item.value)!==-1&&(n=c.item.value,u.focus(),t=!0);i.$apply(function(){s.options.onlySelectValid&&o.$setValidity("onlyselect",t);n===null?o.$render():n===""?y():o.$viewValue!==n&&(o.$setViewValue(n),o.$render(),y(c))})}};if(l(s)){s.methods={};s.options=it(s.options);a(["change","close","create","focus","open","response","search","select"],function(n){var t=s.options[n];t=typeof t=="function"?t:angular.noop;p[n]=function(i,r){k[n]&&k[n](i,r);t(i,r);s.events&&typeof s.events[n]=="function"&&s.events[n](i,r)}});a(["close","destroy","disable","enable","instance","option","search","widget"],function(n){s.methods[n]=function(){var t=f.call(arguments);return t.unshift(n),u.autocomplete.apply(u,t)}});s.methods.filter=r;s.methods.clean=nt;u.on("focus",tt);u.autocomplete(w({},s.options,p));s.widget=u.autocomplete("widget")}}}}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,t,i){function u(n){for(var t in n)if(void 0!==f.style[t])return n[t]}var r=function(u,f,e){e=e||{};var s=n.defer(),o=r[e.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){u.unbind(o,h);s.resolve(u)})};return o&&u.bind(o,h),t(function(){angular.isString(f)?u.addClass(f):angular.isFunction(f)?f(u):angular.isObject(f)&&u.css(f);o||s.resolve(u)}),s.promise.cancel=function(){o&&u.unbind(o,h);s.reject("Transition cancelled")},s.promise},f=document.createElement("trans");return r.transitionEndEventName=u({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),r.animationEndEventName=u({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(n){return{link:function(t,i,r){function e(t){function f(){u===r&&(u=void 0)}var r=n(i,t);return u&&u.cancel(),u=r,r.then(f,f),r}function h(){f?(f=!1,o()):(i.removeClass("collapse").addClass("collapsing"),e({height:i[0].scrollHeight+"px"}).then(o))}function o(){i.removeClass("collapsing");i.addClass("collapse in");i.css({height:"auto"})}function c(){f?(f=!1,s(),i.css({height:0})):(i.css({height:i[0].scrollHeight+"px"}),i[0].offsetWidth,i.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(s))}function s(){i.removeClass("collapsing");i.addClass("collapse")}var u,f=!0;t.$watch(r.collapse,function(n){n?c():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){r.addGroup(n);n.$watch("isOpen",function(t){t&&r.closeOthers(n)});n.toggleOpen=function(){n.isDisabled||(n.isOpen=!n.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.html(""),t.append(n))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(n,t){n.closeable="close"in t;this.close=n.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(n){return{require:"alert",link:function(t,i,r,u){n(function(){u.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(n,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe);n.$watch(i.bindHtmlUnsafe,function(n){t.html(n||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass||"active";this.toggleEvent=n.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,n.$eval(i.btnRadio)))};t.bind(f.toggleEvent,function(){var r=t.hasClass(f.activeClass);(!r||angular.isDefined(i.uncheckable))&&n.$apply(function(){u.$setViewValue(r?null:n.$eval(i.btnRadio));u.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){var r=n.$eval(t);return angular.isDefined(r)?r:i}var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))};t.bind(f.toggleEvent,function(){n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e());u.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(n,t,i,r){function h(){c();var t=+n.interval;!isNaN(t)&&t>0&&(o=i(a,t))}function c(){o&&(i.cancel(o),o=null)}function a(){var t=+n.interval;s&&!isNaN(t)&&t>0?n.next():n.pause()}var o,s,f=this,u=f.slides=n.slides=[],e=-1,l;f.currentSlide=null;l=!1;f.select=n.select=function(i,o){function c(){l||(f.currentSlide&&angular.isString(o)&&!n.noTransition&&i.$element?(i.$element.addClass(o),i.$element[0].offsetWidth,angular.forEach(u,function(n){angular.extend(n,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(f.currentSlide||{},{direction:o,leaving:!0}),n.$currentTransition=r(i.$element,{}),function(t,i){n.$currentTransition.then(function(){s(t,i)},function(){s(t,i)})}(i,f.currentSlide)):s(i,f.currentSlide),f.currentSlide=i,e=a,h())}function s(t,i){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1});angular.extend(i||{},{direction:"",active:!1,leaving:!1,entering:!1});n.$currentTransition=null}var a=u.indexOf(i);void 0===o&&(o=a>e?"next":"prev");i&&i!==f.currentSlide&&(n.$currentTransition?(n.$currentTransition.cancel(),t(c)):c())};n.$on("$destroy",function(){l=!0});f.indexOfSlide=function(n){return u.indexOf(n)};n.next=function(){var t=(e+1)%u.length;if(!n.$currentTransition)return f.select(u[t],"next")};n.prev=function(){var t=0>e-1?u.length-1:e-1;if(!n.$currentTransition)return f.select(u[t],"prev")};n.isActive=function(n){return f.currentSlide===n};n.$watch("interval",h);n.$on("$destroy",c);n.play=function(){s||(s=!0,h())};n.pause=function(){n.noPause||(s=!1,c())};f.addSlide=function(t,i){t.$element=i;u.push(t);1===u.length||t.active?(f.select(u[u.length-1]),1==u.length&&n.play()):t.active=!1};f.removeSlide=function(n){var t=u.indexOf(n);u.splice(t,1);u.length>0&&n.active?f.select(t>=u.length?u[t-1]:u[t]):e>t&&e--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(n,t,i,r){r.addSlide(n,t);n.$on("$destroy",function(){r.removeSlide(n)});n.$watch("active",function(t){t&&r.select(n)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(n,t){function i(n){var r=[],i=n.split("");return angular.forEach(u,function(t,u){var f=n.indexOf(u),e,o;if(f>-1){for(n=n.split(""),i[f]="("+t.regex+")",n[f]="$",e=f+1,o=f+u.length;o>e;e++)i[e]="",n[e]="$";n=n.join("");r.push({index:f,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(r,"index")}}function r(n,t,i){return 1===t&&i>28?29===i&&(n%4==0&&n%100!=0||n%400==0):3===t||5===t||8===t||10===t?31>i:!0}this.parsers={};var u={yyyy:{regex:"\\d{4}",apply:function(n){this.year=+n}},yy:{regex:"\\d{2}",apply:function(n){this.year=+n+2e3}},y:{regex:"\\d{1,4}",apply:function(n){this.year=+n}},MMMM:{regex:n.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:n.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1}},M:{regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},EEEE:{regex:n.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:n.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,u){var s;if(!angular.isString(t)||!u)return t;u=n.DATETIME_FORMATS[u]||u;this.parsers[u]||(this.parsers[u]=i(u));var h=this.parsers[u],l=h.regex,a=h.map,e=t.match(l);if(e&&e.length){for(var c,f={year:1900,month:0,date:1,hours:0},o=1,v=e.length;v>o;o++)s=a[o-1],s.apply&&s.apply.call(f,e[o]);return r(f.year,f.month,f.date)&&(c=new Date(f.year,f.month,f.date,f.hours)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return"static"===(i(n,"position")||"static")}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var u,h,c,f,a=i.split("-"),l=a[0],e=a[1]||"center",o,s;u=r?this.offset(n):this.position(n);h=t.prop("offsetWidth");c=t.prop("offsetHeight");o={center:function(){return u.left+u.width/2-h/2},left:function(){return u.left},right:function(){return u.left+u.width}};s={center:function(){return u.top+u.height/2-c/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(l){case"right":f={top:s[e](),left:o[l]()};break;case"left":f={top:s[e](),left:u.left-h};break;case"bottom":f={top:s[l](),left:o[e]()};break;default:f={top:u.top-c,left:o[e]()}}return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,t,i,r,u,f,e,o){var s=this,h={$setViewValue:angular.noop},c;this.modes=["day","month","year"];angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(i,u){s[i]=angular.isDefined(t[i])?8>u?r(t[i])(n.$parent):n.$parent.$eval(t[i]):o[i]});angular.forEach(["minDate","maxDate"],function(r){t[r]?n.$parent.$watch(i(t[r]),function(n){s[r]=n?new Date(n):null;s.refreshView()}):s[r]=o[r]?new Date(o[r]):null});n.datepickerMode=n.datepickerMode||o.datepickerMode;n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random());this.activeDate=angular.isDefined(t.initDate)?n.$parent.$eval(t.initDate):new Date;n.isActive=function(t){return 0===s.compare(t.date,s.activeDate)?(n.activeDateId=t.uid,!0):!1};this.init=function(n){h=n;h.$render=function(){s.render()}};this.render=function(){if(h.$modelValue){var n=new Date(h.$modelValue),t=!isNaN(n);t?this.activeDate=n:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');h.$setValidity("date",t)}this.refreshView()};this.refreshView=function(){if(this.element){this._refreshView();var n=h.$modelValue?new Date(h.$modelValue):null;h.$setValidity("date-disabled",!n||this.element&&!this.isDisabled(n))}};this.createDateObject=function(n,t){var i=h.$modelValue?new Date(h.$modelValue):null;return{date:n,label:e(n,t),selected:i&&0===this.compare(n,i),disabled:this.isDisabled(n),current:0===this.compare(n,new Date)}};this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&n.dateDisabled({date:i,mode:n.datepickerMode})};this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i};n.select=function(t){if(n.datepickerMode===s.minMode){var i=h.$modelValue?new Date(h.$modelValue):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());h.$setViewValue(i);h.$render()}else s.activeDate=t,n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)-1]};n.move=function(n){var t=s.activeDate.getFullYear()+n*(s.step.years||0),i=s.activeDate.getMonth()+n*(s.step.months||0);s.activeDate.setFullYear(t,i,1);s.refreshView()};n.toggleMode=function(t){t=t||1;n.datepickerMode===s.maxMode&&1===t||n.datepickerMode===s.minMode&&-1===t||(n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)+t])};n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};c=function(){u(function(){s.element[0].focus()},0,!1)};n.$on("datepicker.focus",c);n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===i||"space"===i){if(s.isDisabled(s.activeDate))return;n.select(s.activeDate);c()}else!t.ctrlKey||"up"!==i&&"down"!==i?(s.handleKeyDown(i,t),s.refreshView()):(n.toggleMode("up"===i?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}).directive("daypicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,i,r,u){function f(n,t){return 1!==t||n%4!=0||n%100==0&&n%400!=0?s[t]:29}function e(n,t){var r=new Array(t),i=new Date(n),u=0;for(i.setHours(12);t>u;)r[u++]=new Date(i),i.setDate(i.getDate()+1);return r}function o(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}t.showWeeks=u.showWeeks;u.step={months:1};u.element=i;var s=[31,28,31,30,31,30,31,31,30,31,30,31];u._refreshView=function(){var p=u.activeDate.getFullYear(),h=u.activeDate.getMonth(),c=new Date(p,h,1),s=u.startingDay-c.getDay(),l=s>0?7-s:-s,a=new Date(c),i,r,f,v,y;for(l>0&&a.setDate(-l+1),i=e(a,42),r=0;42>r;r++)i[r]=angular.extend(u.createDateObject(i[r],u.formatDay),{secondary:i[r].getMonth()!==h,uid:t.uniqueId+"-"+r});for(t.labels=new Array(7),f=0;7>f;f++)t.labels[f]={abbr:n(i[f].date,u.formatDayHeader),full:n(i[f].date,"EEEE")};if(t.title=n(u.activeDate,u.formatDayTitle),t.rows=u.split(i,7),t.showWeeks)for(t.weekNumbers=[],v=o(t.rows[0][0].date),y=t.rows.length;t.weekNumbers.push(v++)<y;);};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};u.handleKeyDown=function(n){var t=u.activeDate.getDate(),i;"left"===n?t-=1:"up"===n?t-=7:"right"===n?t+=1:"down"===n?t+=7:"pageup"===n||"pagedown"===n?(i=u.activeDate.getMonth()+("pageup"===n?-1:1),u.activeDate.setMonth(i,1),t=Math.min(f(u.activeDate.getFullYear(),u.activeDate.getMonth()),t)):"home"===n?t=1:"end"===n&&(t=f(u.activeDate.getFullYear(),u.activeDate.getMonth()));u.activeDate.setDate(t)};u.refreshView()}}}]).directive("monthpicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,i,r,u){u.step={years:1};u.element=i;u._refreshView=function(){for(var r=new Array(12),f=u.activeDate.getFullYear(),i=0;12>i;i++)r[i]=angular.extend(u.createDateObject(new Date(f,i,1),u.formatMonth),{uid:t.uniqueId+"-"+i});t.title=n(u.activeDate,u.formatMonthTitle);t.rows=u.split(r,3)};u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth())-new Date(t.getFullYear(),t.getMonth())};u.handleKeyDown=function(n){var t=u.activeDate.getMonth(),i;"left"===n?t-=1:"up"===n?t-=3:"right"===n?t+=1:"down"===n?t+=3:"pageup"===n||"pagedown"===n?(i=u.activeDate.getFullYear()+("pageup"===n?-1:1),u.activeDate.setFullYear(i)):"home"===n?t=0:"end"===n&&(t=11);u.activeDate.setMonth(t)};u.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(n,t,i,r){function f(n){return parseInt((n-1)/u,10)*u+1}var u=r.yearRange;r.step={years:u};r.element=t;r._refreshView=function(){for(var i=new Array(u),t=0,e=f(r.activeDate.getFullYear());u>t;t++)i[t]=angular.extend(r.createDateObject(new Date(e+t,0,1),r.formatYear),{uid:n.uniqueId+"-"+t});n.title=[i[0].label,i[u-1].label].join(" - ");n.rows=r.split(i,5)};r.compare=function(n,t){return n.getFullYear()-t.getFullYear()};r.handleKeyDown=function(n){var t=r.activeDate.getFullYear();"left"===n?t-=1:"up"===n?t-=5:"right"===n?t+=1:"down"===n?t+=5:"pageup"===n||"pagedown"===n?t+=("pageup"===n?-1:1)*r.step.years:"home"===n?t=f(r.activeDate.getFullYear()):"end"===n&&(t=f(r.activeDate.getFullYear())+u-1);r.activeDate.setFullYear(t)};r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(n,t,i,r,u,f,e){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(o,s,h,c){function b(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function k(n){if(n){if(angular.isDate(n)&&!isNaN(n))return c.$setValidity("date",!0),n;if(angular.isString(n)){var t=f.parse(n,p)||new Date(n);return isNaN(t)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),t)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var p,g=angular.isDefined(h.closeOnDateSelection)?o.$parent.$eval(h.closeOnDateSelection):e.closeOnDateSelection,d=angular.isDefined(h.datepickerAppendToBody)?o.$parent.$eval(h.datepickerAppendToBody):e.appendToBody,l,a,v,w,y;o.showButtonBar=angular.isDefined(h.showButtonBar)?o.$parent.$eval(h.showButtonBar):e.showButtonBar;o.getText=function(n){return o[n+"Text"]||e[n+"Text"]};h.$observe("datepickerPopup",function(n){p=n||e.datepickerPopup;c.$render()});l=angular.element("<div datepicker-popup-wrap><div datepicker><\/div><\/div>");l.attr({"ng-model":"date","ng-change":"dateSelection()"});a=angular.element(l.children()[0]);h.datepickerOptions&&angular.forEach(o.$parent.$eval(h.datepickerOptions),function(n,t){a.attr(b(t),n)});o.watchData={};angular.forEach(["minDate","maxDate","datepickerMode"],function(n){var i,r;h[n]&&(i=t(h[n]),(o.$parent.$watch(i,function(t){o.watchData[n]=t}),a.attr(b(n),"watchData."+n),"datepickerMode"===n)&&(r=i.assign,o.$watch("watchData."+n,function(n,t){n!==t&&r(o.$parent,n)})))});h.dateDisabled&&a.attr("date-disabled","dateDisabled({ date: date, mode: mode })");c.$parsers.unshift(k);o.dateSelection=function(n){angular.isDefined(n)&&(o.date=n);c.$setViewValue(o.date);c.$render();g&&(o.isOpen=!1,s[0].focus())};s.bind("input change keyup",function(){o.$apply(function(){o.date=c.$modelValue})});c.$render=function(){var n=c.$viewValue?u(c.$viewValue,p):"";s.val(n);o.date=k(c.$modelValue)};v=function(n){o.isOpen&&n.target!==s[0]&&o.$apply(function(){o.isOpen=!1})};w=function(n){o.keydown(n)};s.bind("keydown",w);o.keydown=function(n){27===n.which?(n.preventDefault(),n.stopPropagation(),o.close()):40!==n.which||o.isOpen||(o.isOpen=!0)};o.$watch("isOpen",function(n){n?(o.$broadcast("datepicker.focus"),o.position=d?r.offset(s):r.position(s),o.position.top=o.position.top+s.prop("offsetHeight"),i.bind("click",v)):i.unbind("click",v)});o.select=function(n){if("today"===n){var t=new Date;angular.isDate(c.$modelValue)?(n=new Date(c.$modelValue),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):n=new Date(t.setHours(0,0,0,0))}o.dateSelection(n)};o.close=function(){o.isOpen=!1;s[0].focus()};y=n(l)(o);l.remove();d?i.find("body").append(y):s.after(y);o.$on("$destroy",function(){y.remove();s.unbind("keydown",w);i.unbind("click",v)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(n,t){t.bind("click",function(n){n.preventDefault();n.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(n){var t=null,i,r;this.open=function(u){t||(n.bind("click",i),n.bind("keydown",r));t&&t!==u&&(t.isOpen=!1);t=u};this.close=function(u){t===u&&(t=null,n.unbind("click",i),n.unbind("keydown",r))};i=function(n){if(t){var i=t.getToggleElement();n&&i&&i[0].contains(n.target)||t.$apply(function(){t.isOpen=!1})}};r=function(n){27===n.which&&(t.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,t,i,r,u,f){var s,o=this,e=n.$new(),c=r.openClass,h=angular.noop,l=t.onToggle?i(t.onToggle):angular.noop;this.init=function(r){o.$element=r;t.isOpen&&(s=i(t.isOpen),h=s.assign,n.$watch(s,function(n){e.isOpen=!!n}))};this.toggle=function(n){return e.isOpen=arguments.length?!!n:!e.isOpen};this.isOpen=function(){return e.isOpen};e.getToggleElement=function(){return o.toggleElement};e.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()};e.$watch("isOpen",function(t,i){f[t?"addClass":"removeClass"](o.$element,c);t?(e.focusToggleElement(),u.open(e)):u.close(e);h(n,t);angular.isDefined(t)&&t!==i&&l(n,{open:!!t})});n.$on("$locationChangeSuccess",function(){e.isOpen=!1});n.$on("$destroy",function(){e.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,t,i,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,t,i,r){if(r){r.toggleElement=t;var u=function(u){u.preventDefault();t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u);t.attr({"aria-haspopup":!0,"aria-expanded":!1});n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)});n.$on("$destroy",function(){t.unbind("click",u)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$timeout",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,i,r){t.backdropClass=r.backdropClass||"";t.animate=!1;n(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(n,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(n,t){return t.templateUrl||"template/modal/window.html"},link:function(i,r,u){r.addClass(u.windowClass||"");i.size=u.size;t(function(){i.animate=!0;r[0].querySelectorAll("[autofocus]").length||r[0].focus()});i.close=function(t){var i=n.getTop();i&&i.value.backdrop&&"static"!=i.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(n,t,i,r,u){u(n.$parent,function(n){t.empty();t.append(n)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,t,i,r,u,f){function c(){for(var t=-1,i=e.keys(),n=0;n<i.length;n++)e.get(i[n]).value.backdrop&&(t=n);return t}function l(n){var r=i.find("body").eq(0),t=e.get(n).value;e.remove(n);a(t.modalDomEl,t.modalScope,300,function(){t.modalScope.$destroy();r.toggleClass(v,e.length()>0);y()})}function y(){if(h&&-1==c()){var n=o;a(h,o,150,function(){n.$destroy();n=null});h=void 0;o=void 0}}function a(i,r,u,f){function e(){e.done||(e.done=!0,i.remove(),f&&f())}var o,s;r.animate=!1;o=n.transitionEndEventName;o?(s=t(e,u),i.bind(o,function(){t.cancel(s);e();r.$apply()})):t(e)}var h,o,v="modal-open",e=f.createNew(),s={};return u.$watch(c,function(n){o&&(o.index=n)}),i.bind("keydown",function(n){var t;27===n.which&&(t=e.top(),t&&t.value.keyboard&&(n.preventDefault(),u.$apply(function(){s.dismiss(t.key,"escape key press")})))}),s.open=function(n,t){var f,s,l,a,y;e.add(n,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});f=i.find("body").eq(0);s=c();s>=0&&!h&&(o=u.$new(!0),o.index=s,l=angular.element("<div modal-backdrop><\/div>"),l.attr("backdrop-class",t.backdropClass),h=r(l)(o),f.append(h));a=angular.element("<div modal-window><\/div>");a.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:e.length()-1,animate:"animate"}).html(t.content);y=r(a)(t.scope);e.top().value.modalDomEl=y;f.append(y);f.addClass(v)},s.close=function(n,t){var i=e.get(n);i&&(i.value.deferred.resolve(t),l(n))},s.dismiss=function(n,t){var i=e.get(n);i&&(i.value.deferred.reject(t),l(n))},s.dismissAll=function(n){for(var t=this.getTop();t;)this.dismiss(t.key,n),t=this.getTop()},s.getTop=function(){return e.top()},s}]).provider("$modal",function(){var n={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,i,r,u,f,e,o){function h(n){return n.template?r.when(n.template):u.get(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl,{cache:f}).then(function(n){return n.data})}function c(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var s={};return s.open=function(t){var f=r.defer(),s=r.defer(),u={result:f.promise,opened:s.promise,close:function(n){o.close(u,n)},dismiss:function(n){o.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([h(t)].concat(c(t.resolve))),l.then(function(n){var r=(t.scope||i).$new(),h,s,c;r.$close=u.close;r.$dismiss=u.dismiss;s={};c=1;t.controller&&(s.$scope=r,s.$modalInstance=u,angular.forEach(t.resolve,function(t,i){s[i]=n[c++]}),h=e(t.controller,s),t.controllerAs&&(r[t.controllerAs]=h));o.open(u,{scope:r,deferred:f,content:n[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(n){f.reject(n)}),l.then(function(){s.resolve(!0)},function(){s.reject(!1)}),u},s}]};return n}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,t,i){var u=this,r={$setViewValue:angular.noop},f=t.numPages?i(t.numPages).assign:angular.noop;this.init=function(f,e){r=f;this.config=e;r.$render=function(){u.render()};t.itemsPerPage?n.$parent.$watch(i(t.itemsPerPage),function(t){u.itemsPerPage=parseInt(t,10);n.totalPages=u.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage};this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)};this.render=function(){n.page=parseInt(r.$viewValue,10)||1};n.selectPage=function(t){n.page!==t&&t>0&&t<=n.totalPages&&(r.$setViewValue(t),r.$render())};n.getText=function(t){return n[t+"Text"]||u.config[t+"Text"]};n.noPrevious=function(){return 1===n.page};n.noNext=function(){return n.page===n.totalPages};n.$watch("totalItems",function(){n.totalPages=u.calculateTotalPages()});n.$watch("totalPages",function(t){f(n.$parent,t);n.page>t?n.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(n,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,r,u,f){function s(n,t,i){return{number:n,text:t,active:i}}function a(n,t){var f=[],i=1,r=t,o=angular.isDefined(e)&&t>e,u,c,l,a;for(o&&(h?(i=Math.max(n-Math.floor(e/2),1),r=i+e-1,r>t&&(r=t,i=r-e+1)):(i=(Math.ceil(n/e)-1)*e+1,r=Math.min(i+e-1,t))),u=i;r>=u;u++)c=s(u,u,u===n),f.push(c);return o&&!h&&(i>1&&(l=s(i-1,"...",!1),f.unshift(l)),t>r&&(a=s(r+1,"...",!1),f.push(a))),f}var o=f[0],c=f[1],e,h,l;c&&(e=angular.isDefined(u.maxSize)?i.$parent.$eval(u.maxSize):t.maxSize,h=angular.isDefined(u.rotate)?i.$parent.$eval(u.rotate):t.rotate,i.boundaryLinks=angular.isDefined(u.boundaryLinks)?i.$parent.$eval(u.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(u.directionLinks)?i.$parent.$eval(u.directionLinks):t.directionLinks,o.init(c,t),u.maxSize&&i.$parent.$watch(n(u.maxSize),function(n){e=parseInt(n,10);o.render()}),l=o.render,o.render=function(){l();i.page>0&&i.page<=i.totalPages&&(i.pages=a(i.page,i.totalPages))})}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,i,r,u){var e=u[0],f=u[1];f&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):n.align,e.init(f,n))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function i(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var r={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(u,f,e,o,s,h){return function(u,c,l){function p(t){var i=t||a.trigger||l,r=n[i]||i;return{show:i,hide:r}}var a=angular.extend({},r,t),w=i(u),v=h.startSymbol(),y=h.endSymbol(),b="<div "+w+'-popup title="'+v+"title"+y+'" content="'+v+"content"+y+'" placement="'+v+"placement"+y+'" animation="animation" is-open="isOpen"><\/div>';return{restrict:"EA",compile:function(){var n=f(b);return function(t,i,r){function et(){f.isOpen?g():d()}function d(){(!at||t.$eval(r[c+"Enable"]))&&(st(),f.popupDelay?y||(y=e(ut,f.popupDelay,!1),y.then(function(n){n()})):ut()())}function g(){t.$apply(function(){nt()})}function ut(){return y=null,v&&(e.cancel(v),v=null),f.content?(ot(),h.css({top:0,left:0,display:"block"}),f.$digest(),ft(),f.isOpen=!0,f.$digest(),ft):angular.noop}function nt(){f.isOpen=!1;e.cancel(y);y=null;f.animation?v||(v=e(k,500)):k()}function ot(){h&&k();w=f.$new();h=n(w,function(n){b?o.find("body").append(n):i.after(n)})}function k(){v=null;h&&(h.remove(),h=null);w&&(w.$destroy(),w=null)}function st(){ht();ct()}function ht(){var n=r[c+"Placement"];f.placement=angular.isDefined(n)?n:a.placement}function ct(){var t=r[c+"PopupDelay"],n=parseInt(t,10);f.popupDelay=isNaN(n)?a.popupDelay:n}function lt(){var n=r[c+"Trigger"];tt();l=p(n);l.show===l.hide?i.bind(l.show,et):(i.bind(l.show,d),i.bind(l.hide,g))}var h,w,v,y,b=angular.isDefined(a.appendToBody)?a.appendToBody:!1,l=p(void 0),at=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),ft=function(){var n=s.positionElements(i,h,f.placement,b);n.top+="px";n.left+="px";h.css(n)},tt,it,rt;f.isOpen=!1;r.$observe(u,function(n){f.content=n;!n&&f.isOpen&&nt()});r.$observe(c+"Title",function(n){f.title=n});tt=function(){i.unbind(l.show,d);i.unbind(l.hide,g)};lt();it=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(it)?!!it:a.animation;rt=t.$eval(r[c+"AppendToBody"]);b=angular.isDefined(rt)?rt:b;b&&t.$on("$locationChangeSuccess",function(){f.isOpen&&nt()});t.$on("$destroy",function(){e.cancel(v);e.cancel(y);tt();k();f=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(n){return n("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,i){var r=this,u=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.bars=[];n.max=angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max;this.addBar=function(t,i){u||i.css({transition:"none"});this.bars.push(t);t.$watch("value",function(i){t.percent=+(100*i/n.max).toFixed(2)});t.$on("$destroy",function(){i=null;r.removeBar(t)})};this.removeBar=function(n){this.bars.splice(this.bars.indexOf(n),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,t,i){var r={$setViewValue:angular.noop};this.init=function(u){r=u;r.$render=this.render;this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):i.stateOn;this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):i.stateOff;var f=angular.isDefined(t.ratingStates)?n.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max);n.range=this.buildTemplateObjects(f)};this.buildTemplateObjects=function(n){for(var t=0,i=n.length;i>t;t++)n[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},n[t]);return n};n.rate=function(t){!n.readonly&&t>=0&&t<=n.range.length&&(r.$setViewValue(t),r.$render())};n.enter=function(t){n.readonly||(n.value=t);n.onHover({value:t})};n.reset=function(){n.value=r.$viewValue;n.onLeave()};n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(38===t.which||39===t.which?1:-1)))};this.render=function(){n.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[],r;i.select=function(n){angular.forEach(t,function(t){t.active&&t!==n&&(t.active=!1,t.onDeselect())});n.active=!0;n.onSelect()};i.addTab=function(n){t.push(n);1===t.length?n.active=!0:n.active&&i.select(n)};i.removeTab=function(n){var u=t.indexOf(n),f;n.active&&t.length>1&&!r&&(f=u==t.length-1?u-1:u+1,i.select(t[f]));t.splice(u,1)};n.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse",function(n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,i,r){return function(t,i,u,f){t.$watch("active",function(n){n&&f.select(t)});t.disabled=!1;u.disabled&&t.$parent.$watch(n(u.disabled),function(n){t.disabled=!!n});t.select=function(){t.disabled||(t.active=!0)};f.addTab(t);t.$on("$destroy",function(){f.removeTab(t)});t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||"tab-heading"===n.tagName.toLowerCase()||"data-tab-heading"===n.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(n,t,i,r,u,f){function p(){var t=parseInt(n.hours,10),i=n.showMeridian?t>0&&13>t:t>=0&&24>t;if(i)return(n.showMeridian&&(12===t&&(t=0),n.meridian===y[1]&&(t+=12)),t)}function w(){var t=parseInt(n.minutes,10);if(t>=0&&60>t)return t}function h(n){return angular.isDefined(n)&&n.toString().length<2?"0"+n:n}function c(n){b();o.$setViewValue(new Date(e));v(n)}function b(){o.$setValidity("time",!0);n.invalidHours=!1;n.invalidMinutes=!1}function v(t){var i=e.getHours(),r=e.getMinutes();n.showMeridian&&(i=0===i||12===i?12:i%12);n.hours="h"===t?i:h(i);n.minutes="m"===t?r:h(r);n.meridian=e.getHours()<12?y[0]:y[1]}function s(n){var t=new Date(e.getTime()+6e4*n);e.setHours(t.getHours(),t.getMinutes());c()}var e=new Date,o={$setViewValue:angular.noop},y=angular.isDefined(t.meridians)?n.$parent.$eval(t.meridians):f.meridians||u.DATETIME_FORMATS.AMPMS,l,a;this.init=function(i,r){o=i;o.$render=this.render;var u=r.eq(0),e=r.eq(1),s=angular.isDefined(t.mousewheel)?n.$parent.$eval(t.mousewheel):f.mousewheel;s&&this.setupMousewheelEvents(u,e);n.readonlyInput=angular.isDefined(t.readonlyInput)?n.$parent.$eval(t.readonlyInput):f.readonlyInput;this.setupInputEvents(u,e)};l=f.hourStep;t.hourStep&&n.$parent.$watch(i(t.hourStep),function(n){l=parseInt(n,10)});a=f.minuteStep;t.minuteStep&&n.$parent.$watch(i(t.minuteStep),function(n){a=parseInt(n,10)});n.showMeridian=f.showMeridian;t.showMeridian&&n.$parent.$watch(i(t.showMeridian),function(t){if(n.showMeridian=!!t,o.$error.time){var i=p(),r=w();angular.isDefined(i)&&angular.isDefined(r)&&(e.setHours(i),c())}else v()});this.setupMousewheelEvents=function(t,i){var r=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementHours():n.decrementHours());t.preventDefault()});i.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementMinutes():n.decrementMinutes());t.preventDefault()})};this.setupInputEvents=function(t,i){if(n.readonlyInput)return n.updateHours=angular.noop,void(n.updateMinutes=angular.noop);var r=function(t,i){o.$setViewValue(null);o.$setValidity("time",!1);angular.isDefined(t)&&(n.invalidHours=t);angular.isDefined(i)&&(n.invalidMinutes=i)};n.updateHours=function(){var n=p();angular.isDefined(n)?(e.setHours(n),c("h")):r(!0)};t.bind("blur",function(){!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=h(n.hours)})});n.updateMinutes=function(){var n=w();angular.isDefined(n)?(e.setMinutes(n),c("m")):r(void 0,!0)};i.bind("blur",function(){!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=h(n.minutes)})})};this.render=function(){var n=o.$modelValue?new Date(o.$modelValue):null;isNaN(n)?(o.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(n&&(e=n),b(),v())};n.incrementHours=function(){s(60*l)};n.decrementHours=function(){s(60*-l)};n.incrementMinutes=function(){s(a)};n.decrementMinutes=function(){s(-a)};n.toggleMeridian=function(){s(720*(e.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(n,t,i,r,u,f,e){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,h,c,l){var d,st=s.$eval(c.typeaheadMinLength)||1,ft=s.$eval(c.typeaheadWaitMs)||0,ht=s.$eval(c.typeaheadEditable)!==!1,p=t(c.typeaheadLoading).assign||angular.noop,ct=t(c.typeaheadOnSelect),et=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,g=c.typeaheadAppendToBody?s.$eval(c.typeaheadAppendToBody):!1,lt=s.$eval(c.typeaheadFocusFirst)!==!1,at=t(c.ngModel).assign,v=e.parse(c.typeahead),a=s.$new(),w,b,y,nt,tt,it,ot,rt,ut,k;s.$on("$destroy",function(){a.$destroy()});w="typeahead-"+a.$id+"-"+Math.floor(1e4*Math.random());h.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":w});b=angular.element("<div typeahead-popup><\/div>");b.attr({id:w,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});angular.isDefined(c.typeaheadTemplateUrl)&&b.attr("template-url",c.typeaheadTemplateUrl);y=function(){a.matches=[];a.activeIdx=-1;h.attr("aria-expanded",!1)};nt=function(n){return w+"-option-"+n};a.$watch("activeIdx",function(n){0>n?h.removeAttr("aria-activedescendant"):h.attr("aria-activedescendant",nt(n))});tt=function(n){var t={$viewValue:n};p(s,!0);i.when(v.source(s,t)).then(function(i){var u=n===l.$viewValue,r;if(u&&d)if(i.length>0){for(a.activeIdx=lt?0:-1,a.matches.length=0,r=0;r<i.length;r++)t[v.itemName]=i[r],a.matches.push({id:nt(r),label:v.viewMapper(a,t),model:i[r]});a.query=n;a.position=g?f.offset(h):f.position(h);a.position.top=a.position.top+h.prop("offsetHeight");h.attr("aria-expanded",!0)}else y();u&&p(s,!1)},function(){y();p(s,!1)})};y();a.query=void 0;ot=function(n){it=r(function(){tt(n)},ft)};rt=function(){it&&r.cancel(it)};l.$parsers.unshift(function(n){return d=!0,n&&n.length>=st?ft>0?(rt(),ot(n)):tt(n):(p(s,!1),rt(),y()),ht?n:n?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),n)});l.$formatters.push(function(n){var i,r,t={};return et?(t.$model=n,et(s,t)):(t[v.itemName]=n,i=v.viewMapper(s,t),t[v.itemName]=void 0,r=v.viewMapper(s,t),i!==r?i:n)});a.select=function(n){var t,u,i={};i[v.itemName]=u=a.matches[n].model;t=v.modelMapper(s,i);at(s,t);l.$setValidity("editable",!0);ct(s,{$item:u,$model:t,$label:v.viewMapper(s,i)});y();r(function(){h[0].focus()},0,!1)};h.bind("keydown",function(n){0!==a.matches.length&&-1!==o.indexOf(n.which)&&(-1!=a.activeIdx||13!==n.which&&9!==n.which)&&(n.preventDefault(),40===n.which?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):38===n.which?(a.activeIdx=(a.activeIdx>0?a.activeIdx:a.matches.length)-1,a.$digest()):13===n.which||9===n.which?a.$apply(function(){a.select(a.activeIdx)}):27===n.which&&(n.stopPropagation(),y(),a.$digest()))});h.bind("blur",function(){d=!1});ut=function(n){h[0]!==n.target&&(y(),a.$digest())};u.bind("click",ut);s.$on("$destroy",function(){u.unbind("click",ut);g&&k.remove()});k=n(b)(a);g?u.find("body").append(k):h.after(k)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(n,t,i,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(u,f,e){var o=r(e.templateUrl)(u.$parent)||"template/typeahead/typeahead-match.html";n.get(o,{cache:t}).success(function(n){f.replaceWith(i(n.trim())(u))})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(n(i),"gi"),"<strong>$&<\/strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}<\/span><\/a>\n    <\/h4>\n  <\/div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude><\/div>\n  <\/div>\n<\/div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(n){n.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude><\/div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(n){n.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;<\/span>\n        <span class="sr-only">Close<\/span>\n    <\/button>\n    <div ng-transclude><\/div>\n<\/div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(n){n.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"><\/li>\n    <\/ol>\n    <div class="carousel-inner" ng-transclude><\/div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"><\/span><\/a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"><\/span><\/a>\n<\/div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(n){n.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude><\/div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"><\/daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"><\/monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"><\/yearpicker>\n<\/div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"><\/th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}<\/small><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}<\/em><\/td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude><\/li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}<\/button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}<\/button>\n\t\t<\/span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}<\/button>\n\t<\/li>\n<\/ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(n){n.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"><\/i><\/button><\/th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}<\/strong><\/button><\/th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"><\/i><\/button><\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}<\/span><\/button>\n      <\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(n){n.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n><\/div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(n){n.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude><\/div><\/div>\n<\/div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}<\/a><\/li>\n<\/ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(n){n.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}<\/a><\/li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}<\/a><\/li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}<\/a><\/li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}<\/a><\/li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}<\/a><\/li>\n<\/ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" bind-html-unsafe="content"><\/div>\n<\/div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(n){n.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"><\/div>\n  <div class="tooltip-inner" ng-bind="content"><\/div>\n<\/div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(n){n.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"><\/div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"><\/h3>\n      <div class="popover-content" ng-bind="content"><\/div>\n  <\/div>\n<\/div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progress.html",'<div class="progress" ng-transclude><\/div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(n){n.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude><\/div>\n<\/div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(n){n.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})<\/span>\n    <\/i>\n<\/span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}<\/a>\n<\/li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(n){n.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude><\/ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    <\/div>\n  <\/div>\n<\/div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(n){n.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"><\/span><\/a><\/td>\n\t\t\t<td ng-show="showMeridian"><\/td>\n\t\t<\/tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t<\/td>\n\t\t\t<td>:<\/td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t<\/td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}<\/button><\/td>\n\t\t<\/tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n\t\t\t<td>&nbsp;<\/td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"><\/span><\/a><\/td>\n\t\t\t<td ng-show="showMeridian"><\/td>\n\t\t<\/tr>\n\t<\/tbody>\n<\/table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"><\/a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(n){n.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"><\/div>\n    <\/li>\n<\/ul>\n')}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(void 0!==i.style[n])return{end:t[n]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.4";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.4";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.4";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var r=n(this),i=u(r),f={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.4";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find('[role="menu"]'+h+', [role="listbox"]'+h);f.length&&(r=f.index(t.target),38==t.which&&r>0&&r--,40==t.which&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in").attr("aria-hidden",!1);r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n('<div class="modal-backdrop '+f+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=u.hoverState&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.4";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.4";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.4";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=u?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=n(document.body).height();if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery),function(n){function h(n,r,u){var c=n[0],s=/er/.test(u)?_indeterminate:/bl/.test(u)?i:t,h=u==_update?{checked:c[t],disabled:c[i],indeterminate:"true"==n.attr(_indeterminate)||"false"==n.attr(_determinate)}:c[s],l;if(/^(ch|di|in)/.test(u)&&!h)o(n,s);else if(/^(un|en|de)/.test(u)&&h)f(n,s);else if(u==_update)for(l in h)h[l]?o(n,l,!0):f(n,l,!0);else r&&"toggle"!=u||(r||n[_callback]("ifClicked"),h?c[_type]!==e&&f(n,s):o(n,s))}function o(o,h,l){var y=o[0],p=o.parent(),b=h==t,k=h==_indeterminate,nt=h==i,d=k?_determinate:b?v:"enabled",tt=r(o,d+s(y[_type])),it=r(o,h+s(y[_type]));if(!0!==y[h]){if(!l&&h==t&&y[_type]==e&&y.name){var g=o.closest("form"),w='input[name="'+y.name+'"]',w=g.length?g.find(w):n(w);w.each(function(){this!==y&&n(this).data(u)&&f(n(this),h)})}k?(y[h]=!0,y[t]&&f(o,t,"force")):(l||(y[h]=!0),b&&y[_indeterminate]&&f(o,_indeterminate,!1));a(o,b,h,l)}y[i]&&r(o,_cursor,!0)&&p.find("."+c).css(_cursor,"default");p[_add](it||r(o,h)||"");p.attr("role")&&!k&&p.attr("aria-"+(nt?i:t),"true");p[_remove](tt||r(o,d)||"")}function f(n,u,f){var e=n[0],o=n.parent(),y=u==t,h=u==_indeterminate,p=u==i,l=h?_determinate:y?v:"enabled",w=r(n,l+s(e[_type])),b=r(n,u+s(e[_type]));!1!==e[u]&&((h||!f||"force"==f)&&(e[u]=!1),a(n,y,l,f));!e[i]&&r(n,_cursor,!0)&&o.find("."+c).css(_cursor,"pointer");o[_remove](b||r(n,u)||"");o.attr("role")&&!h&&o.attr("aria-"+(p?i:t),"false");o[_add](w||r(n,l)||"")}function l(t,i){t.data(u)&&(t.parent().html(t.attr("style",t.data(u).s||"")),i&&t[_callback](i),t.off(".i").unwrap(),n(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function r(n,t,i){if(n.data(u))return n.data(u).o[t+(i?"":"Class")]}function s(n){return n.charAt(0).toUpperCase()+n.slice(1)}function a(n,t,i,r){r||(t&&n[_callback]("ifToggled"),n[_callback]("ifChanged")[_callback]("if"+s(i)))}var u="iCheck",c=u+"-helper",e="radio",t="checked",v="un"+t,i="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);n.fn[u]=function(r,s){var w='input[type="checkbox"], input[type="'+e+'"]',v=n(),d=function(t){t.each(function(){var t=n(this);v=t.is(w)?v.add(t):v.add(t.find(w))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),d(this),v.each(function(){var t=n(this);"destroy"==r?l(t,"ifDestroyed"):h(t,!0,r);n.isFunction(s)&&s()});if("object"!=typeof r&&r)return this;var a=n.extend({checkedClass:t,disabledClass:i,indeterminateClass:_indeterminate,labelHover:!0},r),b=a.handle,p=a.hoverClass||"hover",tt=a.focusClass||"focus",g=a.activeClass||"active",nt=!!a.labelHover,k=a.labelHoverClass||"hover",y=(""+a.increaseArea).replace("%","")|0;return("checkbox"==b||b==e)&&(w='input[type="'+b+'"]'),-50>y&&(y=-50),d(this),v.each(function(){var s=n(this);l(s);var v=this,it=v.id,d=-y+"%",w=100+2*y+"%",w={position:"absolute",top:d,left:d,display:"block",width:w,height:w,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:y?w:{position:"absolute",opacity:0},ft="checkbox"==v[_type]?a.checkboxClass||"icheckbox":a.radioClass||"i"+e,b=n(_label+'[for="'+it+'"]').add(s.closest(_label)),rt=!!a.aria,ut=u+"-"+Math.random().toString(36).substr(2,6),r='<div class="'+ft+'" '+(rt?'role="'+v[_type]+'" ':"");if(rt&&b.each(function(){r+='aria-labelledby="';this.id?r+=this.id:(this.id=ut,r+=ut);r+='"'}),r=s.wrap(r+"/>")[_callback]("ifCreated").parent().append(a.insert),w=n('<ins class="'+c+'"/>').css(w).appendTo(r),s.data(u,{o:a,s:s.attr("style")}).css(d),a.inheritClass&&r[_add](v.className||""),a.inheritID&&it&&r.attr("id",u+"-"+it),"static"==r.css("position")&&r.css("position","relative"),h(s,!0,_update),b.length)b.on(_click+".i mouseover.i mouseout.i "+_touch,function(t){var u=t[_type],f=n(this);if(!v[i]){if(u==_click){if(n(t.target).is("a"))return;h(s,!1,!0)}else nt&&(/ut|nd/.test(u)?(r[_remove](p),f[_remove](k)):(r[_add](p),f[_add](k)));if(_mobile)t.stopPropagation();else return!1}});s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(n){var i=n[_type];if(n=n.keyCode,i==_click)return!1;if("keydown"==i&&32==n)return v[_type]==e&&v[t]||(v[t]?f(s,t):o(s,t)),!1;"keyup"==i&&v[_type]==e?v[t]||o(s,t):/us|ur/.test(i)&&r["blur"==i?_remove:_add](tt)});w.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(n){var t=n[_type],u=/wn|up/.test(t)?g:p;if(!v[i])if(t==_click?h(s,!1,!0):(/wn|er|in/.test(t)?r[_add](u):r[_remove](u+" "+g),b.length&&nt&&u==p&&b[/ut|nd/.test(t)?_remove:_add](k)),_mobile)n.stopPropagation();else return!1})})}}(window.jQuery||window.Zepto);!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function i(){return wf.apply(null,arguments)}function ve(n){wf=n}function dr(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function ri(n){return"[object Array]"===Object.prototype.toString.call(n)}function wi(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function ye(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function g(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ui(n,t){for(var i in t)g(t,i)&&(n[i]=t[i]);return g(t,"toString")&&(n.toString=t.toString),g(t,"valueOf")&&(n.valueOf=t.valueOf),n}function bt(n,t,i,r){return bu(n,t,i,r,!0).utc()}function gr(n){return null==n._isValid&&(n._isValid=!isNaN(n._d.getTime())&&n._pf.overflow<0&&!n._pf.empty&&!n._pf.invalidMonth&&!n._pf.nullInput&&!n._pf.invalidFormat&&!n._pf.userInvalidated,n._strict&&(n._isValid=n._isValid&&0===n._pf.charsLeftOver&&0===n._pf.unusedTokens.length&&void 0===n._pf.bigHour)),n._isValid}function nu(n){var t=bt(NaN);return null!=n?ui(t._pf,n):t._pf.userInvalidated=!0,t}function tu(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=t._pf),"undefined"!=typeof t._locale&&(n._locale=t._locale),or.length>0)for(u in or)i=or[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function kt(n){tu(this,n);this._d=new Date(+n._d);sr===!1&&(sr=!0,i.updateOffset(this),sr=!1)}function nt(n){return n instanceof kt||null!=n&&g(n,"_isAMomentObject")}function o(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function iu(n,t,i){for(var f=Math.min(n.length,t.length),e=Math.abs(n.length-t.length),u=0,r=0;f>r;r++)(i&&n[r]!==t[r]||!i&&o(n[r])!==o(t[r]))&&u++;return u+e}function ru(){}function uu(n){return n?n.toLowerCase().replace("_","-"):n}function pe(n){for(var i,t,f,r,u=0;u<n.length;){for(r=uu(n[u]).split("-"),i=r.length,t=uu(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=fu(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&iu(r,t,!0)>=i-1)break;i--}u++}return null}function fu(n){var t=null;if(!st[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=hi._abbr;require("./locale/"+n);dt(t)}catch(i){}return st[n]}function dt(n,t){var i;return n&&(i="undefined"==typeof t?rt(n):eu(n,t),i&&(hi=i)),hi._abbr}function eu(n,t){return null!==t?(t.abbr=n,st[n]||(st[n]=new ru),st[n].set(t),dt(n),st[n]):(delete st[n],null)}function rt(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return hi;if(!ri(n)){if(t=fu(n))return t;n=[n]}return pe(n)}function c(n,t){var i=n.toLowerCase();ti[i]=ti[i+"s"]=ti[t]=n}function v(n){if("string"==typeof n)return ti[n]||ti[n.toLowerCase()]}function ou(n){var i,t,r={};for(t in n)g(n,t)&&(i=v(t),i&&(r[i]=n[t]));return r}function at(n,t){return function(r){return null!=r?(su(this,n,r),i.updateOffset(this,t),this):fi(this,n)}}function fi(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function su(n,t,i){return n._d["set"+(n._isUTC?"UTC":"")+t](i)}function hu(n,t){var i;if("object"==typeof n)for(i in n)this.set(i,n[i]);else if(n=v(n),"function"==typeof this[n])return this[n](t);return this}function bi(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(yt[n]=u);t&&(yt[t[0]]=function(){return bi(u.apply(this,arguments),t[1],t[2])});i&&(yt[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function we(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function be(n){for(var i=n.match(bf),t=0,r=i.length;r>t;t++)i[t]=yt[i[t]]?yt[i[t]]:we(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function ki(n,t){return n.isValid()?(t=cu(t,n.localeData()),hr[t]||(hr[t]=be(t)),hr[t](n)):n.localeData().invalidDate()}function cu(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ci.lastIndex=0;i>=0&&ci.test(n);)n=n.replace(ci,r),ci.lastIndex=0,i-=1;return n}function t(n,t,i){ar[n]="function"==typeof t?t:function(n){return n&&i?i:t}}function ke(n,t){return g(ar,n)?ar[n](t._strict,t._locale):new RegExp(de(n))}function de(n){return n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function h(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=o(n)}),i=0;i<n.length;i++)vr[n[i]]=r}function gt(n,t){h(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function ge(n,t,i){null!=t&&g(vr,n)&&vr[n](t,i._a,i,n)}function di(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function no(n){return this._months[n.month()]}function to(n){return this._monthsShort[n.month()]}function io(n,t,i){var r,u,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=bt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function lu(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),di(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function au(n){return null!=n?(lu(this,n),i.updateOffset(this,!0),this):fi(this,"Month")}function ro(){return di(this.year(),this.month())}function gi(n){var i,t=n._a;return t&&-2===n._pf.overflow&&(i=t[k]<0||t[k]>11?k:t[w]<1||t[w]>di(t[b],t[k])?w:t[l]<0||t[l]>24||24===t[l]&&(0!==t[ht]||0!==t[ct]||0!==t[lt])?l:t[ht]<0||t[ht]>59?ht:t[ct]<0||t[ct]>59?ct:t[lt]<0||t[lt]>999?lt:-1,n._pf._overflowDayOfYear&&(b>i||i>w)&&(i=w),n._pf.overflow=i),n}function vu(n){i.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function y(n,t){var i=!0;return ui(function(){return i&&(vu(n),i=!1),t.apply(this,arguments)},t)}function uo(n,t){gf[n]||(vu(t),gf[n]=!0)}function yu(n){var t,i,r=n._i,u=kl.exec(r);if(u){for(n._pf.iso=!0,t=0,i=yr.length;i>t;t++)if(yr[t][1].exec(r)){n._f=yr[t][0]+(u[6]||" ");break}for(t=0,i=pr.length;i>t;t++)if(pr[t][1].exec(r)){n._f+=pr[t][0];break}r.match(pi)&&(n._f+="Z");ir(n)}else n._isValid=!1}function fo(n){var t=dl.exec(n._i);return null!==t?void(n._d=new Date(+t[1])):(yu(n),void(n._isValid===!1&&(delete n._isValid,i.createFromInputFallback(n))))}function eo(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function nr(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function pu(n){return wu(n)?366:365}function wu(n){return n%4==0&&n%100!=0||n%400==0}function oo(){return wu(this.year())}function ut(n,t,i){var u,f=i-t,r=i-n.day();return r>f&&(r-=7),f-7>r&&(r+=7),u=e(n).add(r,"d"),{week:Math.ceil(u.dayOfYear()/7),year:u.year()}}function so(n){return ut(n,this._week.dow,this._week.doy).week}function ho(){return this._week.dow}function co(){return this._week.doy}function lo(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function ao(n){var t=ut(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function vo(n,t,i,r,u){var o,e,f=nr(n,0,1).getUTCDay();return f=0===f?7:f,i=null!=i?i:u,o=u-f+(f>r?7:0)-(u>f?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:pu(n-1)+e}}function yo(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function vt(n,t,i){return null!=n?n:null!=t?t:i}function po(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function tr(n){var t,i,r,u,f=[];if(!n._d){for(r=po(n),n._w&&null==n._a[w]&&null==n._a[k]&&wo(n),n._dayOfYear&&(u=vt(n._a[b],r[b]),n._dayOfYear>pu(u)&&(n._pf._overflowDayOfYear=!0),i=nr(u,0,n._dayOfYear),n._a[k]=i.getUTCMonth(),n._a[w]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[l]&&0===n._a[ht]&&0===n._a[ct]&&0===n._a[lt]&&(n._nextDay=!0,n._a[l]=0);n._d=(n._useUTC?nr:eo).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[l]=24)}}function wo(n){var t,o,u,r,i,f,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(i=1,f=4,o=vt(t.GG,n._a[b],ut(e(),1,4).year),u=vt(t.W,1),r=vt(t.E,1)):(i=n._locale._week.dow,f=n._locale._week.doy,o=vt(t.gg,n._a[b],ut(e(),i,f).year),u=vt(t.w,1),null!=t.d?(r=t.d,i>r&&++u):r=null!=t.e?t.e+i:i);s=vo(o,u,r,f,i);n._a[b]=s.year;n._dayOfYear=s.dayOfYear}function ir(n){if(n._f===i.ISO_8601)return void yu(n);n._a=[];n._pf.empty=!0;for(var t,u,o,r=""+n._i,h=r.length,s=0,e=cu(n._f,n._locale).match(bf)||[],f=0;f<e.length;f++)u=e[f],t=(r.match(ke(u,n))||[])[0],t&&(o=r.substr(0,r.indexOf(t)),o.length>0&&n._pf.unusedInput.push(o),r=r.slice(r.indexOf(t)+t.length),s+=t.length),yt[u]?(t?n._pf.empty=!1:n._pf.unusedTokens.push(u),ge(u,t,n)):n._strict&&!t&&n._pf.unusedTokens.push(u);n._pf.charsLeftOver=h-s;r.length>0&&n._pf.unusedInput.push(r);n._pf.bigHour===!0&&n._a[l]<=12&&(n._pf.bigHour=void 0);n._a[l]=bo(n._locale,n._a[l],n._meridiem);tr(n);gi(n)}function bo(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function ko(n){var t,f,u,r,i;if(0===n._f.length)return n._pf.invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=tu({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._pf=dr(),t._f=n._f[r],ir(t),gr(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==u||u>i)&&(u=i,f=t));ui(n,f||t)}function go(n){if(!n._d){var t=ou(n._i);n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond];tr(n)}}function ns(n){var i,t=n._i,r=n._f;return n._locale=n._locale||rt(n._l),null===t||void 0===r&&""===t?nu({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),nt(t)?new kt(gi(t)):(ri(r)?ko(n):r?ir(n):ts(n),i=new kt(gi(n)),i._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i))}function ts(n){var t=n._i;void 0===t?n._d=new Date:wi(t)?n._d=new Date(+t):"string"==typeof t?fo(n):ri(t)?(n._a=ye(t.slice(0),function(n){return parseInt(n,10)}),tr(n)):"object"==typeof t?go(n):"number"==typeof t?n._d=new Date(t):i.createFromInputFallback(n)}function bu(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,f._pf=dr(),ns(f)}function e(n,t,i,r){return bu(n,t,i,r,!1)}function ku(n,t){var r,i;if(1===t.length&&ri(t[0])&&(t=t[0]),!t.length)return e();for(r=t[0],i=1;i<t.length;++i)t[i][n](r)&&(r=t[i]);return r}function is(){var n=[].slice.call(arguments,0);return ku("isBefore",n)}function rs(){var n=[].slice.call(arguments,0);return ku("isAfter",n)}function ei(n){var t=ou(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=rt();this._bubble()}function rr(n){return n instanceof ei}function du(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+bi(~~(n/60),2)+t+bi(~~n%60,2)})}function ur(n){var i=(n||"").match(pi)||[],u=i[i.length-1]||[],t=(u+"").match(re)||["-",0,0],r=+(60*t[1])+o(t[2]);return"+"===t[0]?r:-r}function fr(n,t){var r,u;return t._isUTC?(r=t.clone(),u=(nt(n)||wi(n)?+n:+e(n))-+r,r._d.setTime(+r._d+u),i.updateOffset(r,!1),r):e(n).local()}function er(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function us(n,t){var r,u=this._offset||0;return null!=n?("string"==typeof n&&(n=ur(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&t&&(r=er(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!t||this._changeInProgress?rf(this,ft(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:er(this)}function fs(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function es(n){return this.utcOffset(0,n)}function os(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(er(this),"m")),this}function ss(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(ur(this._i)),this}function hs(n){return n=n?e(n).utcOffset():0,(this.utcOffset()-n)%60==0}function cs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ls(){if(this._a){var n=this._isUTC?bt(this._a):e(this._a);return this.isValid()&&iu(this._a,n.toArray())>0}return!1}function as(){return!this._isUTC}function vs(){return this._isUTC}function gu(){return this._isUTC&&0===this._offset}function ft(n,t){var u,f,s,i=n,r=null;return rr(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=ue.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:o(r[w])*u,h:o(r[l])*u,m:o(r[ht])*u,s:o(r[ct])*u,ms:o(r[lt])*u}):(r=fe.exec(n))?(u="-"===r[1]?-1:1,i={y:et(r[2],u),M:et(r[3],u),d:et(r[4],u),h:et(r[5],u),m:et(r[6],u),s:et(r[7],u),w:et(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(s=ys(e(i.from),e(i.to)),i={},i.ms=s.milliseconds,i.M=s.months),f=new ei(i),rr(n)&&g(n,"_locale")&&(f._locale=n._locale),f}function et(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function nf(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function ys(n,t){var i;return t=fr(t,n),n.isBefore(t)?i=nf(n,t):(i=nf(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function tf(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(uo(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=ft(i,r),rf(this,u,n),this}}function rf(n,t,r,u){var o=t._milliseconds,f=t._days,e=t._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&su(n,"Date",fi(n,"Date")+f*r);e&&lu(n,fi(n,"Month")+e*r);u&&i.updateOffset(n,f||e)}function ps(n){var i=n||e(),r=fr(i,this).startOf("day"),t=this.diff(r,"days",!0),u=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.localeData().calendar(u,this,e(i)))}function ws(){return new kt(this)}function bs(n,t){var i;return t=v("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:e(n),+this>+n):(i=nt(n)?+n:+e(n),i<+this.clone().startOf(t))}function ks(n,t){var i;return t=v("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(n=nt(n)?n:e(n),+n>+this):(i=nt(n)?+n:+e(n),+this.clone().endOf(t)<i)}function ds(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)}function gs(n,t){var i;return t=v(t||"millisecond"),"millisecond"===t?(n=nt(n)?n:e(n),+this==+n):(i=+e(n),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function p(n){return 0>n?Math.ceil(n):Math.floor(n)}function nh(n,t,i){var r,u,f=fr(n,this),e=6e4*(f.utcOffset()-this.utcOffset());return t=v(t),"year"===t||"month"===t||"quarter"===t?(u=th(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:p(u)}function th(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)}function ih(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function uf(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():ki(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ki(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function rh(n){var t=ki(this,n||i.defaultFormat);return this.localeData().postformat(t)}function uh(n,t){return ft({to:this,from:n}).locale(this.locale()).humanize(!t)}function fh(n){return this.from(e(),n)}function ff(n){var t;return void 0===n?this._locale._abbr:(t=rt(n),null!=t&&(this._locale=t),this)}function ef(){return this._locale}function eh(n){switch(n=v(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function oh(n){return n=v(n),void 0===n||"millisecond"===n?this:this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms")}function sh(){return+this._d-6e4*(this._offset||0)}function hh(){return Math.floor(+this/1e3)}function ch(){return this._offset?new Date(+this):this._d}function lh(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function ah(){return gr(this)}function vh(){return ui({},this._pf)}function yh(){return this._pf.overflow}function oi(n,t){r(0,[n,n.length],0,t)}function of(n,t,i){return ut(e([n,11,31+t-i]),t,i).week}function ph(n){var t=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")}function wh(n){var t=ut(this,1,4).year;return null==n?t:this.add(n-t,"y")}function bh(){return of(this.year(),1,4)}function kh(){var n=this.localeData()._week;return of(this.year(),n.dow,n.doy)}function dh(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function gh(n,t){if("string"==typeof n)if(isNaN(n)){if(n=t.weekdaysParse(n),"number"!=typeof n)return null}else n=parseInt(n,10);return n}function nc(n){return this._weekdays[n.day()]}function tc(n){return this._weekdaysShort[n.day()]}function ic(n){return this._weekdaysMin[n.day()]}function rc(n){var t,i,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(i=e([2e3,1]).day(t),r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(n))return t}function uc(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=gh(n,this.localeData()),this.add(n-t,"d")):t}function fc(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function ec(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)}function sf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function hf(n,t){return t._meridiemParse}function oc(n){return"p"===(n+"").toLowerCase().charAt(0)}function sc(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function cf(n){r(0,[n,3],0,"millisecond")}function hc(){return this._isUTC?"UTC":""}function cc(){return this._isUTC?"Coordinated Universal Time":""}function lc(n){return e(1e3*n)}function ac(){return e.apply(null,arguments).parseZone()}function vc(n,t,i){var r=this._calendar[n];return"function"==typeof r?r.call(t,i):r}function yc(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t}function pc(){return this._invalidDate}function wc(n){return this._ordinal.replace("%d",n)}function lf(n){return n}function bc(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)}function kc(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function dc(n){var t,i;for(i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function af(n,t,i,r){var u=rt(),f=bt().set(r,t);return u[i](f,n)}function ni(n,t,i,r,u){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return af(n,t,i,u);for(var e=[],f=0;r>f;f++)e[f]=af(n,f,i,u);return e}function gc(n,t){return ni(n,t,"months",12,"month")}function nl(n,t){return ni(n,t,"monthsShort",12,"month")}function tl(n,t){return ni(n,t,"weekdays",7,"day")}function il(n,t){return ni(n,t,"weekdaysShort",7,"day")}function rl(n,t){return ni(n,t,"weekdaysMin",7,"day")}function ul(){var n=this._data;return this._milliseconds=d(this._milliseconds),this._days=d(this._days),this._months=d(this._months),n.milliseconds=d(n.milliseconds),n.seconds=d(n.seconds),n.minutes=d(n.minutes),n.hours=d(n.hours),n.months=d(n.months),n.years=d(n.years),this}function vf(n,t,i,r){var u=ft(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function fl(n,t){return vf(this,n,t,1)}function el(n,t){return vf(this,n,t,-1)}function ol(){var u,f,e,o=this._milliseconds,t=this._days,i=this._months,n=this._data,r=0;return n.milliseconds=o%1e3,u=p(o/1e3),n.seconds=u%60,f=p(u/60),n.minutes=f%60,e=p(f/60),n.hours=e%24,t+=p(e/24),r=p(yf(t)),t-=p(pf(r)),i+=p(t/30),t%=30,r+=p(i/12),i%=12,n.days=t,n.months=i,n.years=r,this}function yf(n){return 400*n/146097}function pf(n){return 146097*n/400}function sl(n){var t,r,i=this._milliseconds;if(n=v(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+12*yf(t),"month"===n?r:r/12;switch(t=this._days+Math.round(pf(this._months/12)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function hl(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*o(this._months/12)}function tt(n){return function(){return this.as(n)}}function cl(n){return n=v(n),this[n+"s"]()}function ot(n){return function(){return this._data[n]}}function ll(){return p(this.days()/7)}function al(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function vl(n,t,i){var r=ft(n).abs(),h=pt(r.as("s")),f=pt(r.as("m")),e=pt(r.as("h")),o=pt(r.as("d")),s=pt(r.as("M")),c=pt(r.as("y")),u=h<it.s&&["s",h]||1===f&&["m"]||f<it.m&&["mm",f]||1===e&&["h"]||e<it.h&&["hh",e]||1===o&&["d"]||o<it.d&&["dd",o]||1===s&&["M"]||s<it.M&&["MM",s]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,al.apply(null,u)}function yl(n,t){return void 0===it[n]?!1:void 0===t?it[n]:(it[n]=t,!0)}function pl(n){var t=this.localeData(),i=vl(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function si(){var r=wt(this.years()),u=wt(this.months()),f=wt(this.days()),n=wt(this.hours()),t=wt(this.minutes()),i=wt(this.seconds()+this.milliseconds()/1e3),e=this.asSeconds();return e?(0>e?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"}var wf,hi,or=i.momentProperties=[],sr=!1,st={},ti={},bf=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ci=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hr={},yt={},kf=/\d/,a=/\d\d/,df=/\d{3}/,cr=/\d{4}/,li=/[+-]?\d{6}/,s=/\d\d?/,ai=/\d{1,3}/,lr=/\d{1,4}/,vi=/[+-]?\d{1,6}/,yi=/[+-]?\d+/,pi=/Z|[+-]\d\d:?\d\d/gi,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ar={},vr={},b=0,k=1,w=2,l=3,ht=4,ct=5,lt=6,wr,ne,te,ie,re,ue,fe,ee,oe,br,kr,se,he,ce,le,ae,n;r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});c("month","M");t("M",s);t("MM",s,a);t("MMM",ii);t("MMMM",ii);h(["M","MM"],function(n,t){t[k]=o(n)-1});h(["MMM","MMMM"],function(n,t,i,r){var u=i._locale.monthsParse(n,r,i._strict);null!=u?t[k]=u:i._pf.invalidMonth=n});var wl="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gf={};i.suppressDeprecationWarnings=!1;var kl=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],pr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],dl=/^\/?Date\((\-?\d+)/i;i.createFromInputFallback=y("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");c("year","y");t("Y",yi);t("YY",s,a);t("YYYY",lr,cr);t("YYYYY",vi,li);t("YYYYYY",vi,li);h(["YYYY","YYYYY","YYYYYY"],b);h("YY",function(n,t){t[b]=i.parseTwoDigitYear(n)});i.parseTwoDigitYear=function(n){return o(n)+(o(n)>68?1900:2e3)};wr=at("FullYear",!1);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");c("week","w");c("isoWeek","W");t("w",s);t("ww",s,a);t("W",s);t("WW",s,a);gt(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=o(n)});ne={dow:0,doy:6};r("DDD",["DDDD",3],"DDDo","dayOfYear");c("dayOfYear","DDD");t("DDD",ai);t("DDDD",df);h(["DDD","DDDD"],function(n,t,i){i._dayOfYear=o(n)});i.ISO_8601=function(){};te=y("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var n=e.apply(null,arguments);return this>n?this:n});ie=y("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var n=e.apply(null,arguments);return n>this?this:n});du("Z",":");du("ZZ","");t("Z",pi);t("ZZ",pi);h(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=ur(n)});re=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};ue=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;ft.fn=ei.prototype;ee=tf(1,"add");oe=tf(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";br=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)});r(0,["gg",2],0,function(){return this.weekYear()%100});r(0,["GG",2],0,function(){return this.isoWeekYear()%100});oi("gggg","weekYear");oi("ggggg","weekYear");oi("GGGG","isoWeekYear");oi("GGGGG","isoWeekYear");c("weekYear","gg");c("isoWeekYear","GG");t("G",yi);t("g",yi);t("GG",s,a);t("gg",s,a);t("GGGG",lr,cr);t("gggg",lr,cr);t("GGGGG",vi,li);t("ggggg",vi,li);gt(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=o(n)});gt(["gg","GG"],function(n,t,r,u){t[u]=i.parseTwoDigitYear(n)});r("Q",0,0,"quarter");c("quarter","Q");t("Q",kf);h("Q",function(n,t){t[k]=3*(o(n)-1)});r("D",["DD",2],"Do","date");c("date","D");t("D",s);t("DD",s,a);t("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient});h(["D","DD"],w);h("Do",function(n,t){t[w]=o(n.match(s)[0],10)});kr=at("Date",!0);r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");c("day","d");c("weekday","e");c("isoWeekday","E");t("d",s);t("e",s);t("E",s);t("dd",ii);t("ddd",ii);t("dddd",ii);gt(["dd","ddd","dddd"],function(n,t,i){var r=i._locale.weekdaysParse(n);null!=r?t.d=r:i._pf.invalidWeekday=n});gt(["d","e","E"],function(n,t,i,r){t[r]=o(n)});var gl="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),na="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ta="Su_Mo_Tu_We_Th_Fr_Sa".split("_");r("H",["HH",2],0,"hour");r("h",["hh",2],0,function(){return this.hours()%12||12});sf("a",!0);sf("A",!1);c("hour","h");t("a",hf);t("A",hf);t("H",s);t("h",s);t("HH",s,a);t("hh",s,a);h(["H","HH"],l);h(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});h(["h","hh"],function(n,t,i){t[l]=o(n);i._pf.bigHour=!0});se=/[ap]\.?m?\.?/i;he=at("Hours",!0);r("m",["mm",2],0,"minute");c("minute","m");t("m",s);t("mm",s,a);h(["m","mm"],ht);ce=at("Minutes",!1);r("s",["ss",2],0,"second");c("second","s");t("s",s);t("ss",s,a);h(["s","ss"],ct);le=at("Seconds",!1);r("S",0,0,function(){return~~(this.millisecond()/100)});r(0,["SS",2],0,function(){return~~(this.millisecond()/10)});cf("SSS");cf("SSSS");c("millisecond","ms");t("S",ai,kf);t("SS",ai,a);t("SSS",ai,df);t("SSSS",/\d+/);h(["S","SS","SSS","SSSS"],function(n,t){t[lt]=o(1e3*("0."+n))});ae=at("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=kt.prototype;n.add=ee;n.calendar=ps;n.clone=ws;n.diff=nh;n.endOf=oh;n.format=rh;n.from=uh;n.fromNow=fh;n.get=hu;n.invalidAt=yh;n.isAfter=bs;n.isBefore=ks;n.isBetween=ds;n.isSame=gs;n.isValid=ah;n.lang=br;n.locale=ff;n.localeData=ef;n.max=ie;n.min=te;n.parsingFlags=vh;n.set=hu;n.startOf=eh;n.subtract=oe;n.toArray=lh;n.toDate=ch;n.toISOString=uf;n.toJSON=uf;n.toString=ih;n.unix=hh;n.valueOf=sh;n.year=wr;n.isLeapYear=oo;n.weekYear=ph;n.isoWeekYear=wh;n.quarter=n.quarters=dh;n.month=au;n.daysInMonth=ro;n.week=n.weeks=lo;n.isoWeek=n.isoWeeks=ao;n.weeksInYear=kh;n.isoWeeksInYear=bh;n.date=kr;n.day=n.days=uc;n.weekday=fc;n.isoWeekday=ec;n.dayOfYear=yo;n.hour=n.hours=he;n.minute=n.minutes=ce;n.second=n.seconds=le;n.millisecond=n.milliseconds=ae;n.utcOffset=us;n.utc=es;n.local=os;n.parseZone=ss;n.hasAlignedHourOffset=hs;n.isDST=cs;n.isDSTShifted=ls;n.isLocal=as;n.isUtcOffset=vs;n.isUtc=gu;n.isUTC=gu;n.zoneAbbr=hc;n.zoneName=cc;n.dates=y("dates accessor is deprecated. Use date instead.",kr);n.months=y("months accessor is deprecated. Use month instead",au);n.years=y("years accessor is deprecated. Use year instead",wr);n.zone=y("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",fs);var ia=n,u=ru.prototype;u._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};u.calendar=vc;u._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"};u.longDateFormat=yc;u._invalidDate="Invalid date";u.invalidDate=pc;u._ordinal="%d";u.ordinal=wc;u._ordinalParse=/\d{1,2}/;u.preparse=lf;u.postformat=lf;u._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};u.relativeTime=bc;u.pastFuture=kc;u.set=dc;u.months=no;u._months=wl;u.monthsShort=to;u._monthsShort=bl;u.monthsParse=io;u.week=so;u._week=ne;u.firstDayOfYear=co;u.firstDayOfWeek=ho;u.weekdays=nc;u._weekdays=gl;u.weekdaysMin=ic;u._weekdaysMin=ta;u.weekdaysShort=tc;u._weekdaysShort=na;u.weekdaysParse=rc;u.isPM=oc;u._meridiemParse=se;u.meridiem=sc;dt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===o(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});i.lang=y("moment.lang is deprecated. Use moment.locale instead.",dt);i.langData=y("moment.langData is deprecated. Use moment.localeData instead.",rt);var d=Math.abs,ra=tt("ms"),ua=tt("s"),fa=tt("m"),ea=tt("h"),oa=tt("d"),sa=tt("w"),ha=tt("M"),ca=tt("y"),la=ot("milliseconds"),aa=ot("seconds"),va=ot("minutes"),ya=ot("hours"),pa=ot("days"),wa=ot("months"),ba=ot("years"),pt=Math.round,it={s:45,m:45,h:22,d:26,M:11},wt=Math.abs,f=ei.prototype;return f.abs=ul,f.add=fl,f.subtract=el,f.as=sl,f.asMilliseconds=ra,f.asSeconds=ua,f.asMinutes=fa,f.asHours=ea,f.asDays=oa,f.asWeeks=sa,f.asMonths=ha,f.asYears=ca,f.valueOf=hl,f._bubble=ol,f.get=cl,f.milliseconds=la,f.seconds=aa,f.minutes=va,f.hours=ya,f.days=pa,f.weeks=ll,f.months=wa,f.years=ba,f.humanize=pl,f.toISOString=si,f.toString=si,f.toJSON=si,f.locale=ff,f.localeData=ef,f.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",si),f.lang=br,r("X",0,0,"unix"),r("x",0,0,"valueOf"),t("x",yi),t("X",/[+-]?\d+(\.\d{1,3})?/),h("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),h("x",function(n,t,i){i._d=new Date(o(n))}),i.version="2.10.2",ve(e),i.fn=ia,i.min=is,i.max=rs,i.utc=bt,i.unix=lc,i.months=gc,i.isDate=wi,i.locale=dt,i.invalid=nu,i.duration=ft,i.isMoment=nt,i.weekdays=tl,i.parseZone=ac,i.localeData=rt,i.isDuration=rr,i.monthsShort=nl,i.weekdaysMin=rl,i.defineLocale=eu,i.weekdaysShort=il,i.normalizeUnits=v,i.relativeTimeThreshold=yl,i}),function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):n(jQuery,moment)}(function(n,t){function kt(n){y(p,n)}function y(t){function r(i,r){n.isPlainObject(r)&&n.isPlainObject(t[i])&&!dt(i)?t[i]=y({},t[i],r):void 0!==r&&(t[i]=r)}for(var i=1;arguments.length>i;i++)n.each(arguments[i],r);return t}function dt(n){return/(Time|Duration)$/.test(n)}function gt(n){var i=t.localeData||t.langData;return i.call(t,n)||i.call(t,"en")}function ni(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function ti(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function d(){n("body").addClass("fc-not-allowed")}function v(){n("body").removeClass("fc-not-allowed")}function ii(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;ri(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);l>c?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);r>h&&n(i).height(l)})}function ri(n){n.height("")}function ui(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function fi(n,t){return n.height(t).addClass("fc-scroller"),n[0].scrollHeight-1>n[0].clientHeight?!0:(ut(n),!1)}function ut(n){n.height("").removeClass("fc-scroller")}function ei(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&i.length?i:n(t[0].ownerDocument||document)}function oi(n){var t=n.offset().left,u=t+n.width(),i=n.children(),r=i.offset().left,f=r+i.outerWidth();return{left:r-t,right:u-f}}function si(n){return 1==n.which&&!n.ctrlKey}function ft(n,t){var i,r,u,f,e=n.start,o=n.end,s=t.start,h=t.end;if(o>s&&h>e)return(e>=s?(i=e.clone(),u=!0):(i=s.clone(),u=!1),h>=o?(r=o.clone(),f=!0):(r=h.clone(),f=!1),{start:i,end:r,isStart:u,isEnd:f})}function w(n,t){if(n=n||{},void 0!==n[t])return n[t];for(var i,u=t.split(/(?=[A-Z])/),r=u.length-1;r>=0;r--)if(i=n[u[r].toLowerCase()],void 0!==i)return i;return n["default"]}function b(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function vr(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days")})}function hi(n,t){for(var r,u,i=0;or.length>i&&(r=or[i],u=yr(r,n,t),!(u>=1&&kr(u)));i++);return r}function yr(n,i,r){return null!=r?r.diff(i,n,!0):t.isDuration(i)?i.as(n):i.end.diff(i.start,n,!0)}function pr(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function ci(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function g(n){var t=function(){};return t.prototype=n,new t}function et(n,t){for(var i in n)li(n,i)&&(t[i]=n[i])}function li(n,t){return wu.call(n,t)}function wr(t){return/undefined|null|boolean|number|string/.test(n.type(t))}function nt(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;t.length>u;u++)f=t[u].apply(i,r)||f;return f}}function o(){for(var n=0;arguments.length>n;n++)if(void 0!==arguments[n])return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ot(n){return n.replace(/&.*?;/g,"")}function ai(n){return n.charAt(0).toUpperCase()+n.slice(1)}function br(n,t){return n-t}function kr(n){return 0==n%1}function st(n,t){var i,r,u,f,e=function(){var o=+new Date-f;t>o&&o>0?i=setTimeout(e,t-o):(i=null,n.apply(u,r),i||(u=r=null))};return function(){u=this;r=arguments;f=+new Date;i||(i=setTimeout(e,t))}}function ht(i,r,u){var o,s,h,e,f=i[0],c=1==i.length&&"string"==typeof f;return t.isMoment(f)?(e=t.apply(null,i),vi(f,e)):pr(f)||void 0===f?e=t.apply(null,i):(o=!1,s=!1,c?bu.test(f)?(f+="-01",i=[f],o=!0,s=!0):(h=ku.exec(f))&&(o=!h[5],s=!0):n.isArray(f)&&(s=!0),e=r||o?t.utc.apply(t,i):t.apply(null,i),o?(e._ambigTime=!0,e._ambigZone=!0):u&&(s?e._ambigZone=!0:c&&e.zone(f))),e._fullCalendar=!0,e}function ct(n,r){for(var u,o=!1,s=!1,h=n.length,e=[],f=0;h>f;f++)u=n[f],t.isMoment(u)||(u=i.moment.parseZone(u)),o=o||u._ambigTime,s=s||u._ambigZone,e.push(u);for(f=0;h>f;f++)u=e[f],r||!o||u._ambigTime?s&&!u._ambigZone&&(e[f]=u.clone().stripZone()):e[f]=u.clone().stripTime();return e}function vi(n,t){n._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1);n._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function yi(n,t){n.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function c(n,t){return f.format.call(n,t)}function dr(n,t){return pi(n,ki(t))}function pi(n,t){for(var r="",i=0;t.length>i;i++)r+=lt(n,t[i]);return r}function lt(n,t){var i,r;return"string"==typeof t?t:(i=t.token)?wt[i]?wt[i](n):c(n,i):t.maybe&&(r=pi(n,t.maybe),r.match(/[1-9]/))?r:""}function wi(n,t,r,u,f){var e;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),e=(n.localeData||n.lang).call(n),r=e.longDateFormat(r)||r,u=u||" - ",gr(n,t,ki(r),u,f)}function gr(n,t,i,r,u){for(var f,o,s,a="",l="",h="",c="",v="",e=0;i.length>e&&(f=bi(n,t,i[e]),f!==!1);e++)a+=f;for(o=i.length-1;o>e&&(f=bi(n,t,i[o]),f!==!1);o--)l=f+l;for(s=e;o>=s;s++)h+=lt(n,i[s]),c+=lt(t,i[s]);return(h||c)&&(v=u?c+r+h:h+r+c),a+v+l}function bi(n,t,i){var r,u;return"string"==typeof i?i:(r=i.token)&&(u=sr[r.charAt(0)],u&&n.isSame(t,u))?c(n,r):!1}function ki(n){return n in it?it[n]:it[n]=di(n)}function di(n){for(var t,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:di(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function s(){}function gi(n,t){return n||t?n&&t?n.grid===t.grid&&n.row===t.row&&n.col===t.col:!1:!0}function nu(n){var t=nr(n);return"background"===t||"inverse-background"===t}function tu(n){return"inverse-background"===nr(n)}function nr(n){return o((n.source||{}).rendering,n.rendering)}function iu(n){for(var i,r={},t=0;n.length>t;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function ru(n,t){return n.eventStartMS-t.eventStartMS}function tt(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||(n.event.title||"").localeCompare(t.event.title)}function uu(r){var u,f,e,s,o=i.dataAttrPrefix;return o&&(o+="-"),u=r.data(o+"event")||null,u&&(u="object"==typeof u?n.extend({},u):{},f=u.start,null==f&&(f=u.time),e=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),null==f&&(f=r.data(o+"start")),null==f&&(f=r.data(o+"time")),null==e&&(e=r.data(o+"duration")),null==s&&(s=r.data(o+"stick")),f=null!=f?t.duration(f):null,e=null!=e?t.duration(e):null,s=Boolean(s),{eventProps:u,startTime:f,duration:e,stick:s}}function fu(n,t){for(var r,i=0;t.length>i;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function eu(n,t){return n.leftCol-t.leftCol}function ou(n){var r,i,t;if(n.sort(tt),r=su(n),hu(r),i=r[0]){for(t=0;i.length>t;t++)tr(i[t]);for(t=0;i.length>t;t++)at(i[t],0,0)}}function su(n){for(var u,t,i=[],r=0;n.length>r;r++){for(u=n[r],t=0;i.length>t&&ir(u,i[t]).length;t++);u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function hu(n){for(var f,i,r,u,t=0;n.length>t;t++)for(f=n[t],i=0;f.length>i;i++)for(r=f[i],r.forwardSegs=[],u=t+1;n.length>u;u++)ir(r,n[u],r.forwardSegs)}function tr(n){var t,i,u=n.forwardSegs,r=0;if(void 0===n.forwardPressure){for(t=0;u.length>t;t++)i=u[t],tr(i),r=Math.max(r,1+i.forwardPressure);n.forwardPressure=r}}function at(n,t,i){var u,r=n.forwardSegs;if(void 0===n.forwardCoord)for(r.length?(r.sort(lu),at(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;r.length>u;u++)at(r[u],0,n.forwardCoord)}function ir(n,t,i){i=i||[];for(var r=0;t.length>r;r++)cu(n,t[r])&&i.push(t[r]);return i}function cu(n,t){return n.bottom>t.top&&n.top<t.bottom}function lu(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||tt(n,t)}function au(r,u){function bt(n){return(n.locale||n.lang).call(n,e.lang).humanize()}function kt(n){w?b()&&(at(),h(n)):dt()}function dt(){or=e.theme?"ui":"fc";r.addClass("fc");e.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");e.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");w=n("<div class='fc-view-container'/>").prependTo(r);v=new vu(f,e);k=v.render();k&&r.prepend(k);h(e.defaultView);e.handleWindowResize&&(ot=st(ri,e.windowResizeDelay),n(window).resize(ot))}function ni(){o&&o.destroyView();v.destroy();w.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");n(window).unbind("resize",ot)}function b(){return r.is(":visible")}function h(t){d++;o&&t&&o.type!==t&&(v.deactivateButton(o.type),tt(),o.start&&o.destroyView(),o.el.remove(),o=null);!o&&t&&(o=ti(t),o.el=n("<div class='fc-view fc-"+t+"-view' />").appendTo(w),v.activateButton(t));o&&(s=o.massageCurrentDate(s),o.start&&s.isWithin(o.intervalStart,o.intervalEnd)||b()&&(tt(),o.start&&o.destroyView(),o.setDate(s),o.renderView(),it(),ci(),li(),ei()));it();d--}function ti(n){var t=ut(n);return new t["class"](f,t.options,n)}function ut(i){function v(t){"function"==typeof t?f=t:"object"==typeof t&&n.extend(r,t)}var r,f,u,o,y,p=e.defaultButtonText||{},w=e.buttonText||{},c=e.views||{},s=i,a=[],h=!1;if(ht[i])return ht[i];for(;s&&!f;)r={},v(l[s]),v(c[s]),a.unshift(r),s=r.type;return a.unshift({}),r=n.extend.apply(n,a),f?(u=r.duration||f.duration,u&&(u=t.duration(u),o=hi(u),h=1===u.as(o)),h&&c[o]&&(r=n.extend({},c[o],r)),y=w[i]||(h?w[o]:null)||p[i]||(h?p[o]:null)||r.buttonText||f.buttonText||(u?bt(u):null)||i,ht[i]={"class":f,options:r,buttonText:y}):void 0}function ct(n){return Boolean(ut(n))}function ii(n){var t=ut(n);if(t)return t.buttonText}function lt(n){if(b())return(n&&vt(),d++,o.updateSize(!0),d--,!0)}function at(){b()&&vt()}function vt(){et="number"==typeof e.contentHeight?e.contentHeight:"number"==typeof e.height?e.height-(k?k.outerHeight(!0):0):Math.round(w.width()/Math.max(e.aspectRatio,.5))}function ri(n){!d&&n.target===window&&o.start&&lt(!0)&&o.trigger("windowResize",pt)}function ui(){fi();yt()}function nt(){b()&&(tt(),o.destroyViewEvents(),o.renderViewEvents(wt),it())}function fi(){tt();o.destroyViewEvents();it()}function ei(){!e.lazyFetching||sr(o.start,o.end)?yt():nt()}function yt(){hr(o.start,o.end)}function oi(n){wt=n;nt()}function si(){nt()}function ci(){v.updateTitle(o.title)}function li(){var n=f.getNow();n.isWithin(o.intervalStart,o.intervalEnd)?v.disableButton("today"):v.enableButton("today")}function vi(n,t){n=f.moment(n);t=t?f.moment(t):n.hasTime()?n.clone().add(f.defaultTimedEventDuration):n.clone().add(f.defaultAllDayEventDuration);o.select({start:n,end:t})}function yi(){o&&o.unselect()}function pi(){s=o.computePrevDate(s);h()}function wi(){s=o.computeNextDate(s);h()}function bi(){s.add(-1,"years");h()}function ki(){s.add(1,"years");h()}function di(){s=f.getNow();h()}function gi(n){s=f.moment(n);h()}function nr(n){s.add(t.duration(n));h()}function tr(n,t){var r,i;t&&ct(t)||(t=t||"day",r=v.getViewsWithButtons().join(" "),i=r.match(RegExp("\\w+"+ai(t))),i||(i=r.match(/\w+Day/)),t=i?i[0]:"agendaDay");s=n;h(t)}function ir(){return s.clone()}function tt(){w.css({width:"100%",height:w.height(),overflow:"hidden"})}function it(){w.css({width:"",height:"",overflow:""})}function rr(){return f}function ur(){return o}function fr(n,t){return void 0===t?e[n]:(("height"==n||"contentHeight"==n||"aspectRatio"==n)&&(e[n]=t,lt(!0)),void 0)}function er(n,t){if(e[n])return e[n].apply(t||pt,Array.prototype.slice.call(arguments,2))}var f=this,rt,e,c,ft;u=u||{};e=y({},p,u);rt=e.lang in a?a[e.lang]:a[p.lang];rt&&(e=y({},p,rt,u));e.isRTL&&(e=y({},p,pu,rt||{},u));f.options=e;f.render=kt;f.destroy=ni;f.refetchEvents=ui;f.reportEvents=oi;f.reportEventChange=si;f.rerenderEvents=nt;f.changeView=h;f.select=vi;f.unselect=yi;f.prev=pi;f.next=wi;f.prevYear=bi;f.nextYear=ki;f.today=di;f.gotoDate=gi;f.incrementDate=nr;f.zoomTo=tr;f.getDate=ir;f.getCalendar=rr;f.getView=ur;f.option=fr;f.trigger=er;f.isValidViewType=ct;f.getViewButtonText=ii;c=g(gt(e.lang));(e.monthNames&&(c._months=e.monthNames),e.monthNamesShort&&(c._monthsShort=e.monthNamesShort),e.dayNames&&(c._weekdays=e.dayNames),e.dayNamesShort&&(c._weekdaysShort=e.dayNamesShort),null!=e.firstDay)&&(ft=g(c._week),ft.dow=e.firstDay,c._week=ft);f.defaultAllDayEventDuration=t.duration(e.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(e.defaultTimedEventDuration);f.moment=function(){var n;return"local"===e.timezone?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n="UTC"===e.timezone?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),"_locale"in n?n._locale=c:n._lang=c,n};f.getIsAmbigTimezone=function(){return"local"!==e.timezone&&"UTC"!==e.timezone};f.rezoneDate=function(n){return f.moment(n.toArray())};f.getNow=function(){var n=e.now;return"function"==typeof n&&(n=n()),f.moment(n)};f.calculateWeekNumber=function(n){var t=e.weekNumberCalculation;return"function"==typeof t?t(n):"local"===t?n.week():"ISO"===t.toUpperCase()?n.isoWeek():void 0};f.getEventEnd=function(n){return n.end?n.end.clone():f.getDefaultEventEnd(n.allDay,n.start)};f.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(f.defaultAllDayEventDuration):i.add(f.defaultTimedEventDuration),f.getIsAmbigTimezone()&&i.stripZone(),i};yu.call(f,e);var v,k,w,or,o,et,ot,s,sr=f.isFetchNeeded,hr=f.fetchEvents,pt=r[0],ht={},d=0,wt=[];s=null!=e.defaultDate?f.moment(e.defaultDate):f.getNow();f.getSuggestedViewHeight=function(){return void 0===et&&at(),et};f.isHeightAuto=function(){return"auto"===e.contentHeight||"auto"===e.height}}function vu(t,i){function h(){var t=i.header;return u=i.theme?"ui":"fc",t?e=n("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function c(){e.remove()}function o(f){var e=n('<div class="fc-'+f+'"/>'),o=i.header[f];return o&&n.each(o.split(" "),function(){var o,f=n(),h=!0;n.each(this.split(","),function(e,o){var l,a,v,b,y,p,k,d,c;"title"==o?(f=f.add(n("<h2>&nbsp;<\/h2>")),h=!1):(t[o]?l=function(){t[o]()}:t.isValidViewType(o)&&(l=function(){t.changeView(o)},s.push(o),y=t.getViewButtonText(o)),l&&(a=w(i.themeButtonIcons,o),v=w(i.buttonIcons,o),b=w(i.defaultButtonText,o),p=w(i.buttonText,o),k=y||p?r(y||p):a&&i.theme?"<span class='ui-icon ui-icon-"+a+"'><\/span>":v&&!i.theme?"<span class='fc-icon fc-icon-"+v+"'><\/span>":r(b||o),d=["fc-"+o+"-button",u+"-button",u+"-state-default"],c=n('<button type="button" class="'+d.join(" ")+'">'+k+"<\/button>").click(function(){c.hasClass(u+"-state-disabled")||(l(),(c.hasClass(u+"-state-active")||c.hasClass(u+"-state-disabled"))&&c.removeClass(u+"-state-hover"))}).mousedown(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){c.removeClass(u+"-state-down")}).hover(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){c.removeClass(u+"-state-hover").removeClass(u+"-state-down")}),f=f.add(c)))});h&&f.first().addClass(u+"-corner-left").end().last().addClass(u+"-corner-right").end();f.length>1?(o=n("<div/>"),h&&o.addClass("fc-button-group"),o.append(f),e.append(o)):e.append(f)}),e}function l(n){e.find("h2").text(n)}function a(n){e.find(".fc-"+n+"-button").addClass(u+"-state-active")}function v(n){e.find(".fc-"+n+"-button").removeClass(u+"-state-active")}function y(n){e.find(".fc-"+n+"-button").attr("disabled","disabled").addClass(u+"-state-disabled")}function p(n){e.find(".fc-"+n+"-button").removeAttr("disabled").removeClass(u+"-state-disabled")}function b(){return s}var f=this,u,e,s;f.render=h;f.destroy=c;f.updateTitle=l;f.activateButton=a;f.deactivateButton=v;f.disableButton=y;f.enableButton=p;f.getViewsWithButtons=b;e=n();s=[]}function yu(r){function kt(n,t){return!s||n.clone().stripZone()<s.clone().stripZone()||t.clone().stripZone()>c.clone().stripZone()}function dt(n,t){var u,r,i;for(s=n,c=t,f=[],u=++d,r=e.length,y=r,i=0;r>i;i++)g(e[i],u)}function g(t,i){tt(t,function(r){var u,e,o,s=n.isArray(t.events);if(i==d){if(r)for(u=0;r.length>u;u++)e=r[u],o=s?e:h(e,t),o&&f.push.apply(f,l(o));y--;y||a(f)}})}function tt(t,f){for(var l,v=i.sourceFetchers,e,y,h=0;v.length>h;h++){if(l=v[h].call(u,t,s.clone(),c.clone(),r.timezone,f),l===!0)return;if("object"==typeof l)return tt(l,f),void 0}if(e=t.events,e)n.isFunction(e)?(et(),e.call(u,s.clone(),c.clone(),r.timezone,function(n){f(n);ot()})):n.isArray(e)?f(e):f();else if(y=t.url,y){var p,k=t.success,d=t.error,g=t.complete;p=n.isFunction(t.data)?t.data():t.data;var a=n.extend({},p||{}),w=o(t.startParam,r.startParam),b=o(t.endParam,r.endParam),it=o(t.timezoneParam,r.timezoneParam);w&&(a[w]=s.format());b&&(a[b]=c.format());r.timezone&&"local"!=r.timezone&&(a[it]=r.timezone);et();n.ajax(n.extend({},rf,t,{data:a,success:function(t){t=t||[];var i=nt(k,this,arguments);n.isArray(i)&&(t=i);f(t)},error:function(){nt(d,this,arguments);f()},complete:function(){nt(g,this,arguments);ot()}}))}else f()}function gt(n){var t=it(n);t&&(e.push(t),y++,g(t,d))}function it(t){var r,f,e=i.sourceNormalizers;if(n.isFunction(t)||n.isArray(t)?r={events:t}:"string"==typeof t?r={url:t}:"object"==typeof t&&(r=n.extend({},t)),r){for(r.className?"string"==typeof r.className&&(r.className=r.className.split(/\s+/)):r.className=[],n.isArray(r.events)&&(r.origArray=r.events,r.events=n.map(r.events,function(n){return h(n,r)})),f=0;e.length>f;f++)e[f].call(u,r);return r}}function ni(t){e=n.grep(e,function(n){return!rt(n,t)});f=n.grep(f,function(n){return!rt(n.source,t)});a(f)}function rt(n,t){return n&&t&&ut(n)==ut(t)}function ut(n){return("object"==typeof n?n.origArray||n.googleCalendarId||n.url||n.events:null)||n}function ti(n){n.start=u.moment(n.start);n.end=n.end?u.moment(n.end):null;ht(n,ii(n));a(f)}function ii(t){var i={};return n.each(t,function(n,t){ft(n)&&void 0!==t&&wr(t)&&(i[n]=t)}),i}function ft(n){return!/^_|^(id|allDay|start|end)$/.test(n)}function ri(n,t){var r,u,i,e=h(n);if(e){for(r=l(e),u=0;r.length>u;u++)i=r[u],i.source||(t&&(k.events.push(i),i.source=k),f.push(i));return a(f),r}return[]}function ui(t){var r,i;for(null==t?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),f=n.grep(f,t,!0),i=0;e.length>i;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));a(f)}function p(t){return n.isFunction(t)?n.grep(f,t):null!=t?(t+="",n.grep(f,function(n){return n._id==t})):f}function et(){bt++||pt("loading",null,!0,wt())}function ot(){--bt||pt("loading",null,!1,wt())}function h(i,f){var s,e,c,h={};if(r.eventDataTransform&&(i=r.eventDataTransform(i)),f&&f.eventDataTransform&&(i=f.eventDataTransform(i)),n.extend(h,i),f&&(h.source=f),h._id=i._id||(void 0===i.id?"_fc"+uf++:i.id+""),h.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],s=i.start||i.date,e=i.end,ci(s)&&(s=t.duration(s)),ci(e)&&(e=t.duration(e)),i.dow||t.isDuration(s)||t.isDuration(e))h.start=s?t.duration(s):null,h.end=e?t.duration(e):null,h._recurring=!0;else{if(s&&(s=u.moment(s),!s.isValid()))return!1;e&&(e=u.moment(e),e.isValid()||(e=null));c=i.allDay;void 0===c&&(c=o(f?f.allDayDefault:void 0,r.allDayDefault));st(s,e,c,h)}return h}function st(n,t,i,r){r.start=n;r.end=t;r.allDay=i;v(r);vt(r)}function v(n){null==n.allDay&&(n.allDay=!(n.start.hasTime()||n.end&&n.end.hasTime()));n.allDay?(n.start.stripTime(),n.end&&n.end.stripTime()):(n.start.hasTime()||(n.start=u.rezoneDate(n.start)),n.end&&!n.end.hasTime()&&(n.end=u.rezoneDate(n.end)));n.end&&!n.end.isAfter(n.start)&&(n.end=null);n.end||(n.end=r.forceEventDuration?u.getDefaultEventEnd(n.allDay,n.start):null)}function w(n){var t;return n.end||(t=n.allDay,null==t&&(t=!n.start.hasTime()),n={start:n.start,end:u.getDefaultEventEnd(t,n.start)}),n}function l(t,i,r){var f,a,e,u,o,h,l,v,y,p=[];if(i=i||s,r=r||c,t)if(t._recurring){if(a=t.dow)for(f={},e=0;a.length>e;e++)f[a[e]]=!0;for(u=i.clone().stripTime();u.isBefore(r);)(!f||f[u.day()])&&(o=t.start,h=t.end,l=u.clone(),v=null,o&&(l=l.time(o)),h&&(v=u.clone().time(h)),y=n.extend({},t),st(l,v,!o&&!h,y),p.push(y)),u.add(1,"days")}else p.push(t);return p}function ht(t,i){var r,f,e,o,s={};return i=i||{},i.start||(i.start=t.start.clone()),void 0===i.end&&(i.end=t.end?t.end.clone():null),null==i.allDay&&(i.allDay=t.allDay),v(i),r=null!==t._end&&null===i.end,f=i.allDay?vr(i.start,t._start):b(i.start,t._start),!r&&i.end&&(e=b(i.end,i.start).subtract(b(t._end||u.getDefaultEventEnd(t._allDay,t._start),t._start))),n.each(i,function(n,t){ft(n)&&void 0!==t&&(s[n]=t)}),o=fi(p(t._id),r,i.allDay,f,e,s),{dateDelta:f,durationDelta:e,undo:o}}function fi(t,i,r,f,e,o){var h=u.getIsAmbigTimezone(),s=[];return f&&!f.valueOf()&&(f=null),e&&!e.valueOf()&&(e=null),n.each(t,function(t,c){var a,l;a={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay};n.each(o,function(n){a[n]=c[n]});l={start:c._start,end:c._end,allDay:c._allDay};i&&(l.end=null);l.allDay=r;v(l);f&&(l.start.add(f),l.end&&l.end.add(f));e&&(l.end||(l.end=u.getDefaultEventEnd(l.allDay,l.start)),l.end.add(e));h&&!l.allDay&&(f||e)&&(l.start.stripZone(),l.end&&l.end.stripZone());n.extend(c,o,l);vt(c);s.push(function(){n.extend(c,a);vt(c)})}),function(){for(var n=0;s.length>n;n++)s[n]()}}function ct(){var t,i=r.businessHours,f={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},e=u.getView();return i&&(t="object"==typeof i?n.extend({},f,i):f),t?l(h(t),e.start,e.end):[]}function lt(n,t){var i=t.source||{},u=o(t.constraint,i.constraint,r.eventConstraint),f=o(t.overlap,i.overlap,r.eventOverlap);return n=w(n),yt(n,u,f,t)}function at(n){return yt(n,r.selectConstraint,r.selectOverlap)}function ei(t,i){var u,r;return i&&(u=n.extend({},i,t),r=l(h(u))[0]),r?lt(t,r):(t=w(t),at(t))}function yt(n,t,i,r){var h,c,u,e,s;if(n={start:n.start.clone().stripZone(),end:n.end.clone().stripZone()},null!=t){for(h=oi(t),c=!1,u=0;h.length>u;u++)if(si(h[u],n)){c=!0;break}if(!c)return!1}for(u=0;f.length>u;u++)if((e=f[u],(!r||r._id!==e._id)&&hi(e,n))&&(i===!1||"function"==typeof i&&!i(e,r)||r&&((s=o(e.overlap,(e.source||{}).overlap),s===!1)||"function"==typeof s&&!s(r,e))))return!1;return!0}function oi(n){return"businessHours"===n?ct():"object"==typeof n?l(h(n)):p(n)}function si(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return t.start>=i&&r>=t.end}function hi(n,t){var i=n.start.clone().stripZone(),r=u.getEventEnd(n).stripZone();return r>t.start&&t.end>i}var u=this;u.isFetchNeeded=kt;u.fetchEvents=dt;u.addEventSource=gt;u.removeEventSource=ni;u.updateEvent=ti;u.renderEvent=ri;u.removeEvents=ui;u.clientEvents=p;u.mutateEvent=ht;u.normalizeEventDateProps=v;u.ensureVisibleEventRange=w;var s,c,pt=u.trigger,wt=u.getView,a=u.reportEvents,k={events:[]},e=[k],d=0,y=0,bt=0,f=[];n.each((r.events?[r.events]:[]).concat(r.eventSources||[]),function(n,t){var i=it(t);i&&e.push(i)});u.getBusinessHoursEvents=ct;u.isEventRangeAllowed=lt;u.isSelectionRangeAllowed=at;u.isExternalDropRangeAllowed=ei}function vt(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}var p={titleRangeSeparator:"  ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},pu={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},i=n.fullCalendar={version:"2.2.7"},l=i.views={},a,rr,ur,wt,sr,it,k,bt,h,lr,ar;n.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(u,f){var s,o=n(f),e=o.data("fullCalendar");"string"==typeof t?e&&n.isFunction(e[t])&&(s=e[t].apply(e,r),u||(i=s),"destroy"===t&&o.removeData("fullCalendar")):e||(e=new au(o,t),o.data("fullCalendar",e),e.render())}),i};a=i.langs={};i.datepickerLang=function(t,i,r){var u=a[t]||(a[t]={});u.isRTL=r.isRTL;u.weekNumberTitle=r.weekHeader;n.each(rr,function(n,t){u[n]=t(r)});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.lang=function(t,i){var r,u;r=a[t]||(a[t]={});i&&y(r,i);u=gt(t);n.each(ur,function(n,t){void 0===r[n]&&(r[n]=t(u,r))});p.lang=t};rr={defaultButtonText:function(n){return{prev:ot(n.prevText),next:ot(n.nextText),today:ot(n.currentText)}},monthYearFormat:function(n){return n.showMonthAfterYear?"YYYY["+n.yearSuffix+"] MMMM":"MMMM YYYY["+n.yearSuffix+"]"}};ur={dayOfMonthFormat:function(n,t){var i=n.longDateFormat("l");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?i+=" ddd":i="ddd "+i,i},smallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(n){return n.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},noMeridiemTimeFormat:function(n){return n.longDateFormat("LT").replace(/\s*a$/i,"")}};i.lang("en",{dayPopoverFormat:"dddd, MMMM D"});i.intersectionToSeg=ft;i.applyAll=nt;i.debounce=st;var yt,pt,fr,er=["sun","mon","tue","wed","thu","fri","sat"],or=["year","month","week","day","hour","minute","second","millisecond"],wu={}.hasOwnProperty,bu=/^\s*\d{4}-\d\d$/,ku=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,u=t.fn,f=n.extend({},u);i.moment=function(){return ht(arguments)};i.moment.utc=function(){var n=ht(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return ht(arguments,!0,!0)};u.clone=function(){var n=f.clone.apply(this,arguments);return vi(this,n),this._fullCalendar&&(n._fullCalendar=!0),n};u.time=function(n){if(!this._fullCalendar)return f.time.apply(this,arguments);if(null==n)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=24*Math.floor(n.asDays())),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};u.stripTime=function(){var n;return this._ambigTime||(n=this.toArray(),this.utc(),pt(this,n.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this};u.hasTime=function(){return!this._ambigTime};u.stripZone=function(){var n,t;return this._ambigZone||(n=this.toArray(),t=this._ambigTime,this.utc(),pt(this,n),this._ambigTime=t||!1,this._ambigZone=!0),this};u.hasZone=function(){return!this._ambigZone};u.local=function(){var n=this.toArray(),t=this._ambigZone;return f.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&fr(this,n),this};u.utc=function(){return f.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this};n.each(["zone","utcOffset"],function(n,t){f[t]&&(u[t]=function(n){return null!=n&&(this._ambigTime=!1,this._ambigZone=!1),f[t].apply(this,arguments)})});u.format=function(){return this._fullCalendar&&arguments[0]?dr(this,arguments[0]):this._ambigTime?c(this,"YYYY-MM-DD"):this._ambigZone?c(this,"YYYY-MM-DD[T]HH:mm:ss"):f.format.apply(this,arguments)};u.toISOString=function(){return this._ambigTime?c(this,"YYYY-MM-DD"):this._ambigZone?c(this,"YYYY-MM-DD[T]HH:mm:ss"):f.toISOString.apply(this,arguments)};u.isWithin=function(n,t){var i=ct([this,n,t]);return i[0]>=i[1]&&i[0]<i[2]};u.isSame=function(n,t){var r;return this._fullCalendar?t?(r=ct([this,n],!0),f.isSame.call(r[0],r[1],t)):(n=i.moment.parseZone(n),f.isSame.call(this,n)&&Boolean(this._ambigTime)===Boolean(n._ambigTime)&&Boolean(this._ambigZone)===Boolean(n._ambigZone)):f.isSame.apply(this,arguments)};n.each(["isBefore","isAfter"],function(n,t){u[t]=function(n,i){var r;return this._fullCalendar?(r=ct([this,n]),f[t].call(r[0],r[1],i)):f[t].apply(this,arguments)}});yt="_d"in t()&&"updateOffset"in t;pt=yt?function(n,i){n._d.setTime(Date.UTC.apply(Date,i));t.updateOffset(n,!1)}:yi;fr=yt?function(n,i){n._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0));t.updateOffset(n,!1)}:yi;wt={t:function(n){return c(n,"a").charAt(0)},T:function(n){return c(n,"A").charAt(0)}};i.formatRange=wi;sr={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};it={};i.Class=s;s.extend=function(n){var t,i=this;return n=n||{},li(n,"constructor")&&(t=n.constructor),"function"!=typeof t&&(t=n.constructor=function(){i.apply(this,arguments)}),t.prototype=g(i.prototype),et(n,t.prototype),et(i,t),t};s.mixin=function(n){et(n.prototype||n,this.prototype)};var du=s.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(n){this.options=n||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});t.autoHide&&n(document).on("mousedown",this.documentMousedownProxy=n.proxy(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide();this.el&&(this.el.remove(),this.el=null);n(document).off("mousedown",this.documentMousedownProxy)},position:function(){var f,e,o,t,i,r=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),s=n(window),u=ei(this.el);t=r.top||0;i=void 0!==r.left?r.left:void 0!==r.right?r.right-c:0;u.is(window)||u.is(document)?(u=s,f=0,e=0):(o=u.offset(),f=o.top,e=o.left);f+=s.scrollTop();e+=s.scrollLeft();r.viewportConstrain!==!1&&(t=Math.min(t,f+u.outerHeight()-l-this.margin),t=Math.max(t,f+this.margin),i=Math.min(i,e+u.outerWidth()-c-this.margin),i=Math.max(i,e+this.margin));this.el.css({top:t-h.top,left:i-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}}),gu=s.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,constructor:function(n){this.grid=n},build:function(){this.rowCoords=this.grid.computeRowCoords();this.colCoords=this.grid.computeColCoords();this.computeBounds()},clear:function(){this.rowCoords=null;this.colCoords=null},getCell:function(n,t){var i,r,u,o=this.rowCoords,s=this.colCoords,f=null,e=null;if(this.inBounds(n,t)){for(i=0;o.length>i;i++)if(r=o[i],t>=r.top&&r.bottom>t){f=i;break}for(i=0;s.length>i;i++)if(r=s[i],n>=r.left&&r.right>n){e=i;break}if(null!==f&&null!==e)return u=this.grid.getCell(f,e),u.grid=this.grid,u}return null},computeBounds:function(){var n;this.containerEl&&(n=this.containerEl.offset(),this.minX=n.left,this.maxX=n.left+this.containerEl.outerWidth(),this.minY=n.top,this.maxY=n.top+this.containerEl.outerHeight())},inBounds:function(n,t){return this.containerEl?n>=this.minX&&this.maxX>n&&t>=this.minY&&this.maxY>t:!0}}),nf=s.extend({coordMaps:null,constructor:function(n){this.coordMaps=n},build:function(){for(var t=this.coordMaps,n=0;t.length>n;n++)t[n].build()},getCell:function(n,t){for(var u=this.coordMaps,r=null,i=0;u.length>i&&!r;i++)r=u[i].getCell(n,t);return r},clear:function(){for(var t=this.coordMaps,n=0;t.length>n;n++)t[n].clear()}}),rt=s.extend({coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,cell:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(n,t){this.coordMap=n;this.options=t||{}},mousedown:function(n){si(n)&&(n.preventDefault(),this.startListening(n),this.options.distance||this.startDrag(n))},startListening:function(t){var i,r;this.isListening||(t&&this.options.scroll&&(i=ei(n(t.target)),i.is(window)||i.is(document)||(this.scrollEl=i,this.scrollHandlerProxy=st(n.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),t&&(r=this.getCell(t),this.origCell=r,this.mouseX0=t.pageX,this.mouseY0=t.pageY),n(document).on("mousemove",this.mousemoveProxy=n.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=n.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",t))},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},mousemove:function(n){var t,i;this.isDragging||(t=this.options.distance||1,i=Math.pow(n.pageX-this.mouseX0,2)+Math.pow(n.pageY-this.mouseY0,2),i>=t*t&&this.startDrag(n));this.isDragging&&this.drag(n)},startDrag:function(n){var t;this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.trigger("dragStart",n),t=this.getCell(n),t&&this.cellOver(t))},drag:function(n){var t;this.isDragging&&(t=this.getCell(n),gi(t,this.cell)||(this.cell&&this.cellOut(),t&&this.cellOver(t)),this.dragScroll(n))},cellOver:function(n){this.cell=n;this.trigger("cellOver",n,gi(n,this.origCell))},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null)},mouseup:function(n){this.stopDrag(n);this.stopListening(n)},stopDrag:function(n){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",n),this.isDragging=!1)},stopListening:function(t){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),n(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",t),this.origCell=this.cell=null,this.coordMap.clear())},getCell:function(n){return this.coordMap.getCell(n.pageX,n.pageY)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(n){n.preventDefault()},computeScrollBounds:function(){var n,t=this.scrollEl;t&&(n=t.offset(),this.scrollBounds={top:n.top,left:n.left,bottom:n.top+t.outerHeight(),right:n.left+t.outerWidth()})},dragScroll:function(n){var r,u,f,e,t=this.scrollSensitivity,i=this.scrollBounds,o=0,s=0;i&&(r=(t-(n.pageY-i.top))/t,u=(t-(i.bottom-n.pageY))/t,f=(t-(n.pageX-i.left))/t,e=(t-(i.right-n.pageX))/t,r>=0&&1>=r?o=-1*r*this.scrollSpeed:u>=0&&1>=u&&(o=u*this.scrollSpeed),f>=0&&1>=f?s=-1*f*this.scrollSpeed:e>=0&&1>=e&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(t,i){this.scrollTopVel=t;this.scrollLeftVel=i;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(n.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;0>this.scrollTopVel?0>=n.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);0>this.scrollLeftVel?0>=n.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}}),tf=s.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),n(document).on("mousemove",this.mousemoveProxy=n.proxy(this,"mousemove")))},stop:function(t,i){function r(){this.isAnimating=!1;f.destroyEl();this.top0=this.left0=null;i&&i()}var f=this,u=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,n(document).off("mousemove",this.mousemoveProxy),t&&u&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:u,complete:r})):r())},getEl:function(){var n=this.el;return n||(this.sourceEl.width(),n=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),n},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();null===this.top0&&(this.sourceEl.width(),n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(n){this.topDelta=n.pageY-this.mouseY0;this.leftDelta=n.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),hr=s.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(n){this.view=n;this.isRTL=n.opt("isRTL")},rowHtml:function(n,t){var i,u,f=this.getHtmlRenderer("cell",n),r="";for(t=t||0,i=0;this.colCnt>i;i++)u=this.getCell(t,i),r+=f(u);return r=this.bookendCells(r,n,t),"<tr>"+r+"<\/tr>"},bookendCells:function(n,t,i){var r=this.getHtmlRenderer("intro",t)(i||0),u=this.getHtmlRenderer("outro",t)(i||0),f=this.isRTL?u:r,e=this.isRTL?r:u;return"string"==typeof n?f+n+e:n.prepend(f).append(e)},getHtmlRenderer:function(n,t){var e,r,u,i,f=this.view;return e=n+"Html",t&&(r=t+ai(n)+"Html"),r&&(i=f[r])?u=f:r&&(i=this[r])?u=this:(i=f[e])?u=f:(i=this[e])&&(u=this),"function"==typeof i?function(){return i.apply(u,arguments)||""}:function(){return i||""}}}),e=i.Grid=hr.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,documentDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventEnd:null,constructor:function(){hr.apply(this,arguments);this.coordMap=new gu(this);this.elsByFill={};this.documentDragStartProxy=n.proxy(this,"documentDragStart")},render:function(){this.bindHandlers()},destroy:function(){this.unbindHandlers()},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventEnd:function(){return!1},setRange:function(n){var t=this.view;this.start=n.start.clone();this.end=n.end.clone();this.rowData=[];this.colData=[];this.updateCells();this.colHeadFormat=t.opt("columnFormat")||this.computeColHeadFormat();this.eventTimeFormat=t.opt("timeFormat")||this.computeEventTimeFormat();this.displayEventEnd=t.opt("displayEventEnd");null==this.displayEventEnd&&(this.displayEventEnd=this.computeDisplayEventEnd())},updateCells:function(){},rangeToSegs:function(){},getCell:function(t,i){var r;return null==i&&("number"==typeof t?(i=t%this.colCnt,t=Math.floor(t/this.colCnt)):(i=t.col,t=t.row)),r={row:t,col:i},n.extend(r,this.getRowData(t),this.getColData(i)),n.extend(r,this.computeCellRange(r)),r},computeCellRange:function(){},getRowData:function(n){return this.rowData[n]||{}},getColData:function(n){return this.colData[n]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(n){return this.getColEl(n.col)||this.getRowEl(n.row)},computeRowCoords:function(){for(var i,t,r=[],n=0;this.rowCnt>n;n++)i=this.getRowEl(n),t={top:i.offset().top},n>0&&(r[n-1].bottom=t.top),r.push(t);return t.bottom=t.top+i.outerHeight(),r},computeColCoords:function(){for(var i,t,r=[],n=0;this.colCnt>n;n++)i=this.getColEl(n),t={left:i.offset().left},n>0&&(r[n-1].right=t.left),r.push(t);return t.right=t.left+i.outerWidth(),r},bindHandlers:function(){var t=this;this.el.on("mousedown",function(i){n(i.target).is(".fc-event-container *, .fc-more")||n(i.target).closest(".fc-popover").length||t.dayMousedown(i)});this.bindSegHandlers();n(document).on("dragstart",this.documentDragStartProxy)},unbindHandlers:function(){n(document).off("dragstart",this.documentDragStartProxy)},dayMousedown:function(n){var i,t,u=this,r=this.view,e=r.opt("selectable"),f=new rt(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(n,r){var o=f.origCell;o&&(i=r?n:null,e&&(t=u.computeSelection(o,n),t?u.renderSelection(t):d()))},cellOut:function(){i=null;t=null;u.destroySelection();v()},listenStop:function(n){i&&r.trigger("dayClick",u.getCellDayEl(i),i.start,n);t&&r.reportSelection(t,n);v()}});f.mousedown(n)},renderRangeHelper:function(n,t){var i;i=t?g(t.event):{};i.start=n.start.clone();i.end=n.end?n.end.clone():null;i.allDay=null;this.view.calendar.normalizeEventDateProps(i);i.className=(i.className||[]).concat("fc-helper");t||(i.editable=!1);this.renderHelper(i,t)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(n){this.renderHighlight(n)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(n,t){var i,r=[n.start,n.end,t.start,t.end];return r.sort(br),i={start:r[0].clone(),end:r[3].clone()},this.view.calendar.isSelectionRangeAllowed(i)?i:null},renderHighlight:function(n){this.renderFill("highlight",this.rangeToSegs(n))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var r,u=this,f=this[t+"SegEl"],e="",o=[];if(i.length){for(r=0;i.length>r;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegStyles"],u=i?i.call(this,t):[],f=r?r.call(this,t):"";return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"<\/thead><\/table><\/div>"},headCellHtml:function(n){var i=this.view,t=n.start;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+er[t.day()]+'">'+r(t.format(this.colHeadFormat))+"<\/th>"},bgCellHtml:function(n){var r=this.view,t=n.start,i=this.getDayClasses(t);return i.unshift("fc-day",r.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"><\/td>'},getDayClasses:function(n){var i=this.view,r=i.calendar.getNow().stripTime(),t=["fc-"+er[n.day()]];return"month"===i.name&&n.month()!=i.intervalStart.month()&&t.push("fc-other-month"),n.isSame(r,"day")?t.push("fc-today",i.highlightStateClass):r>n?t.push("fc-past"):t.push("fc-future"),t}});e.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(n){for(var u,f=this.eventsToSegs(n),t=[],i=[],r=0;f.length>r;r++)u=f[r],nu(u.event)?t.push(u):i.push(u);t=this.renderBgSegs(t)||t;i=this.renderFgSegs(i)||i;this.segs=t.concat(i)},destroyEvents:function(){this.triggerSegMouseout();this.destroyFgSegs();this.destroyBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(t,i){var r,e=this.view,u="",f=[];if(t.length){for(r=0;t.length>r;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegStyles:function(n){var i=this.view,t=n.event,r=t.source||{},f=t.color,e=r.color,o=i.opt("eventColor"),u=t.backgroundColor||f||r.backgroundColor||e||i.opt("eventBackgroundColor")||o;return u?"background-color:"+u:""},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,i=this.view;n.each({mouseenter:function(n,i){t.triggerSegMouseover(n,i)},mouseleave:function(n,i){t.triggerSegMouseout(n,i)},click:function(n,t){return i.trigger("eventClick",this,n.event,t)},mousedown:function(r,u){n(u.target).is(".fc-resizer")&&i.isEventResizable(r.event)?t.segResizeMousedown(r,u):i.isEventDraggable(r.event)&&t.segDragMousedown(r,u)}},function(i,r){t.el.on(i,".fc-event-container > *",function(i){var u=n(this).data("fc-seg");if(u&&!t.isDraggingSeg&&!t.isResizingSeg)return r.call(this,u,i)})})},triggerSegMouseover:function(n,t){this.mousedOverSeg||(this.mousedOverSeg=n,this.view.trigger("eventMouseover",n.el[0],n.event,t))},triggerSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",n.el[0],n.event,t))},segDragMousedown:function(n,t){var r,e=this,i=this.view,o=n.el,f=n.event,u=new tf(n.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),s=new rt(i.coordMap,{distance:5,scroll:i.opt("dragScroll"),listenStart:function(n){u.hide();u.start(n)},dragStart:function(t){e.triggerSegMouseout(n,t);e.isDraggingSeg=!0;i.hideEvent(f);i.trigger("eventDragStart",o[0],f,t,{})},cellOver:function(t,o){var h=n.cell||s.origCell;r=e.computeEventDrop(h,t,f);r?(i.renderDrag(r,n)?u.hide():u.show(),o&&(r=null)):(u.show(),d())},cellOut:function(){r=null;i.destroyDrag();u.show();v()},dragStop:function(n){u.stop(!r,function(){e.isDraggingSeg=!1;i.destroyDrag();i.showEvent(f);i.trigger("eventDragStop",o[0],f,n,{});r&&i.reportEventDrop(f,r,o,n)});v()},listenStop:function(){u.stop()}});s.mousedown(t)},computeEventDrop:function(n,t,i){var u,f,e,o,s,h=n.start,r=t.start;return h.hasTime()===r.hasTime()?(u=b(r,h),f=i.start.clone().add(u),e=null===i.end?null:i.end.clone().add(u),o=i.allDay):(f=r.clone(),e=null,o=!r.hasTime()),s={start:f,end:e,allDay:o},this.view.calendar.isEventRangeAllowed(s,i)?s:null},documentDragStart:function(t,i){var r,u,f=this.view;f.opt("droppable")&&(r=n(t.target),u=f.opt("dropAccept"),(n.isFunction(u)?u.call(r[0],r):r.is(u))&&this.startExternalDrag(r,t,i))},startExternalDrag:function(t,i){var f,r,u=this,e=uu(t);f=new rt(this.coordMap,{cellOver:function(n){r=u.computeExternalDrop(n,e);r?u.renderDrag(r):d()},cellOut:function(){r=null;u.destroyDrag();v()}});n(document).one("dragstop",function(n,i){u.destroyDrag();v();r&&u.view.reportExternalDrop(e,r,t,n,i)});f.startDrag(i)},computeExternalDrop:function(n,t){var i={start:n.start.clone(),end:null};return t.startTime&&!i.start.hasTime()&&i.start.time(t.startTime),t.duration&&(i.end=i.start.clone().add(t.duration)),this.view.calendar.isExternalDropRangeAllowed(i,t.eventProps)?i:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(n,t){function s(){f.destroyEventResize();u.showEvent(r);v()}var i,h,f=this,u=this.view,c=u.calendar,o=n.el,r=n.event,e=r.start,l=c.getEventEnd(r);h=new rt(this.coordMap,{distance:5,scroll:u.opt("dragScroll"),dragStart:function(t){f.triggerSegMouseout(n,t);f.isResizingSeg=!0;u.trigger("eventResizeStart",o[0],r,t,{})},cellOver:function(t){i=t.end;i.isAfter(e)||(i=e.clone().add(b(t.end,t.start)));i.isSame(l)?i=null:c.isEventRangeAllowed({start:e,end:i},r)?(f.renderEventResize({start:e,end:i},n),u.hideEvent(r)):(i=null,d())},cellOut:function(){i=null;s()},dragStop:function(n){f.isResizingSeg=!1;s();u.trigger("eventResizeStop",o[0],r,n,{});i&&u.reportEventResize(r,i,o,n)}});h.mousedown(t)},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(n,t){return t=t||this.eventTimeFormat,n.end&&this.displayEventEnd?this.view.formatRange(n,t):n.start.format(t)},getSegClasses:function(n,t,i){var r=n.event,u=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&u.push("fc-draggable"),i&&u.push("fc-resizable"),u},getEventSkinCss:function(n){var t=this.view,i=n.source||{},u=n.color,f=i.color,e=t.opt("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t.opt("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t.opt("eventBorderColor")||e,h=n.textColor||i.textColor||t.opt("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")},eventsToSegs:function(n,t){for(var u=this.eventsToRanges(n),r=[],i=0;u.length>i;i++)r.push.apply(r,this.eventRangeToSegs(u[i],t));return r},eventsToRanges:function(t){var r=this,u=iu(t),i=[];return n.each(u,function(n,t){t.length&&i.push.apply(i,tu(t[0])?r.eventsToInverseRanges(t):r.eventsToNormalRanges(t))}),i},eventsToNormalRanges:function(n){for(var i,r,u,e=this.view.calendar,f=[],t=0;n.length>t;t++)i=n[t],r=i.start.clone().stripZone(),u=e.getEventEnd(i).stripZone(),f.push({event:i,start:r,end:u,eventStartMS:+r,eventDurationMS:u-r});return f},eventsToInverseRanges:function(n){var i,r,e=this.view,h=e.start.clone().stripZone(),o=e.end.clone().stripZone(),u=this.eventsToNormalRanges(n),f=[],s=n[0],t=h;for(u.sort(ru),i=0;u.length>i;i++)r=u[i],r.start>t&&f.push({event:s,start:t,end:r.start}),t=r.end;return o>t&&f.push({event:s,start:t,end:o}),f},eventRangeToSegs:function(n,t){for(var u,i=t?t(n):this.rangeToSegs(n),r=0;i.length>r;r++)u=i[r],u.event=n.event,u.eventStartMS=n.eventStartMS,u.eventDurationMS=n.eventDurationMS;return i}});i.compareSegs=tt;i.dataAttrPrefix="";k=e.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,render:function(n){for(var t,r,o=this.view,u=this.rowCnt,s=this.colCnt,h=u*s,f="",i=0;u>i;i++)f+=this.dayRowHtml(i,n);for(this.el.html(f),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),t=0;h>t;t++)r=this.getCell(t),o.trigger("dayRender",null,r.start,this.dayEls.eq(t));e.prototype.render.call(this)},destroy:function(){this.destroySegPopover();e.prototype.destroy.call(this)},dayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},dayCellHtml:function(n){return this.bgCellHtml(n)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,r,i,n;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(r=t[0].day(),n=1;t.length>n&&t[n].day()!=r;n++);i=Math.ceil(t.length/n)}else i=1,n=t.length;this.rowCnt=i;this.colCnt=n},updateCellDates:function(){for(var u=this.view,n=this.start.clone(),r=[],t=-1,i=[];n.isBefore(this.end);)u.isHiddenDay(n)?i.push(t+.5):(t++,i.push(t),r.push(n.clone())),n.add(1,"days");this.cellDates=r;this.dayToCellOffsets=i},computeCellRange:function(n){var t=this.colCnt,r=n.row*t+(this.isRTL?t-n.col-1:n.col),i=this.cellDates[r].clone(),u=i.clone().add(1,"day");return{start:i,end:u}},getRowEl:function(n){return this.rowEls.eq(n)},getColEl:function(n){return this.dayEls.eq(n)},getCellDayEl:function(n){return this.dayEls.eq(n.row*this.colCnt+n.col)},computeRowCoords:function(){var n=e.prototype.computeRowCoords.call(this);return n[n.length-1].bottom+=this.bottomCoordPadding,n},rangeToSegs:function(n){var o,s,u,f,h,c,l,t,i,r,v=this.isRTL,y=this.rowCnt,e=this.colCnt,a=[];for(n=this.view.computeDayRange(n),o=this.dateToCellOffset(n.start),s=this.dateToCellOffset(n.end.subtract(1,"days")),u=0;y>u;u++)f=u*e,h=f+e-1,t=Math.max(f,o),i=Math.min(h,s),t=Math.ceil(t),i=Math.floor(i),i>=t&&(c=t===o,l=i===s,t-=f,i-=f,r={row:u,isStart:c,isEnd:l},v?(r.leftCol=e-i-1,r.rightCol=e-t-1):(r.leftCol=t,r.rightCol=i),a.push(r));return a},dateToCellOffset:function(n){var t=this.dayToCellOffsets,i=n.diff(this.start,"days");return 0>i?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]},renderDrag:function(n,t){var i;return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(n)),t&&!t.el.closest(this.el).length?(this.renderRangeHelper(n,t),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEls.css("opacity",i),!0):void 0},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderEventResize:function(n,t){this.renderHighlight(n);this.renderRangeHelper(n,t)},destroyEventResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(t,i){var u,f=[],r=this.eventsToSegs([t]);r=this.renderFgSegEls(r);u=this.renderSegRows(r);this.rowEls.each(function(t,r){var o,s=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>');o=i&&i.row===t?i.el.position().top:s.find(".fc-content-skeleton tbody").position().top;e.css("top",o).find("table").append(u[t].tbodyEl);s.append(e);f.push(e[0])});this.helperEls=n(f)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i){var r,u,f,e=[];for(i=this.renderFillSegEls(t,i),r=0;i.length>r;r++)u=i[r],f=this.renderFillRow(t,u),this.rowEls.eq(u.row).append(f),e.push(f[0]);return this.elsByFill[t]=n(e),i},renderFillRow:function(t,i){var u,r,o=this.colCnt,f=i.leftCol,e=i.rightCol+1;return u=n('<div class="fc-'+t.toLowerCase()+'-skeleton"><table><tr/><\/table><\/div>'),r=u.find("tr"),f>0&&r.append('<td colspan="'+f+'"/>'),r.append(i.el.attr("colspan",e-f)),o>e&&r.append('<td colspan="'+(o-e)+'"/>'),this.bookendCells(r,t),u}});k.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover();e.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return e.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return e.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},destroyFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;i.length>t;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var u,e=this.view,i=n.event,c=e.isEventDraggable(i),o=!t&&i.allDay&&n.isEnd&&e.isEventResizable(i),s=this.getSegClasses(n,c,o),h=this.getEventSkinCss(i),f="";return s.unshift("fc-day-grid-event"),!i.allDay&&n.isStart&&(f='<span class="fc-time">'+r(this.getEventTimeText(i))+"<\/span>"),u='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+s.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(this.isRTL?u+" "+f:f+" "+u)+"<\/div>"+(o?'<div class="fc-resizer"/>':"")+"<\/a>"},renderSegRow:function(t,i){function y(t){for(;t>u;)r=(l[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),c[f][u]=r,l[f][u]=r,u++}for(var s,u,o,h,e,r,w=this.colCnt,a=this.buildSegLevels(i),b=Math.max(1,a.length),p=n("<tbody/>"),v=[],c=[],l=[],f=0;b>f;f++){if(s=a[f],u=0,o=n("<tr/>"),v.push([]),c.push([]),l.push([]),s)for(h=0;s.length>h;h++){for(e=s[h],y(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):l[f][u]=r;e.rightCol>=u;)c[f][u]=r,v[f][u]=e,u++;o.append(r)}y(w);this.bookendCells(o,"eventSkeleton");p.append(o)}return{row:t,tbodyEl:p,cellMatrix:c,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var r,u,t,i=[];for(n.sort(tt),r=0;n.length>r;r++){for(u=n[r],t=0;i.length>t&&fu(u,i[t]);t++);u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;i.length>t;t++)i[t].sort(eu);return i},groupSegRows:function(n){for(var i=[],t=0;this.rowCnt>t;t++)i.push([]);for(t=0;n.length>t;t++)i[n[t].row].push(n[t]);return i}});k.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var i,r=this.rowStructs||[],t=0;r.length>t;t++)this.unlimitRow(t),i=n?"number"==typeof n?n:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(n){for(var i,u=this.rowEls.eq(n),f=u.height(),r=this.rowStructs[n].tbodyEl.children(),t=0;r.length>t;t++)if(i=r.eq(t).removeClass("fc-limited"),i.position().top+i.outerHeight()>f)return t;return!1},limitRow:function(t,i){function tt(e){for(;e>f;)u=g.getCell(t,f),r=g.getCellSegs(u,i),r.length&&(o=w[i-1][f],y=g.renderMoreLink(u,r),c=n("<div/>").append(y),o.append(c),nt.push(c[0])),f++}var u,p,w,b,l,e,r,k,a,o,it,d,h,v,c,y,g=this,s=this.rowStructs[t],nt=[],f=0;if(i&&s.segLevels.length>i){for(p=s.segLevels[i-1],w=s.cellMatrix,b=s.tbodyEl.children().slice(i).addClass("fc-limited").get(),l=0;p.length>l;l++){for(e=p[l],tt(e.leftCol),a=[],k=0;e.rightCol>=f;)u=this.getCell(t,f),r=this.getCellSegs(u,i),a.push(r),k+=r.length,f++;if(k){for(o=w[i-1][e.leftCol],it=o.attr("rowspan")||1,d=[],h=0;a.length>h;h++)v=n('<td class="fc-more-cell"/>').attr("rowspan",it),r=a[h],u=this.getCell(t,e.leftCol+h),y=this.renderMoreLink(u,[e].concat(r)),c=n("<div/>").append(y),v.append(c),d.push(v[0]),nt.push(v[0]);o.addClass("fc-limited").after(n(d));b.push(o[0])}}tt(this.colCnt);s.moreEls=n(nt);s.limitedEls=n(b)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i){var r=this,u=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(f){var e=u.opt("eventLimitClick"),o=t.start,s=n(this),c=r.getCellDayEl(t),l=r.getCellSegs(t),h=r.resliceDaySegs(l,o),a=r.resliceDaySegs(i,o);"function"==typeof e&&(e=u.trigger("eventLimitClick",null,{date:o,dayEl:c,moreEl:s,segs:h,hiddenSegs:a},f));"popover"===e?r.showSegPopover(t,s,h):"string"==typeof e&&u.calendar.zoomTo(o,e)})},showSegPopover:function(n,t,i){var e,r,u=this,o=this.view,f=t.parent();e=1==this.rowCnt?o.el:this.rowEls.eq(n.row);r={className:"fc-more-popover",content:this.renderSegPopoverContent(n,i),parentEl:this.el,top:e.offset().top,autoHide:!0,viewportConstrain:o.opt("popoverViewportConstrain"),hide:function(){u.segPopover.destroy();u.segPopover=null;u.popoverSegs=null}};this.isRTL?r.right=f.offset().left+f.outerWidth()+1:r.left=f.offset().left-1;this.segPopover=new du(r);this.segPopover.show()},renderSegPopoverContent:function(t,i){var u,f=this.view,o=f.opt("theme"),s=t.start.format(f.opt("dayPopoverFormat")),e=n('<div class="fc-header '+f.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(s)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+f.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),h=e.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,u=0;i.length>u;u++)i[u].cell=t,h.append(i[u].el);return e},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone().stripTime(),f=r.clone().add(1,"days"),e={start:r,end:f};return this.eventsToSegs(u,function(n){var t=ft(n,e);return t?[t]:[]})},getMoreLinkText:function(n){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(n,t){for(var i,u=this.rowStructs[n.row].segMatrix,r=t||0,f=[];u.length>r;)i=u[r][n.col],i&&f.push(i),r++;return f}});bt=e.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){e.apply(this,arguments);this.processOptions()},render:function(){this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.computeSlatTops();this.renderBusinessHours();e.prototype.render.call(this)},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(n),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'<\/table><\/div><div class="fc-slats"><table>'+this.slatRowHtml()+"<\/table><\/div>"},slotBgCellHtml:function(n){return this.bgCellHtml(n)},slatRowHtml:function(){for(var n,i,u,f=this.view,o=this.isRTL,s="",h=0==this.slotDuration.asMinutes()%15,e=t.duration(+this.minTime);this.maxTime>e;)n=this.start.clone().time(e),i=n.minutes(),u='<td class="fc-axis fc-time '+f.widgetContentClass+'" '+f.axisStyleAttr()+">"+(h&&i?"":"<span>"+r(n.format(this.axisFormat))+"<\/span>")+"<\/td>",s+="<tr "+(i?'class="fc-minor"':"")+">"+(o?"":u)+'<td class="'+f.widgetContentClass+'"/>'+(o?u:"")+"<\/tr>",e.add(this.slotDuration);return s},processOptions:function(){var n=this.view,i=n.opt("slotDuration"),r=n.opt("snapDuration");i=t.duration(i);r=r?t.duration(r):i;this.slotDuration=i;this.snapDuration=r;this.minTime=t.duration(n.opt("minTime"));this.maxTime=t.duration(n.opt("maxTime"));this.axisFormat=n.opt("axisFormat")||n.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){for(var i=this.view,t=[],n=this.start.clone();n.isBefore(this.end);)t.push({day:n.clone()}),n.add(1,"day"),n=i.skipHiddenDays(n);this.isRTL&&t.reverse();this.colData=t;this.colCnt=t.length;this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellRange:function(n){var i=this.computeSnapTime(n.row),t=this.view.calendar.rezoneDate(n.day).time(i),r=t.clone().add(this.snapDuration);return{start:t,end:r}},getColEl:function(n){return this.dayEls.eq(n)},computeSnapTime:function(n){return t.duration(this.minTime+this.snapDuration*n)},rangeToSegs:function(n){var i,t,r,u,e=this.colCnt,f=[];for(n={start:n.start.clone().stripZone(),end:n.end.clone().stripZone()},t=0;e>t;t++)r=this.colData[t].day,u={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},i=ft(n,u),i&&(i.col=t,f.push(i));return f},resize:function(){this.computeSlatTops();this.updateSegVerticals()},computeRowCoords:function(){for(var t,r=this.el.offset().top,i=[],n=0;this.rowCnt>n;n++)t={top:r+this.computeTimeTop(this.computeSnapTime(n))},n>0&&(i[n-1].bottom=t.top),i.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(n)),i},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n.clone().stripZone()-i.clone().stripTime()))},computeTimeTop:function(n){var i,u,r,f,t=(n-this.minTime)/this.slotDuration;return t=Math.max(0,t),t=Math.min(this.slatEls.length,t),i=Math.floor(t),u=t-i,r=this.slatTops[i],u?(f=this.slatTops[i+1],r+(f-r)*u):r},computeSlatTops:function(){var t,i=[];this.slatEls.each(function(r,u){t=n(u).position().top;i.push(t)});i.push(t+this.slatEls.last().outerHeight());this.slatTops=i},renderDrag:function(n,t){var i;return t?(this.renderRangeHelper(n,t),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEl.css("opacity",i),!0):(this.renderHighlight(this.view.calendar.ensureVisibleEventRange(n)),void 0)},destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderEventResize:function(n,t){this.renderRangeHelper(n,t)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(t,i){var o,f,e,r,u=this.eventsToSegs([t]);for(u=this.renderFgSegEls(u),o=this.renderSegTable(u),f=0;u.length>f;f++)e=u[f],i&&i.col===e.col&&(r=i.el,e.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperEl=n('<div class="fc-helper-skeleton"/>').append(o).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(n){this.view.opt("selectHelper")?this.renderRangeHelper(n):this.renderHighlight(n)},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderFill:function(t,i,r){var h,f,c,u,e,a,v,l,o,s;if(i.length){for(i=this.renderFillSegEls(t,i),h=this.groupSegCols(i),r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),c=f.find("tr"),u=0;h.length>u;u++)if(e=h[u],a=n("<td/>").appendTo(c),e.length)for(v=n('<div class="fc-'+r+'-container"/>').appendTo(a),l=this.colData[u].day,o=0;e.length>o;o++)s=e[o],v.append(s.el.css({top:this.computeDateTop(s.start,l),bottom:-this.computeDateTop(s.end,l)}));this.bookendCells(c,t);this.el.append(f);this.elsByFill[t]=f}return i}});bt.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=n('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var e,r,i,u,f,o,s=n("<table><tr/><\/table>"),h=s.find("tr");for(e=this.groupSegCols(t),this.computeSegVerticals(t),u=0;e.length>u;u++){for(f=e[u],ou(f),o=n('<div class="fc-event-container"/>'),r=0;f.length>r;r++)i=f[r],i.el.css(this.generateSegPositionCss(i)),30>i.bottom-i.top&&i.el.addClass("fc-short"),o.append(i.el);h.append(n("<td/>").append(o))}return this.bookendCells(h,"eventSkeleton"),s},updateSegVerticals:function(){var n,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),n=0;t.length>n;n++)t[n].el.css(this.generateSegVerticalCss(t[n]))},computeSegVerticals:function(n){for(var t,i=0;n.length>i;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},fgSegHtml:function(n,t){var u,f,e,o=this.view,i=n.event,l=o.isEventDraggable(i),s=!t&&n.isEnd&&o.isEventResizable(i),h=this.getSegClasses(n,l,s),c=this.getEventSkinCss(i);return h.unshift("fc-time-grid-event"),o.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(u=this.getEventTimeText(n),f=this.getEventTimeText(n,"LT"),e=this.getEventTimeText({start:n.start})):(u=this.getEventTimeText(i),f=this.getEventTimeText(i,"LT"),e=this.getEventTimeText({start:i.start})),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(u?'<div class="fc-time" data-start="'+r(e)+'" data-full="'+r(f)+'"><span>'+r(u)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer"/>':"")+"<\/a>"},generateSegPositionCss:function(n){var u,f,e=this.view.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n);return e&&(r=Math.min(1,i+2*(r-i))),this.isRTL?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=100*u+"%",t.right=100*f+"%",e&&n.forwardPressure&&(t[this.isRTL?"marginLeft":"marginRight"]=20),t},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},groupSegCols:function(n){for(var i=[],t=0;this.colCnt>t;t++)i.push([]);for(t=0;n.length>t;t++)i[n[t].col].push(n[t]);return i}});h=i.View=s.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(i,r,u){this.calendar=i;this.options=r;this.type=this.name=u;this.nextDayThreshold=t.duration(this.opt("nextDayThreshold"));this.initTheming();this.initHiddenDays();this.documentMousedownProxy=n.proxy(this,"documentMousedown");this.initialize()},initialize:function(){},opt:function(t){var i;return i=this.options[t],void 0!==i?i:(i=this.calendar.options[t],n.isPlainObject(i)&&!dt(t)?w(i,this.type):i)},trigger:function(n,t){var i=this.calendar;return i.trigger.apply(i,[n,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(n){this.setRange(this.computeRange(n))},setRange:function(t){n.extend(this,t);this.updateTitle()},computeRange:function(n){var u,f,e=t.duration(this.opt("duration")||this.constructor.duration||{days:1}),o=hi(e),i=n.clone().startOf(o),r=i.clone().add(e);return/year|month|week|day/.test(o)?(i.stripTime(),r.stripTime()):(i.hasTime()||(i=this.calendar.rezoneDate(i)),r.hasTime()||(r=this.calendar.rezoneDate(r))),u=i.clone(),u=this.skipHiddenDays(u),f=r.clone(),f=this.skipHiddenDays(f,-1,!0),{intervalDuration:e,intervalUnit:o,intervalStart:i,intervalEnd:r,start:u,end:f}},computePrevDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(n){return this.massageCurrentDate(n.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(n,i){return this.intervalDuration<=t.duration({days:1})&&this.isHiddenDay(n)&&(n=this.skipHiddenDays(n,i),n.startOf("day")),n},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(n,t,i){var r=n.end;return r.hasTime()||(r=r.clone().subtract(1)),wi(n.start,r,t,i,this.opt("isRTL"))},renderView:function(){this.render();this.updateSize();this.initializeScroll();this.trigger("viewRender",this,this,this.el);n(document).on("mousedown",this.documentMousedownProxy)},render:function(){},destroyView:function(){this.unselect();this.destroyViewEvents();this.destroy();this.trigger("viewDestroy",this,this,this.el);n(document).off("mousedown",this.documentMousedownProxy)},destroy:function(){this.el.empty()},initTheming:function(){var n=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=n+"-widget-header";this.widgetContentClass=n+"-widget-content";this.highlightStateClass=n+"-state-highlight"},updateSize:function(n){n&&this.recordScroll();this.updateHeight();this.updateWidth()},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(n,t){var i,r;return t=t||this.scrollerEl,i=this.el.add(t),i.css({position:"relative",left:-1}),r=this.el.outerHeight()-t.height(),i.css({position:"",left:""}),n-r},initializeScroll:function(){},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderViewEvents:function(n){this.renderEvents(n);this.eventSegEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},renderEvents:function(){},destroyViewEvents:function(){this.eventSegEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)});this.destroyEvents()},destroyEvents:function(){},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.eventSegEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.eventSegEach(function(n){n.el.css("visibility","hidden")},n)},eventSegEach:function(n,t){for(var r=this.getEventSegs(),i=0;r.length>i;i++)t&&r[i].event._id!==t._id||n.call(this,r[i])},getEventSegs:function(){return[]},isEventDraggable:function(n){var t=n.source||{};return o(n.startEditable,t.startEditable,this.opt("eventStartEditable"),n.editable,t.editable,this.opt("editable"))},reportEventDrop:function(n,t,i,r){var u=this.calendar,f=u.mutateEvent(n,t),e=function(){f.undo();u.reportEventChange()};this.triggerEventDrop(n,f.dateDelta,e,i,r);u.reportEventChange()},triggerEventDrop:function(n,t,i,r,u){this.trigger("eventDrop",r[0],n,t,i,u,{})},reportExternalDrop:function(t,i,r,u,f){var e,o,s=t.eventProps;s&&(e=n.extend({},s,i),o=this.calendar.renderEvent(e,t.stick)[0]);this.triggerExternalDrop(o,i,r,u,f)},triggerExternalDrop:function(n,t,i,r,u){this.trigger("drop",i[0],t.start,r,u);n&&this.trigger("eventReceive",null,n)},renderDrag:function(){},destroyDrag:function(){},isEventResizable:function(n){var t=n.source||{};return o(n.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),n.editable,t.editable,this.opt("editable"))},reportEventResize:function(n,t,i,r){var u=this.calendar,f=u.mutateEvent(n,{end:t}),e=function(){f.undo();u.reportEventChange()};this.triggerEventResize(n,f.durationDelta,e,i,r);u.reportEventChange()},triggerEventResize:function(n,t,i,r,u){this.trigger("eventResize",r[0],n,t,i,u,{})},select:function(n,t){this.unselect(t);this.renderSelection(n);this.reportSelection(n,t)},renderSelection:function(){},reportSelection:function(n,t){this.isSelected=!0;this.trigger("select",null,n.start,n.end,t)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,n))},destroySelection:function(){},documentMousedown:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&si(t)&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))},initHiddenDays:function(){var t,i=this.opt("hiddenDays")||[],r=[],u=0;for(this.opt("weekends")===!1&&i.push(0,6),t=0;7>t;t++)(r[t]=-1!==n.inArray(t,i))||u++;if(!u)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(n){return t.isMoment(n)&&(n=n.day()),this.isHiddenDayHash[n]},skipHiddenDays:function(n,t,i){var r=n.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(n){var r,u=n.start.clone().stripTime(),i=n.end,t=null;return i&&(t=i.clone().stripTime(),r=+i.time(),r&&r>=this.nextDayThreshold&&t.add(1,"days")),(!i||u>=t)&&(t=u.clone().add(1,"days")),{start:u,end:t}},isMultiDayEvent:function(n){var t=this.computeDayRange(n);return t.end.diff(t.start,"days")>1}});i.sourceNormalizers=[];i.sourceFetchers=[];var rf={dataType:"json",cache:!1},uf=1,cr=l.basic=h.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new k(this);this.coordMap=this.dayGrid.coordMap},setRange:function(n){h.prototype.setRange.call(this,n);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(n)},computeRange:function(n){var t=h.prototype.computeRange.call(this,n);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render(this.hasRigidRows())},destroy:function(){this.dayGrid.destroy();h.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'<\/td><\/tr><\/thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>"},numberIntroHtml:function(n){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.dayGrid.getCell(n,0).start)+"<\/span><\/td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>"},numberCellHtml:function(n){var t,i=n.start;return this.dayNumbersVisible?(t=this.dayGrid.getDayClasses(i),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+i.format()+'">'+i.date()+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&"number"!=typeof n},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=ui(this.el.find(".fc-week-number")))},setHeight:function(n,t){var r,i=this.opt("eventLimit");ut(this.scrollerEl);ti(this.headRowEl);this.dayGrid.destroySegPopover();i&&"number"==typeof i&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&"number"!=typeof i&&this.dayGrid.limitRows(i);!t&&fi(this.scrollerEl,r)&&(ni(this.headRowEl,oi(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r),this.restoreScroll())},setGridHeight:function(n,t){t?ri(this.dayGrid.rowEls):ii(this.dayGrid.rowEls,n,!0)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.recordScroll();this.dayGrid.destroyEvents()},renderDrag:function(n,t){return this.dayGrid.renderDrag(n,t)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(n){this.dayGrid.renderSelection(n)},destroySelection:function(){this.dayGrid.destroySelection()}});kt({fixedWeekCount:!0});lr=l.month=cr.extend({computeRange:function(n){var i,t=cr.prototype.computeRange.call(this,n);return this.isFixedWeeks()&&(i=Math.ceil(t.end.diff(t.start,"weeks",!0)),t.end.add(6-i,"weeks")),t},setGridHeight:function(n,t){t=t||"variable"===this.opt("weekMode");t&&(n*=this.rowCnt/6);ii(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?"fixed"===n:this.opt("fixedWeekCount")}});lr.duration={months:1};l.basicWeek={type:"basic",duration:{weeks:1}};l.basicDay={type:"basic",duration:{days:1}};kt({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});ar=5;l.agenda=h.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new bt(this);this.opt("allDaySlot")?(this.dayGrid=new k(this),this.coordMap=new nf([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(n){h.prototype.setRange.call(this,n);this.timeGrid.setRange(n);this.dayGrid&&this.dayGrid.setRange(n)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.el=this.el.find(".fc-time-grid");this.timeGrid.render();this.bottomRuleEl=n('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroy();this.dayGrid&&this.dayGrid.destroy();h.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'<\/td><\/tr><\/thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){var i,n,t,u;return this.opt("weekNumbers")?(i=this.timeGrid.getCell(0).start,n=this.calendar.calculateWeekNumber(i),t=this.opt("weekNumberTitle"),u=this.opt("isRTL")?n+t:t+n,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+r(u)+"<\/span><\/th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><\/th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||r(this.opt("allDayText")))+"<\/span><\/td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><\/td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"><\/td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(n){n&&this.timeGrid.resize();h.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=ui(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");ut(this.scrollerEl);ti(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.destroySegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=ar),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),fi(this.scrollerEl,r)?(ni(this.noScrollRowEls,oi(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r),this.restoreScroll()):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},initializeScroll:function(){function i(){r.scrollerEl.scrollTop(n)}var r=this,u=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(u);n=Math.ceil(n);n&&n++;i();setTimeout(i,0)},renderEvents:function(n){for(var u,i=[],r=[],f=[],t=0;n.length>t;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);u=this.timeGrid.renderEvents(r);this.dayGrid&&(f=this.dayGrid.renderEvents(i));this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.recordScroll();this.timeGrid.destroyEvents();this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(n,t){return n.start.hasTime()?this.timeGrid.renderDrag(n,t):this.dayGrid?this.dayGrid.renderDrag(n,t):void 0},destroyDrag:function(){this.timeGrid.destroyDrag();this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(n){n.start.hasTime()||n.end.hasTime()?this.timeGrid.renderSelection(n):this.dayGrid&&this.dayGrid.renderSelection(n)},destroySelection:function(){this.timeGrid.destroySelection();this.dayGrid&&this.dayGrid.destroySelection()}});l.agendaWeek={type:"agenda",duration:{weeks:1}};l.agendaDay={type:"agenda",duration:{days:1}}});angular.module("ui.calendar",[]).constant("uiCalendarConfig",{}).controller("uiCalendarCtrl",["$scope","$timeout",function(n,t){var r=1,u=1,i=n.eventSources,f=n.calendarWatchEvent?n.calendarWatchEvent:angular.noop,e=function(n){var i;return n&&(i=function(){var i=arguments;t(function(){n.apply(this,i)})}),i};this.eventsFingerprint=function(n){return n.__uiCalId||(n.__uiCalId=u++),""+n.__uiCalId+(n.id||"")+(n.title||"")+(n.url||"")+(+n.start||"")+(+n.end||"")+(n.allDay||"")+(n.className||"")+f(n)||""};this.sourcesFingerprint=function(n){return n.__id||(n.__id=r++)};this.allEvents=function(){for(var f=[],n,e,t,u,r=0,o=i.length;r<o;r++)if(n=i[r],angular.isArray(n))f.push(n);else if(angular.isObject(n)&&angular.isArray(n.events)){e={};for(t in n)t!=="_uiCalId"&&t!=="events"&&(e[t]=n[t]);for(u=0;u<n.events.length;u++)angular.extend(n.events[u],e);f.push(n.events)}return Array.prototype.concat.apply([],f)};this.changeWatcher=function(n,t){var i,f=function(){for(var e=angular.isFunction(n)?n():n,o=[],u,f,i=0,s=e.length;i<s;i++)f=e[i],u=t(f),r[u]=f,o.push(u);return o},u=function(n,t){for(var u=[],f={},i=0,r=t.length;i<r;i++)f[t[i]]=!0;for(i=0,r=n.length;i<r;i++)f[n[i]]||u.push(n[i]);return u},r={},e=function(n,f){for(var o,c,v={},y=u(f,n),s,l,a,e=0,h=y.length;e<h;e++)if(s=y[e],o=r[s],delete r[s],l=t(o),l===s)i.onRemoved(o);else{v[l]=s;i.onChanged(o)}for(a=u(n,f),e=0,h=a.length;e<h;e++)if(c=a[e],o=r[c],!v[c])i.onAdded(o)};return i={subscribe:function(n,t){n.$watch(f,function(n,i){t&&t(n,i)===!1||e(n,i)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}};this.getFullCalendarConfig=function(n,t){var i={};return angular.extend(i,t),angular.extend(i,n),angular.forEach(i,function(n,t){typeof n=="function"&&(i[t]=e(i[t]))}),i}}]).directive("uiCalendar",["uiCalendarConfig","$locale",function(n,t){var i=function(n){var t,i;t=[];for(i in n)t[i]=n[i];return t},r=t.DATETIME_FORMATS;return n=angular.extend({monthNames:i(r.MONTH),monthNamesShort:i(r.SHORTMONTH),dayNames:i(r.DAY),dayNamesShort:i(r.SHORTDAY)},n||{}),{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(t,i,r,u){function c(){var s=r.uiCalendar?t.$parent.$eval(r.uiCalendar):{},o,e,i;o=u.getFullCalendarConfig(s,n);f={eventSources:h};angular.extend(f,o);e={};for(i in f)i!=="eventSources"&&(e[i]=f[i]);return JSON.stringify(e)}var h=t.eventSources,e=!1,s=u.changeWatcher(h,u.sourcesFingerprint),o=u.changeWatcher(u.allEvents,u.eventsFingerprint),f=null;t.destroy=function(){t.calendar=r.calendar?t.$parent[r.calendar]=i.html(""):i.html("")};t.init=function(){t.calendar.fullCalendar(f)};s.onAdded=function(n){t.calendar.fullCalendar("addEventSource",n);e=!0};s.onRemoved=function(n){t.calendar.fullCalendar("removeEventSource",n);e=!0};o.onAdded=function(n){t.calendar.fullCalendar("renderEvent",n)};o.onRemoved=function(n){t.calendar.fullCalendar("removeEvents",function(t){return t===n})};o.onChanged=function(n){t.calendar.fullCalendar("updateEvent",n)};s.subscribe(t);o.subscribe(t,function(){if(e===!0)return e=!1,!1});t.$watch(c,function(){t.destroy();t.init()})}}}]),function(n,t){"use strict";var f=6,k=4,o="asc",d="desc",s="_ng_field_",h="_ng_depth_",e="_ng_hidden_",c="_ng_column_",y=/CUSTOM_FILTERS/g,g=/COL_FIELD/g,it=/DISPLAY_CELL_TEMPLATE/g,rt=/EDITABLE_CELL_TEMPLATE/g,ut=/CELL_EDITABLE_CONDITION/g,l=/<.+>/,ft=/(\([^)]*\))?$/,nt=/\./g,et=/'/g,ot=/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,i,p,tt,u;n.ngGrid={};n.ngGrid.i18n={};angular.module("ngGrid.services",[]);i=angular.module("ngGrid.directives",[]);p=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);tt=function(n,t,i,r){var s,v,h,c;if(void 0===n.selectionProvider.selectedItems||r.config.noKeyboardNavigation||"INPUT"===document.activeElement.tagName)return!0;var e,u=i.which||i.keyCode,y=!1,p=!1,l=void 0===n.selectionProvider.lastClickedRow?1:n.selectionProvider.lastClickedRow.rowIndex,o=n.columns.filter(function(n){return n.visible&&n.width>0}),a=n.columns.filter(function(n){return n.pinned});if(n.col&&(e=o.indexOf(n.col)),37!==u&&38!==u&&39!==u&&40!==u&&(r.config.noTabInterference||9!==u)&&13!==u)return!0;if(n.enableCellSelection){9===u&&i.preventDefault();var w=n.showSelectionCheckbox?1===e:0===e,k=1===e||0===e,d=e===o.length-1||e===o.length-2,b=o.indexOf(n.col)===o.length-1,g=a.indexOf(n.col)===a.length-1;37===u||9===u&&i.shiftKey?(s=0,w||(e-=1),k?w&&9===u&&i.shiftKey?(s=r.$canvas.width(),e=o.length-1,p=!0):s=r.$viewport.scrollLeft()-n.col.width:a.length>0&&(s=r.$viewport.scrollLeft()-o[e].width),r.$viewport.scrollLeft(s)):39!==u&&(9!==u||i.shiftKey)||(d?b&&9===u&&!i.shiftKey?(r.$viewport.scrollLeft(0),e=n.showSelectionCheckbox?1:0,y=!0):r.$viewport.scrollLeft(r.$viewport.scrollLeft()+n.col.width):g&&r.$viewport.scrollLeft(0),b||(e+=1))}return v=n.configGroups.length>0?r.rowFactory.parsedData.filter(function(n){return!n.isAggRow}):r.filteredRows,h=0,(0!==l&&(38===u||13===u&&i.shiftKey||9===u&&i.shiftKey&&p)?h=-1:l!==v.length-1&&(40===u||13===u&&!i.shiftKey||9===u&&y)&&(h=1),h)&&(c=v[l+h],c.beforeSelectionChange(c,i)&&(c.continueSelection(i),n.$emit("ngGridEventDigestGridParent"),n.selectionProvider.lastClickedRow.renderedRowIndex>=n.renderedRows.length-f-2?r.$viewport.scrollTop(r.$viewport.scrollTop()+n.rowHeight):f+2>=n.selectionProvider.lastClickedRow.renderedRowIndex&&r.$viewport.scrollTop(r.$viewport.scrollTop()-n.rowHeight))),n.enableCellSelection&&setTimeout(function(){n.domAccessProvider.focusCellElement(n,n.renderedColumns.indexOf(o[e]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length>>>0,t=Number(arguments[1])||0;for(t=0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=i);i>t;t++)if(t in this&&this[t]===n)return t;return-1});Array.prototype.filter||(Array.prototype.filter=function(n){var i=Object(this),f=i.length>>>0,r;if("function"!=typeof n)throw new TypeError;for(var u=[],e=arguments[1],t=0;f>t;t++)t in i&&(r=i[t],n.call(e,r,t,i)&&u.push(r));return u});p.filter("checkmark",function(){return function(n){return n?"":""}});p.filter("ngColumns",function(){return function(n){return n.filter(function(n){return!n.isAggCol})}});angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(n,i){var r={},u={},f=function(){var n=t("<div><\/div>");n.appendTo("body");n.height(100).width(100).css("position","absolute").css("overflow","scroll");n.append('<div style="height: 400px; width: 400px;"><\/div>');r.ScrollH=n.height()-n[0].clientHeight;r.ScrollW=n.width()-n[0].clientWidth;n.empty();n.attr("style","");n.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M<\/strong><\/span>');r.LetterW=n.children().first().width();n.remove()};return r.eventStorage={},r.AssignGridContainers=function(n,i,u){u.$root=t(i);u.$topPanel=u.$root.find(".ngTopPanel");u.$groupPanel=u.$root.find(".ngGroupPanel");u.$headerContainer=u.$topPanel.find(".ngHeaderContainer");n.$headerContainer=u.$headerContainer;u.$headerScroller=u.$topPanel.find(".ngHeaderScroller");u.$headers=u.$headerScroller.children();u.$viewport=u.$root.find(".ngViewport");u.$canvas=u.$viewport.find(".ngCanvas");u.$footerPanel=u.$root.find(".ngFooterPanel");var f=n.$watch(function(){return u.$viewport.scrollLeft()},function(n){return u.$headerContainer.scrollLeft(n)});n.$on("$destroy",function(){u.$root&&(t(u.$root.parent()).off("resize.nggrid"),u.$root=null,u.$topPanel=null,u.$headerContainer=null,u.$headers=null,u.$canvas=null,u.$footerPanel=null);f()});r.UpdateGridLayout(n,u)},r.getRealWidth=function(n){var i=0,r=n.parents().andSelf().not(":visible");return t.swap(r[0],{visibility:"hidden",display:"block"},function(){i=n.outerWidth()}),i},r.UpdateGridLayout=function(n,t){if(t.$root){var i=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width();t.$root.is(":hidden")&&(t.elementDims.rootMaxW=r.getRealWidth(t.$root));t.elementDims.rootMaxH=t.$root.height();t.refreshDomSizes();n.adjustScrollTop(i,!0)}},r.numberOfGrids=0,r.setStyleText=function(n,t){var r=n.styleSheet,f=n.gridId,u=i.document;r||(r=u.getElementById(f));r||(r=u.createElement("style"),r.type="text/css",r.id=f,(u.head||u.getElementsByTagName("head")[0]).appendChild(r));r.styleSheet&&!r.sheet?r.styleSheet.cssText=t:r.innerHTML=t;n.styleSheet=r;n.styleText=t},r.BuildStyles=function(n,t,i){for(var a=t.config.rowHeight,e=t.gridId,l=n.columns,o=0,s=n.totalRowWidth(),f,h,c="."+e+" .ngCanvas { width: "+s+"px; }."+e+" .ngRow { width: "+s+"px; }."+e+" .ngCanvas { width: "+s+"px; }."+e+" .ngHeaderScroller { width: "+(s+r.ScrollH)+"px}",u=0;l.length>u;u++)f=l[u],f.visible!==!1&&(h=0,u===l.length-1&&o+f.width<t.elementDims.rootMaxW&&(h=t.elementDims.rootMaxW-o-f.width),c+="."+e+" .col"+u+" { width: "+(f.width+h)+"px; left: "+o+"px; height: "+a+"px }."+e+" .colt"+u+" { width: "+(f.width+h)+"px; }",o+=f.width);r.setStyleText(t,c);n.adjustScrollLeft(t.$viewport.scrollLeft());i&&r.digest(n)},r.setColLeft=function(n,t,i){var f,e;i.styleText&&(f=u[n.index],f||(f=u[n.index]=RegExp(".col"+n.index+" { width: [0-9]+px; left: [0-9]+px")),e=i.styleText.replace(f,".col"+n.index+" { width: "+n.width+"px; left: "+t+"px"),r.setStyleText(i,e))},r.setColLeft.immediate=1,r.RebuildGrid=function(n,t){r.UpdateGridLayout(n,t);(null==t.config.maintainColumnRatios||t.config.maintainColumnRatios)&&t.configureColumnWidths();n.adjustScrollLeft(t.$viewport.scrollLeft());r.BuildStyles(n,t,!0)},r.digest=function(n){n.$root.$$phase||n.$digest()},r.ScrollH=17,r.ScrollW=17,r.LetterW=10,f(),r}]);angular.module("ngGrid.services").factory("$sortService",["$parse","$utilityService",function(n,t){var i={};return i.colSortFnCache={},i.isCustomSort=!1,i.guessSortFn=function(n){var t=typeof n;switch(t){case"number":return i.sortNumber;case"boolean":return i.sortBool;case"string":return n.match(/^[-+]?[$]?[\d,.]+%?$/)?i.sortNumberStr:i.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(n)?i.sortDate:i.basicSort}},i.basicSort=function(n,t){return n===t?0:t>n?-1:1},i.sortNumber=function(n,t){return n-t},i.sortNumberStr=function(n,t){var i,r,u=!1,f=!1;return i=parseFloat(n.replace(/[^0-9.-]/g,"")),isNaN(i)&&(u=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(f=!0),u&&f?0:u?1:f?-1:i-r},i.sortAlpha=function(n,t){var i=n.toLowerCase(),r=t.toLowerCase();return i===r?0:r>i?-1:1},i.sortDate=function(n,t){var i=n.getTime(),r=t.getTime();return i===r?0:r>i?-1:1},i.sortBool=function(n,t){return n&&t?0:n||t?n?1:-1:0},i.sortData=function(n,r){if(r&&n){var f,u,s=n.fields.length,e=n.fields,h=r.slice(0);r.sort(function(r,c){for(var v,w,y,p,l=0,a=0;0===l&&s>a;)f=n.columns[a],u=n.directions[a],w=i.getSortFn(f,h),y=t.evalProperty(r,e[a]),p=t.evalProperty(c,e[a]),i.isCustomSort?(v=w(y,p),l=u===o?v:0-v):null==y||null==p?null==p&&null==y?l=0:null==y?l=1:null==p&&(l=-1):(v=w(y,p),l=u===o?v:0-v),a++;return l})}},i.Sort=function(n,t){i.isSorting||(i.isSorting=!0,i.sortData(n,t),i.isSorting=!1)},i.getSortFn=function(t,r){var u,f;if(i.colSortFnCache[t.field])u=i.colSortFnCache[t.field];else if(void 0!==t.sortingAlgorithm)u=t.sortingAlgorithm,i.colSortFnCache[t.field]=t.sortingAlgorithm,i.isCustomSort=!0;else{if(f=r[0],!f)return u;u=i.guessSortFn(n("entity['"+t.field.replace(nt,"']['")+"']")({entity:f}));u?i.colSortFnCache[t.field]=u:u=i.sortAlpha}return u},i}]);angular.module("ngGrid.services").factory("$utilityService",["$parse",function(i){var r=/function (.{1,})\(/;return{visualLength:function(n){var i=document.getElementById("testDataLength"),r,u;return i||(i=document.createElement("SPAN"),i.id="testDataLength",i.style.visibility="hidden",document.body.appendChild(i)),r=t(n),t(i).css({font:r.css("font"),"font-size":r.css("font-size"),"font-family":r.css("font-family")}),i.innerHTML=r.text(),u=i.offsetWidth,document.body.removeChild(i),u},forIn:function(n,t){for(var i in n)n.hasOwnProperty(i)&&t(n[i],i)},endsWith:function(n,t){return n&&t&&"string"==typeof n?-1!==n.indexOf(t,n.length-t.length):!1},isNullOrUndefined:function(n){return void 0===n||null===n?!0:!1},getElementsByClassName:function(n){var u;if(document.getElementsByClassName)return document.getElementsByClassName(n);for(var r=[],f=RegExp("\\b"+n+"\\b"),i=document.getElementsByTagName("*"),t=0;i.length>t;t++)u=i[t].className,f.test(u)&&r.push(i[t]);return r},newId:function(){var n=(new Date).getTime();return function(){return n+=1}}(),seti18n:function(t,i){var u=n.ngGrid.i18n[i],r;for(r in u)t.i18n[r]=u[r]},getInstanceType:function(n){var t=r.exec(""+n.constructor);return t&&t.length>1?t[1].replace(/^\s+|\s+$/g,""):""},init:function(){function n(t){var i=ot.exec(t),r,u;return i?(i[1]?n(i[1]):i[1])+i[2]+(i[3]?n(i[3]):i[3]):(t=t.replace(et,"\\'"),r=t.split(nt),u=[r.shift()],angular.forEach(r,function(n){u.push(n.replace(ft,"']$1"))}),u.join("['"))}return this.preEval=n,this.evalProperty=function(t,r){return i(n("entity."+r))({entity:t})},delete this.init,this}}.init()}]);u=function(n,t,i,r){this.rowIndex=0;this.offsetTop=this.rowIndex*i;this.entity=n;this.label=n.gLabel;this.field=n.gField;this.depth=n.gDepth;this.parent=n.parent;this.children=n.children;this.aggChildren=n.aggChildren;this.aggIndex=n.aggIndex;this.collapsed=r;this.groupInitState=r;this.rowFactory=t;this.rowHeight=i;this.isAggRow=!0;this.offsetLeft=25*n.gDepth;this.aggLabelFilter=n.aggLabelFilter};u.prototype.toggleExpand=function(){this.collapsed=this.collapsed?!1:!0;this.orig&&(this.orig.collapsed=this.collapsed);this.notifyChildren()};u.prototype.setExpand=function(n){this.collapsed=n;this.orig&&(this.orig.collapsed=n);this.notifyChildren()};u.prototype.notifyChildren=function(){for(var t,i,r=Math.max(this.rowFactory.aggCache.length,this.children.length),n=0;r>n;n++)(this.aggChildren[n]&&(this.aggChildren[n].entity[e]=this.collapsed,this.collapsed&&this.aggChildren[n].setExpand(this.collapsed)),this.children[n]&&(this.children[n][e]=this.collapsed),n>this.aggIndex&&this.rowFactory.aggCache[n])&&(t=this.rowFactory.aggCache[n],i=30*this.children.length,t.offsetTop=this.collapsed?t.offsetTop-i:t.offsetTop+i);this.rowFactory.renderedChange()};u.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"};u.prototype.totalChildren=function(){if(this.aggChildren.length>0){var n=0,t=function(i){i.aggChildren.length>0?angular.forEach(i.aggChildren,function(n){t(n)}):n+=i.children.length};return t(this),n}return this.children.length};u.prototype.copy=function(){var n=new u(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return n.orig=this,n};var a=function(n,i,r,u,f,e){var s=this,h=n.colDef,p=500,c=0,v=null;s.colDef=n.colDef;s.width=h.width;s.groupIndex=0;s.isGroupedBy=!1;s.minWidth=h.minWidth?h.minWidth:50;s.maxWidth=h.maxWidth?h.maxWidth:9e3;s.enableCellEdit=void 0!==h.enableCellEdit?h.enableCellEdit:n.enableCellEdit||n.enableCellEditOnFocus;s.cellEditableCondition=h.cellEditableCondition||n.cellEditableCondition||"true";s.headerRowHeight=n.headerRowHeight;s.displayName=void 0===h.displayName?h.field:h.displayName;s.index=n.index;s.isAggCol=n.isAggCol;s.cellClass=h.cellClass;s.sortPriority=void 0;s.cellFilter=h.cellFilter?h.cellFilter:"";s.field=h.field;s.aggLabelFilter=h.aggLabelFilter||h.cellFilter;s.visible=e.isNullOrUndefined(h.visible)||h.visible;s.sortable=!1;s.resizable=!1;s.pinnable=!1;s.pinned=n.enablePinning&&h.pinned;s.originalIndex=null==n.originalIndex?s.index:n.originalIndex;s.groupable=e.isNullOrUndefined(h.groupable)||h.groupable;n.enableSort&&(s.sortable=e.isNullOrUndefined(h.sortable)||h.sortable);n.enableResize&&(s.resizable=e.isNullOrUndefined(h.resizable)||h.resizable);n.enablePinning&&(s.pinnable=e.isNullOrUndefined(h.pinnable)||h.pinnable);s.sortDirection=void 0;s.sortingAlgorithm=h.sortFn;s.headerClass=h.headerClass;s.cursor=s.sortable?"pointer":"default";s.headerCellTemplate=h.headerCellTemplate||f.get("headerCellTemplate.html");s.cellTemplate=h.cellTemplate||f.get("cellTemplate.html").replace(y,s.cellFilter?"|"+s.cellFilter:"");s.enableCellEdit&&(s.cellEditTemplate=h.cellEditTemplate||f.get("cellEditTemplate.html"),s.editableCellTemplate=h.editableCellTemplate||f.get("editableCellTemplate.html"));h.cellTemplate&&!l.test(h.cellTemplate)&&(s.cellTemplate=f.get(h.cellTemplate)||t.ajax({type:"GET",url:h.cellTemplate,async:!1}).responseText);s.enableCellEdit&&h.editableCellTemplate&&!l.test(h.editableCellTemplate)&&(s.editableCellTemplate=f.get(h.editableCellTemplate)||t.ajax({type:"GET",url:h.editableCellTemplate,async:!1}).responseText);h.headerCellTemplate&&!l.test(h.headerCellTemplate)&&(s.headerCellTemplate=f.get(h.headerCellTemplate)||t.ajax({type:"GET",url:h.headerCellTemplate,async:!1}).responseText);s.colIndex=function(){var n=s.pinned?"pinned ":"";return n+="col"+s.index+" colt"+s.index,s.cellClass&&(n+=" "+s.cellClass),n};s.groupedByClass=function(){return s.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"};s.toggleVisible=function(){s.visible=!s.visible};s.showSortButtonUp=function(){return s.sortable?s.sortDirection===d:s.sortable};s.showSortButtonDown=function(){return s.sortable?s.sortDirection===o:s.sortable};s.noSortVisible=function(){return!s.sortDirection};s.sort=function(t){if(!s.sortable)return!0;var i=s.sortDirection===o?d:o;return s.sortDirection=i,n.sortCallback(s,t),!1};s.gripClick=function(){c++;1===c?v=setTimeout(function(){c=0},p):(clearTimeout(v),n.resizeOnDataCallback(s),c=0)};s.gripOnMouseDown=function(n){return i.isColumnResizing=!0,n.ctrlKey&&!s.pinned?(s.toggleVisible(),u.BuildStyles(i,r),!0):(n.target.parentElement.style.cursor="col-resize",s.startMousePosition=n.clientX,s.origWidth=s.width,t(document).mousemove(s.onMouseMove),t(document).mouseup(s.gripOnMouseUp),!1)};s.onMouseMove=function(n){var f=n.clientX-s.startMousePosition,t=f+s.origWidth;return s.width=s.minWidth>t?s.minWidth:t>s.maxWidth?s.maxWidth:t,i.hasUserChangedGridColumnWidths=!0,u.BuildStyles(i,r),!1};s.gripOnMouseUp=function(n){return t(document).off("mousemove",s.onMouseMove),t(document).off("mouseup",s.gripOnMouseUp),n.target.parentElement.style.cursor="default",u.digest(i),i.isColumnResizing=!1,!1};s.copy=function(){var t=new a(n,i,r,u,f,e);return t.isClone=!0,t.orig=s,t};s.setVars=function(n){s.orig=n;s.width=n.width;s.groupIndex=n.groupIndex;s.isGroupedBy=n.isGroupedBy;s.displayName=n.displayName;s.index=n.index;s.isAggCol=n.isAggCol;s.cellClass=n.cellClass;s.cellFilter=n.cellFilter;s.field=n.field;s.aggLabelFilter=n.aggLabelFilter;s.visible=n.visible;s.sortable=n.sortable;s.resizable=n.resizable;s.pinnable=n.pinnable;s.pinned=n.pinned;s.originalIndex=n.originalIndex;s.sortDirection=n.sortDirection;s.sortingAlgorithm=n.sortingAlgorithm;s.headerClass=n.headerClass;s.headerCellTemplate=n.headerCellTemplate;s.cellTemplate=n.cellTemplate;s.cellEditTemplate=n.cellEditTemplate}},w=function(n){this.outerHeight=null;this.outerWidth=null;t.extend(this,n)},v=function(n){this.previousColumn=null;this.grid=n};v.prototype.changeUserSelect=function(n,t){n.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"===t?"-moz-none":t,"-ms-user-select":t,"user-select":t})};v.prototype.focusCellElement=function(n,t){var u,f,r,i;n.selectionProvider.lastClickedRow&&(u=void 0!==t?t:this.previousColumn,f=n.selectionProvider.lastClickedRow.clone?n.selectionProvider.lastClickedRow.clone.elm:n.selectionProvider.lastClickedRow.elm,void 0!==u&&f&&(r=angular.element(f[0].children).filter(function(){return 8!==this.nodeType}),i=Math.max(Math.min(n.renderedColumns.length-1,u),0),this.grid.config.showSelectionCheckbox&&angular.element(r[i]).scope()&&0===angular.element(r[i]).scope().col.index&&(i=1),r[i]&&r[i].children[1].children[0].focus(),this.previousColumn=u))};v.prototype.selectionHandlers=function(n,t){function u(u){if(16===u.keyCode)return r.changeUserSelect(t,"none",u),!0;if(!i){i=!0;var f=tt(n,t,u,r.grid);return i=!1,f}return!0}function f(n){return 16===n.keyCode&&r.changeUserSelect(t,"text",n),!0}var i=!1,r=this;t.bind("keydown",u);t.bind("keyup",f);t.on("$destroy",function(){t.off("keydown",u);t.off("keyup",f)})};var st=function(i,r,u,f){var e=this;e.colToMove=void 0;e.groupToMove=void 0;e.assignEvents=function(){i.config.jqueryUIDraggable&&!i.config.enablePinning?(i.$groupPanel.droppable({addClasses:!1,drop:function(n){e.onGroupDrop(n)}}),i.$groupPanel.on("$destroy",function(){i.$groupPanel=null})):(i.$groupPanel.on("mousedown",e.onGroupMouseDown).on("dragover",e.dragOver).on("drop",e.onGroupDrop),i.$topPanel.on("mousedown",".ngHeaderScroller",e.onHeaderMouseDown).on("dragover",".ngHeaderScroller",e.dragOver),i.$groupPanel.on("$destroy",function(){i.$groupPanel&&i.$groupPanel.off("mousedown");i.$groupPanel=null}),i.config.enableColumnReordering&&i.$topPanel.on("drop",".ngHeaderScroller",e.onHeaderDrop),i.$topPanel.on("$destroy",function(){i.$topPanel&&i.$topPanel.off("mousedown");i.config.enableColumnReordering&&i.$topPanel&&i.$topPanel.off("drop");i.$topPanel=null}));r.$on("$destroy",r.$watch("renderedColumns",function(){f(e.setDraggables)}))};e.dragStart=function(n){n.dataTransfer.setData("text","")};e.dragOver=function(n){n.preventDefault()};e.setDraggables=function(){var t,n;i.config.jqueryUIDraggable?i.$root&&i.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(n){e.onHeaderMouseDown(n)}}).droppable({drop:function(n){e.onHeaderDrop(n)}}):i.$root&&(t=i.$root.find(".ngHeaderSortColumn"),(angular.forEach(t,function(n){n.className&&-1!==n.className.indexOf("ngHeaderSortColumn")&&(n.setAttribute("draggable","true"),n.addEventListener&&(n.addEventListener("dragstart",e.dragStart),angular.element(n).on("$destroy",function(){angular.element(n).off("dragstart",e.dragStart);n.removeEventListener("dragstart",e.dragStart)})))}),-1!==navigator.userAgent.indexOf("MSIE"))&&(n=i.$root.find(".ngHeaderSortColumn"),n.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(n).on("$destroy",function(){n.off("selectstart")})))};e.onGroupMouseDown=function(n){var r=t(n.target),u;"ngRemoveGroup"!==r[0].className?(u=angular.element(r).scope(),u&&(i.config.jqueryUIDraggable||(r.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",e.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",e.dragStart)})),-1!==navigator.userAgent.indexOf("MSIE")&&(r.bind("selectstart",function(){return this.dragDrop(),!1}),r.on("$destroy",function(){r.off("selectstart")}))),e.groupToMove={header:r,groupName:u.group,index:u.$index})):e.groupToMove=void 0};e.onGroupDrop=function(n){n.stopPropagation();var u,f;e.groupToMove?(u=t(n.target).closest(".ngGroupElement"),"ngGroupPanel"===u.context.className?(r.configGroups.splice(e.groupToMove.index,1),r.configGroups.push(e.groupToMove.groupName)):(f=angular.element(u).scope(),f&&e.groupToMove.index!==f.$index&&(r.configGroups.splice(e.groupToMove.index,1),r.configGroups.splice(f.$index,0,e.groupToMove.groupName))),e.groupToMove=void 0,i.fixGroupIndexes()):e.colToMove&&(-1===r.configGroups.indexOf(e.colToMove.col)&&(u=t(n.target).closest(".ngGroupElement"),"ngGroupPanel"===u.context.className||"ngGroupPanelDescription ng-binding"===u.context.className?r.groupBy(e.colToMove.col):(f=angular.element(u).scope(),f&&r.removeGroup(f.$index))),e.colToMove=void 0);r.$$phase||r.$apply()};e.onHeaderMouseDown=function(n){var i=t(n.target).closest(".ngHeaderSortColumn"),r=angular.element(i).scope();r&&(e.colToMove={header:i,col:r.col})};e.onHeaderDrop=function(n){if(e.colToMove&&!e.colToMove.col.pinned){var o=t(n.target).closest(".ngHeaderSortColumn"),f=angular.element(o).scope();if(f){if(e.colToMove.col===f.col||f.col.pinned)return;r.columns.splice(e.colToMove.col.index,1);r.columns.splice(f.col.index,0,e.colToMove.col);i.fixColumnIndexes();e.colToMove=void 0;u.digest(r)}}};e.assignGridEventHandlers=function(){var e,f,o,s;-1===i.config.tabIndex?(i.$viewport.attr("tabIndex",u.numberOfGrids),u.numberOfGrids++):i.$viewport.attr("tabIndex",i.config.tabIndex);f=function(){clearTimeout(e);e=setTimeout(function(){u.RebuildGrid(r,i)},100)};t(n).on("resize.nggrid",f);s=function(){clearTimeout(o);o=setTimeout(function(){u.RebuildGrid(r,i)},100)};t(i.$root.parent()).on("resize.nggrid",s);r.$on("$destroy",function(){t(n).off("resize.nggrid",f)})};e.assignGridEventHandlers();e.assignEvents()},ht=function(n,t){n.maxRows=function(){return Math.max(n.totalServerItems,t.data.length)};n.$on("$destroy",n.$watch("totalServerItems",function(){n.currentMaxPages=n.maxPages()}));n.multiSelect=t.config.enableRowSelection&&t.config.multiSelect;n.selectedItemCount=t.selectedItemCount;n.maxPages=function(){return 0===n.maxRows()?1:Math.ceil(n.maxRows()/n.pagingOptions.pageSize)};n.pageForward=function(){var t=n.pagingOptions.currentPage;n.totalServerItems>0?n.pagingOptions.currentPage=Math.min(t+1,n.maxPages()):n.pagingOptions.currentPage++};n.pageBackward=function(){var t=n.pagingOptions.currentPage;n.pagingOptions.currentPage=Math.max(t-1,1)};n.pageToFirst=function(){n.pagingOptions.currentPage=1};n.pageToLast=function(){var t=n.maxPages();n.pagingOptions.currentPage=t};n.cantPageForward=function(){var i=n.pagingOptions.currentPage,r=n.maxPages();return n.totalServerItems>0?i>=r:1>t.data.length};n.cantPageToLast=function(){return n.totalServerItems>0?n.cantPageForward():!0};n.cantPageBackward=function(){var t=n.pagingOptions.currentPage;return 1>=t}},ct=function(i,r,u,o,s,h,c,y,p,d,g){var tt={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectionCheckboxColumnWidth:25,selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1},nt=this;nt.maxCanvasHt=0;nt.config=t.extend(tt,n.ngGrid.config,r);nt.config.showSelectionCheckbox=nt.config.showSelectionCheckbox&&nt.config.enableColumnHeavyVirt===!1;nt.config.enablePinning=nt.config.enablePinning&&nt.config.enableColumnHeavyVirt===!1;nt.config.selectWithCheckboxOnly=nt.config.selectWithCheckboxOnly&&nt.config.showSelectionCheckbox!==!1;nt.config.pinSelectionCheckbox=nt.config.enablePinning;"string"==typeof r.columnDefs&&(nt.config.columnDefs=i.$eval(r.columnDefs));nt.rowCache=[];nt.rowMap=[];nt.gridId="ng"+c.newId();nt.$root=null;nt.$groupPanel=null;nt.$topPanel=null;nt.$headerContainer=null;nt.$headerScroller=null;nt.$headers=null;nt.$viewport=null;nt.$canvas=null;nt.rootDim=nt.config.gridDim;nt.data=[];nt.lateBindColumns=!1;nt.filteredRows=[];nt.initTemplates=function(){var n=[];return angular.forEach(["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],function(t){n.push(nt.getTemplate(t))}),g.all(n)};nt.getTemplate=function(n){var t=nt.config[n],r=nt.gridId+n+".html",i=g.defer(),u;return t&&!l.test(t)?d.get(t,{cache:h}).success(function(n){h.put(r,n);i.resolve()}).error(function(){i.reject("Could not load template: "+t)}):t?(h.put(r,t),i.resolve()):(u=n+".html",h.put(r,h.get(u)),i.resolve()),i.promise};"object"==typeof nt.config.data&&(nt.data=nt.config.data);nt.calcMaxCanvasHeight=function(){return nt.config.groups.length>0?nt.rowFactory.parsedData.filter(function(n){return!n[e]}).length*nt.config.rowHeight:nt.filteredRows.length*nt.config.rowHeight};nt.elementDims={scrollW:0,scrollH:0,rowIndexCellW:nt.config.selectionCheckboxColumnWidth,rowSelectedCellW:nt.config.selectionCheckboxColumnWidth,rootMaxW:0,rootMaxH:0};nt.setRenderedRows=function(n){i.renderedRows.length=n.length;for(var t=0;n.length>t;t++)!i.renderedRows[t]||n[t].isAggRow||i.renderedRows[t].isAggRow?(i.renderedRows[t]=n[t].copy(),i.renderedRows[t].collapsed=n[t].collapsed,n[t].isAggRow||i.renderedRows[t].setVars(n[t])):i.renderedRows[t].setVars(n[t]),i.renderedRows[t].rowIndex=n[t].rowIndex,i.renderedRows[t].offsetTop=n[t].offsetTop,i.renderedRows[t].selected=n[t].selected,n[t].renderedRowIndex=t;nt.refreshDomSizes();i.$emit("ngGridEventRows",n)};nt.minRowsToRender=function(){var n=i.viewportDimHeight()||1;return Math.floor(n/nt.config.rowHeight)};nt.refreshDomSizes=function(){var n=new w;n.outerWidth=nt.elementDims.rootMaxW;n.outerHeight=nt.elementDims.rootMaxH;nt.rootDim=n;nt.maxCanvasHt=nt.calcMaxCanvasHeight()};nt.buildColumnDefsFromData=function(){nt.config.columnDefs=[];var n=nt.data[0];return n?(c.forIn(n,function(n,t){-1===nt.config.excludeProperties.indexOf(t)&&nt.config.columnDefs.push({field:t})}),void 0):(nt.lateBoundColumns=!0,void 0)};nt.buildColumns=function(){var n=nt.config.columnDefs,t=[],r,u;(n||(nt.buildColumnDefsFromData(),n=nt.config.columnDefs),nt.config.showSelectionCheckbox&&t.push(new a({colDef:{field:"",width:nt.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:h.get(i.gridId+"checkboxHeaderTemplate.html"),cellTemplate:h.get(i.gridId+"checkboxCellTemplate.html"),pinned:nt.config.pinSelectionCheckbox},index:0,headerRowHeight:nt.config.headerRowHeight,sortCallback:nt.sortData,resizeOnDataCallback:nt.resizeOnData,enableResize:nt.config.enableColumnResize,enableSort:nt.config.enableSorting,enablePinning:nt.config.enablePinning},i,nt,o,h,c)),n.length>0)&&(r=nt.config.showSelectionCheckbox?1:0,u=i.configGroups.length,i.configGroups.length=0,angular.forEach(n,function(n,f){f+=r;var e=new a({colDef:n,index:f+u,originalIndex:f,headerRowHeight:nt.config.headerRowHeight,sortCallback:nt.sortData,resizeOnDataCallback:nt.resizeOnData,enableResize:nt.config.enableColumnResize,enableSort:nt.config.enableSorting,enablePinning:nt.config.enablePinning,enableCellEdit:nt.config.enableCellEdit||nt.config.enableCellEditOnFocus,cellEditableCondition:nt.config.cellEditableCondition},i,nt,o,h,c),s=nt.config.groups.indexOf(n.field);-1!==s&&(e.isGroupedBy=!0,i.configGroups.splice(s,0,e),e.groupIndex=i.configGroups.length);t.push(e)}),i.columns=t,nt.config.groups.length>0&&nt.rowFactory.getGrouping(nt.config.groups))};nt.configureColumnWidths=function(){var u=[],f=[],h=0,n=0,t={},r,e,l,s,a;(angular.forEach(i.columns,function(i,r){if(c.isNullOrUndefined(i.originalIndex))i.isAggCol&&i.visible&&(n+=25);else{var u=i.originalIndex;nt.config.showSelectionCheckbox&&(0===i.originalIndex&&i.visible&&(n+=nt.config.selectionCheckboxColumnWidth),u--);t[u]=r}}),angular.forEach(nt.config.columnDefs,function(r,e){var o=i.columns[t[e]],s,l,a;if(r.index=e,l=!1,c.isNullOrUndefined(r.width)?r.width="*":(l=isNaN(r.width)?c.endsWith(r.width,"%"):!1,s=l?r.width:parseInt(r.width,10)),isNaN(s)){if(s=r.width,"auto"===s)return o.width=o.minWidth,n+=o.width,a=o,i.$on("$destroy",i.$on("ngGridEventData",function(){nt.resizeOnData(a)})),void 0;if(-1!==s.indexOf("*"))return o.visible!==!1&&(h+=s.length),u.push(r),void 0;if(l)return f.push(r),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid';}o.visible!==!1&&(n+=o.width=parseInt(o.width,10))}),f.length>0)&&(nt.config.maintainColumnRatios=nt.config.maintainColumnRatios!==!1,r=0,e=0,angular.forEach(f,function(n){var f=i.columns[t[n.index]],u=parseFloat(n.width)/100;r+=u;f.visible||(e+=u)}),l=r-e,angular.forEach(f,function(u){var f=i.columns[t[u.index]],o=parseFloat(u.width)/100,s;o/=e>0?l:r;s=nt.rootDim.outerWidth*r;f.width=s*o;n+=f.width}));u.length>0&&(nt.config.maintainColumnRatios=nt.config.maintainColumnRatios!==!1,s=nt.rootDim.outerWidth-n,nt.maxCanvasHt>i.viewportDimHeight()&&(s-=o.ScrollW),a=Math.floor(s/h),angular.forEach(u,function(r,f){var e=i.columns[t[r.index]],h,s;e.width=a*r.width.length;e.width<e.minWidth&&(e.width=e.minWidth);e.visible!==!1&&(n+=e.width);h=f===u.length-1;h&&nt.rootDim.outerWidth>n&&(s=nt.rootDim.outerWidth-n,nt.maxCanvasHt>i.viewportDimHeight()&&(s-=o.ScrollW),e.width+=s)}))};nt.init=function(){return nt.initTemplates().then(function(){i.selectionProvider=new vt(nt,i,p,c);i.domAccessProvider=new v(nt);nt.rowFactory=new lt(nt,i,o,h,c);nt.searchProvider=new at(i,nt,s,c);nt.styleProvider=new yt(i,nt);i.$on("$destroy",i.$watch("configGroups",function(n){var t=[];angular.forEach(n,function(n){t.push(n.field||n)});nt.config.groups=t;nt.rowFactory.filteredRowsChanged();i.$emit("ngGridEventGroups",n)},!0));i.$on("$destroy",i.$watch("columns",function(n){i.isColumnResizing||o.RebuildGrid(i,nt);i.$emit("ngGridEventColumns",n)},!0));i.$on("$destroy",i.$watch(function(){return r.i18n},function(n){c.seti18n(i,n)}));nt.maxCanvasHt=nt.calcMaxCanvasHeight();nt.config.sortInfo.fields&&nt.config.sortInfo.fields.length>0&&i.$on("$destroy",i.$watch(function(){return nt.config.sortInfo},function(){u.isSorting||(nt.sortColumnsInit(),i.$emit("ngGridEventSorted",nt.config.sortInfo))},!0))})};nt.resizeOnData=function(n){var r=n.minWidth,u=c.getElementsByClassName("col"+n.index);angular.forEach(u,function(n,i){var u,f,e;0===i?(f=t(n).find(".ngHeaderText"),u=c.visualLength(f)+10):(e=t(n).find(".ngCellText"),u=c.visualLength(e)+10);u>r&&(r=u)});n.width=n.longest=Math.min(n.maxWidth,r+7);o.BuildStyles(i,nt,!0)};nt.lastSortedColumns=[];nt.sortData=function(n,r){var u,e,f;r&&r.shiftKey&&nt.config.sortInfo?(u=nt.config.sortInfo.columns.indexOf(n),-1===u?(1===nt.config.sortInfo.columns.length&&(nt.config.sortInfo.columns[0].sortPriority=1),nt.config.sortInfo.columns.push(n),n.sortPriority=nt.config.sortInfo.columns.length,nt.config.sortInfo.fields.push(n.field),nt.config.sortInfo.directions.push(n.sortDirection),nt.lastSortedColumns.push(n)):nt.config.sortInfo.directions[u]=n.sortDirection,i.$emit("ngGridEventSorted",nt.config.sortInfo)):(!nt.config.useExternalSorting||nt.config.useExternalSorting&&nt.config.sortInfo)&&(e=t.isArray(n),nt.config.sortInfo.columns.length=0,nt.config.sortInfo.fields.length=0,nt.config.sortInfo.directions.length=0,f=function(n){nt.config.sortInfo.columns.push(n);nt.config.sortInfo.fields.push(n.field);nt.config.sortInfo.directions.push(n.sortDirection);nt.lastSortedColumns.push(n)},e?angular.forEach(n,function(n,t){n.sortPriority=t+1;f(n)}):(nt.clearSortingData(n),n.sortPriority=void 0,f(n)),nt.sortActual(),nt.searchProvider.evalFilter(),i.$emit("ngGridEventSorted",nt.config.sortInfo))};nt.sortColumnsInit=function(){nt.config.sortInfo.columns?nt.config.sortInfo.columns.length=0:nt.config.sortInfo.columns=[];var n=[];angular.forEach(i.columns,function(t){var i=nt.config.sortInfo.fields.indexOf(t.field);-1!==i&&(t.sortDirection=nt.config.sortInfo.directions[i]||"asc",n[i]=t)});1===n.length?nt.sortData(n[0]):nt.sortData(n)};nt.sortActual=function(){if(!nt.config.useExternalSorting){var n=nt.data.slice(0);angular.forEach(n,function(n,t){var r=nt.rowMap[t],i;void 0!==r&&(i=nt.rowCache[r],void 0!==i&&(n.preSortSelected=i.selected,n.preSortIndex=t))});u.Sort(nt.config.sortInfo,n);angular.forEach(n,function(n,t){nt.rowCache[t].entity=n;nt.rowCache[t].selected=n.preSortSelected;nt.rowMap[n.preSortIndex]=t;delete n.preSortSelected;delete n.preSortIndex})}};nt.clearSortingData=function(n){n?(angular.forEach(nt.lastSortedColumns,function(t){n.index!==t.index&&(t.sortDirection="",t.sortPriority=null)}),nt.lastSortedColumns[0]=n,nt.lastSortedColumns.length=1):(angular.forEach(nt.lastSortedColumns,function(n){n.sortDirection="";n.sortPriority=null}),nt.lastSortedColumns=[])};nt.fixColumnIndexes=function(){for(var n=0;i.columns.length>n;n++)i.columns[n].index=n};nt.fixGroupIndexes=function(){angular.forEach(i.configGroups,function(n,t){n.groupIndex=t+1})};i.elementsNeedMeasuring=!0;i.columns=[];i.renderedRows=[];i.renderedColumns=[];i.headerRow=null;i.rowHeight=nt.config.rowHeight;i.jqueryUITheme=nt.config.jqueryUITheme;i.showSelectionCheckbox=nt.config.showSelectionCheckbox;i.enableCellSelection=nt.config.enableCellSelection;i.enableCellEditOnFocus=nt.config.enableCellEditOnFocus;i.footer=null;i.selectedItems=nt.config.selectedItems;i.multiSelect=nt.config.multiSelect;i.showFooter=nt.config.showFooter;i.footerRowHeight=i.showFooter?nt.config.footerRowHeight:0;i.showColumnMenu=nt.config.showColumnMenu;i.forceSyncScrolling=nt.config.forceSyncScrolling;i.showMenu=!1;i.configGroups=[];i.gridId=nt.gridId;i.enablePaging=nt.config.enablePaging;i.pagingOptions=nt.config.pagingOptions;i.i18n={};c.seti18n(i,nt.config.i18n);i.adjustScrollLeft=function(n){for(var t,l,a,f=0,e=0,v=i.columns.length,s=[],h=!nt.config.enableColumnHeavyVirt,r=0,c=function(n){h?s.push(n):i.renderedColumns[r]?i.renderedColumns[r].setVars(n):i.renderedColumns[r]=n.copy();r++},u=0;v>u;u++)t=i.columns[u],t.visible!==!1&&(l=t.width+f,t.pinned?(c(t),a=u>0?n+e:n,o.setColLeft(t,a,nt),e+=t.width):l>=n&&n+nt.rootDim.outerWidth>=f&&c(t),f+=t.width);h&&(i.renderedColumns=s)};nt.prevScrollTop=0;nt.prevScrollIndex=0;i.adjustScrollTop=function(n,t){var u,r,e;if(nt.prevScrollTop!==n||t){if(n>0&&nt.$viewport[0].scrollHeight-n<=nt.$viewport.outerHeight()&&i.$emit("ngGridEventScroll"),r=Math.floor(n/nt.config.rowHeight),nt.filteredRows.length>nt.config.virtualizationThreshold){if(n>nt.prevScrollTop&&nt.prevScrollIndex+k>r)return;if(nt.prevScrollTop>n&&r>nt.prevScrollIndex-k)return;u=new b(Math.max(0,r-f),r+nt.minRowsToRender()+f)}else e=i.configGroups.length>0?nt.rowFactory.parsedData.length:nt.filteredRows.length,u=new b(0,Math.max(e,nt.minRowsToRender()+f));nt.prevScrollTop=n;nt.rowFactory.UpdateViewableRange(u);nt.prevScrollIndex=r}};i.toggleShowMenu=function(){i.showMenu=!i.showMenu};i.toggleSelectAll=function(n,t){i.selectionProvider.toggleSelectAll(n,!1,t)};i.totalFilteredItemsLength=function(){return nt.filteredRows.length};i.showGroupPanel=function(){return nt.config.showGroupPanel};i.topPanelHeight=function(){return nt.config.showGroupPanel===!0?nt.config.headerRowHeight+32:nt.config.headerRowHeight};i.viewportDimHeight=function(){return Math.max(0,nt.rootDim.outerHeight-i.topPanelHeight()-i.footerRowHeight-2)};i.groupBy=function(n){if(!(1>nt.data.length)&&n.groupable&&n.field){n.sortDirection||n.sort({shiftKey:i.configGroups.length>0?!0:!1});var t=i.configGroups.indexOf(n);-1===t?(n.isGroupedBy=!0,i.configGroups.push(n),n.groupIndex=i.configGroups.length):i.removeGroup(t);nt.$viewport.scrollTop(0);o.digest(i)}};i.removeGroup=function(n){var t=i.columns.filter(function(t){return t.groupIndex===n+1})[0];t.isGroupedBy=!1;t.groupIndex=0;i.columns[n].isAggCol&&(i.columns.splice(n,1),i.configGroups.splice(n,1),nt.fixGroupIndexes());0===i.configGroups.length&&(nt.fixColumnIndexes(),o.digest(i));i.adjustScrollLeft(0)};i.togglePin=function(n){for(var u=n.index,t=0,r=0;i.columns.length>r&&i.columns[r].pinned;r++)t++;n.pinned&&(t=Math.max(n.originalIndex,t-1));n.pinned=!n.pinned;i.columns.splice(u,1);i.columns.splice(t,0,n);nt.fixColumnIndexes();o.BuildStyles(i,nt,!0);nt.$viewport.scrollLeft(nt.$viewport.scrollLeft()-n.width)};i.totalRowWidth=function(){for(var r=0,t=i.columns,n=0;t.length>n;n++)t[n].visible!==!1&&(r+=t[n].width);return r};i.headerScrollerDim=function(){var t=i.viewportDimHeight(),r=nt.maxCanvasHt,u=r>t,n=new w;return n.autoFitHeight=!0,n.outerWidth=i.totalRowWidth(),u?n.outerWidth+=nt.elementDims.scrollW:nt.elementDims.scrollH>=r-t&&(n.outerWidth+=nt.elementDims.scrollW),n}},b=function(n,t){this.topRow=n;this.bottomRow=t},r=function(n,t,i,r,u){this.entity=n;this.config=t;this.selectionProvider=i;this.rowIndex=r;this.utils=u;this.selected=i.getSelection(n);this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default";this.beforeSelectionChange=t.beforeSelectionChangeCallback;this.afterSelectionChange=t.afterSelectionChangeCallback;this.offsetTop=this.rowIndex*t.rowHeight;this.rowDisplayIndex=0};r.prototype.setSelection=function(n){this.selectionProvider.setSelection(this,n);this.selectionProvider.lastClickedRow=this};r.prototype.continueSelection=function(n){this.selectionProvider.ChangeSelection(this,n)};r.prototype.ensureEntity=function(n){this.entity!==n&&(this.entity=n,this.selected=this.selectionProvider.getSelection(this.entity))};r.prototype.toggleSelected=function(n){if(!this.config.enableRowSelection&&!this.config.enableCellSelection)return!0;var t=n.target||n;return"checkbox"===t.type&&"ngSelectionCell ng-scope"!==t.parentElement.className?!0:this.config.selectWithCheckboxOnly&&"checkbox"!==t.type?(this.selectionProvider.lastClickedRow=this,!0):(this.beforeSelectionChange(this,n)&&this.continueSelection(n),!1)};r.prototype.alternatingRowClass=function(){var n=0==this.rowIndex%2;return{ngRow:!0,selected:this.selected,even:n,odd:!n,"ui-state-default":this.config.jqueryUITheme&&n,"ui-state-active":this.config.jqueryUITheme&&!n}};r.prototype.getProperty=function(n){return this.utils.evalProperty(this.entity,n)};r.prototype.copy=function(){return this.clone=new r(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone};r.prototype.setVars=function(n){n.clone=this;this.entity=n.entity;this.selected=n.selected;this.orig=n};var lt=function(n,t,i,o,l){var v=this;v.aggCache={};v.parentCache=[];v.dataChanged=!0;v.parsedData=[];v.rowConfig={};v.selectionProvider=t.selectionProvider;v.rowHeight=30;v.numberOfAggregates=0;v.groupedData=void 0;v.rowHeight=n.config.rowHeight;v.rowConfig={enableRowSelection:n.config.enableRowSelection,rowClasses:n.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:n.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:n.config.beforeSelectionChange,afterSelectionChangeCallback:n.config.afterSelectionChange,jqueryUITheme:n.config.jqueryUITheme,enableCellSelection:n.config.enableCellSelection,rowHeight:n.config.rowHeight};v.renderedRange=new b(0,n.minRowsToRender()+f);v.buildEntityRow=function(n,t){return new r(n,v.rowConfig,v.selectionProvider,t,l)};v.buildAggregateRow=function(t,i){var r=v.aggCache[t.aggIndex];return r||(r=new u(t,v,v.rowConfig.rowHeight,n.config.groupsCollapsedByDefault),v.aggCache[t.aggIndex]=r),r.rowIndex=i,r.offsetTop=i*v.rowConfig.rowHeight,r};v.UpdateViewableRange=function(n){v.renderedRange=n;v.renderedChange()};v.filteredRowsChanged=function(){n.lateBoundColumns&&n.filteredRows.length>0&&(n.config.columnDefs=void 0,n.buildColumns(),n.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)}));v.dataChanged=!0;n.config.groups.length>0&&v.getGrouping(n.config.groups);v.UpdateViewableRange(v.renderedRange)};v.renderedChange=function(){var u,i,r,t;if(!v.groupedData||1>n.config.groups.length)return v.renderedChangeNoGroups(),n.refreshDomSizes(),void 0;for(v.wasGrouped=!0,v.parentCache=[],u=0,i=v.parsedData.filter(function(n){return n.isAggRow?n.parent&&n.parent.collapsed?!1:!0:(n[e]||(n.rowIndex=u++),!n[e])}),v.totalRows=i.length,r=[],t=v.renderedRange.topRow;v.renderedRange.bottomRow>t;t++)i[t]&&(i[t].offsetTop=t*n.config.rowHeight,r.push(i[t]));n.setRenderedRows(r)};v.renderedChangeNoGroups=function(){for(var i=[],t=v.renderedRange.topRow;v.renderedRange.bottomRow>t;t++)n.filteredRows[t]&&(n.filteredRows[t].rowIndex=t,n.filteredRows[t].offsetTop=t*n.config.rowHeight,i.push(n.filteredRows[t]));n.setRenderedRows(i)};v.fixRowCache=function(){var i=n.data.length,r=i-n.rowCache.length,t;if(0>r)n.rowCache.length=n.rowMap.length=i;else for(t=n.rowCache.length;i>t;t++)n.rowCache[t]=n.rowFactory.buildEntityRow(n.data[t],t)};v.parseGroupData=function(n){var r,i,t;if(n.values)for(r=0;n.values.length>r;r++)v.parentCache[v.parentCache.length-1].children.push(n.values[r]),v.parsedData.push(n.values[r]);else for(i in n)i!==s&&i!==h&&i!==c&&n.hasOwnProperty(i)&&(t=v.buildAggregateRow({gField:n[s],gLabel:i,gDepth:n[h],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:v.numberOfAggregates,aggLabelFilter:n[c].aggLabelFilter},0),v.numberOfAggregates++,t.parent=v.parentCache[t.depth-1],t.parent&&(t.parent.collapsed=!1,t.parent.aggChildren.push(t)),v.parsedData.push(t),v.parentCache[t.depth]=t,v.parseGroupData(n[i]))};v.getGrouping=function(r){function nt(n,t){return n.filter(function(n){return n.field===t})}var d,u,p,w;v.aggCache=[];v.numberOfAggregates=0;v.groupedData={};for(var b=n.filteredRows,tt=r.length,k=t.columns,y=0;b.length>y;y++){if(d=b[y].entity,!d)return;for(b[y][e]=n.config.groupsCollapsedByDefault,u=v.groupedData,p=0;r.length>p;p++){var g=r[p],it=nt(k,g)[0],f=l.evalProperty(d,g);f=""===f||null===f?"null":""+f;u[f]||(u[f]={});u[s]||(u[s]=g);u[h]||(u[h]=p);u[c]||(u[c]=it);u=u[f]}u.values||(u.values=[]);u.values.push(b[y])}if(k.length>0)for(w=0;r.length>w;w++)!k[w].isAggCol&&tt>=w&&k.splice(0,0,new a({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"><\/div>',pinned:n.config.pinSelectionCheckbox},enablePinning:n.config.enablePinning,isAggCol:!0,headerRowHeight:n.config.headerRowHeight},t,n,i,o,l));n.fixColumnIndexes();t.adjustScrollLeft(0);v.parsedData.length=0;v.parseGroupData(v.groupedData);v.fixRowCache()};n.config.groups.length>0&&n.filteredRows.length>0&&v.getGrouping(n.config.groups)},at=function(n,i,r,u){var f=this,e=[];f.extFilter=i.config.filterOptions.useExternalFilter;n.showFilter=i.config.showFilter;n.filterText="";f.fieldMap={};var l=function(n){var i={},t;for(t in n)n.hasOwnProperty(t)&&(i[t.toLowerCase()]=n[t]);return i},o=function(n){var t,i;if("object"==typeof n){t=[];for(i in n)t=t.concat(o(n[i]));return t}return[n]},s=function(n,t,i){var o,h,f,u,c,e,a,v;for(h in t)if(t.hasOwnProperty(h))if(f=i[h.toLowerCase()],u=t[h],"object"!=typeof u||u instanceof Date){if(c=null,e=null,(f&&f.cellFilter&&(e=f.cellFilter.split(":"),c=r(e[0])),null!==u&&void 0!==u)&&("function"==typeof c?(a=""+c(u,e[1]?e[1].slice(1,-1):""),o=n.regex.test(a)):o=n.regex.test(""+u),o))return!0}else if(v=l(f),o=s(n,u,v))return!0;return!1},a=function(n,t){var s,i=f.fieldMap[n.columnDisplay],v,c,y;if(!i)return!1;var l=i.cellFilter.split(":"),a=i.cellFilter?r(l[0]):null,e=t[n.column]||t[i.field.split(".")[0]]||u.evalProperty(t,i.field);if(null===e||void 0===e)return!1;if("function"==typeof a)v=""+a("object"==typeof e?h(e,i.field):e,l[1]),s=n.regex.test(v);else{c=o(h(e,i.field));for(y in c)s|=n.regex.test(c[y])}return s?!0:!1},v=function(n){for(var u,i,t=0,r=e.length;r>t;t++)if(i=e[t],u=i.column?a(i,n):s(i,n,f.fieldMap),!u)return!1;return!0};f.evalFilter=function(){i.filteredRows=0===e.length?i.rowCache:i.rowCache.filter(function(n){return v(n.entity)});for(var n=0;i.filteredRows.length>n;n++)i.filteredRows[n].rowIndex=n;i.rowFactory.filteredRowsChanged()};var h=function(n,t){var r,i,u,f;if("object"!=typeof n||"string"!=typeof t)return n;if(r=t.split("."),i=n,r.length>1){for(u=1,f=r.length;f>u;u++)if(i=i[r[u]],!i)return n;return i}return n},c=function(n,t){try{return RegExp(n,t)}catch(i){return RegExp(n.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},y=function(n){var h,f,r,i,u,o,s;if(e=[],h=t.trim(n))for(f=h.split(";"),r=0;f.length>r;r++)i=f[r].split(":"),i.length>1?(u=t.trim(i[0]),o=t.trim(i[1]),u&&o&&e.push({column:u,columnDisplay:u.replace(/\s+/g,"").toLowerCase(),regex:c(o,"i")})):(s=t.trim(i[0]),s&&e.push({column:"",regex:c(s,"i")}))};f.extFilter||n.$on("$destroy",n.$watch("columns",function(n){for(var t,e=0;n.length>e;e++){if(t=n[e],t.field)if(t.field.match(/\./g)){for(var i=t.field.split("."),r=f.fieldMap,u=0;i.length-1>u;u++)r[i[u]]=r[i[u]]||{},r=r[i[u]];r[i[i.length-1]]=t}else f.fieldMap[t.field.toLowerCase()]=t;t.displayName&&(f.fieldMap[t.displayName.toLowerCase().replace(/\s+/g,"")]=t)}}));n.$on("$destroy",n.$watch(function(){return i.config.filterOptions.filterText},function(t){n.filterText=t}));n.$on("$destroy",n.$watch("filterText",function(t){f.extFilter||(n.$emit("ngGridEventFilter",t),y(t),f.evalFilter())}))},vt=function(n,t,i,r){var u=this,f;u.multi=n.config.multiSelect;u.selectedItems=n.config.selectedItems;u.selectedIndex=n.config.selectedIndex;u.lastClickedRow=void 0;u.ignoreSelectedItemChanges=!1;f=n.config.primaryKey;f&&(f=r.preEval("entity."+n.config.primaryKey));u.pKeyParser=i(f);u.ChangeSelection=function(i,r){var l=r.which||r.keyCode,y=40===l||38===l,a,o,f,e,h,s,v,c;if(r&&r.shiftKey&&!r.keyCode&&u.multi&&n.config.enableRowSelection){if(u.lastClickedRow){if(a=t.configGroups.length>0?n.rowFactory.parsedData.filter(function(n){return!n.isAggRow}):n.filteredRows,o=i.rowIndex,f=u.lastClickedRowIndex,o===f)return!1;for(f>o?(o^=f,f=o^f,o^=f,o--):f++,e=[];o>=f;f++)e.push(a[f]);if(e[e.length-1].beforeSelectionChange(e,r)){for(h=0;e.length>h;h++)s=e[h],v=s.selected,s.selected=!v,s.clone&&(s.clone.selected=s.selected),c=u.selectedItems.indexOf(s.entity),-1===c?u.selectedItems.push(s.entity):u.selectedItems.splice(c,1);e[e.length-1].afterSelectionChange(e,r)}return u.lastClickedRow=i,u.lastClickedRowIndex=i.rowIndex,!0}}else u.multi?(!r.keyCode||y&&!n.config.selectWithCheckboxOnly)&&u.setSelection(i,!i.selected):u.lastClickedRow===i?u.setSelection(u.lastClickedRow,n.config.keepLastSelected?!0:!i.selected):(u.lastClickedRow&&u.setSelection(u.lastClickedRow,!1),u.setSelection(i,!i.selected));return u.lastClickedRow=i,u.lastClickedRowIndex=i.rowIndex,!0};u.getSelection=function(n){return-1!==u.getSelectionIndex(n)};u.getSelectionIndex=function(t){var i=-1,r;return n.config.primaryKey?(r=u.pKeyParser({entity:t}),angular.forEach(u.selectedItems,function(n,t){r===u.pKeyParser({entity:n})&&(i=t)})):i=u.selectedItems.indexOf(t),i};u.setSelection=function(t,i){if(n.config.enableRowSelection){if(i)-1===u.getSelectionIndex(t.entity)&&(!u.multi&&u.selectedItems.length>0&&u.toggleSelectAll(!1,!0),u.selectedItems.push(t.entity));else{var r=u.getSelectionIndex(t.entity);-1!==r&&u.selectedItems.splice(r,1)}t.selected=i;t.orig&&(t.orig.selected=i);t.clone&&(t.clone.selected=i);t.afterSelectionChange(t)}};u.toggleSelectAll=function(t,i,r){var o,s,f=r?n.filteredRows:n.rowCache,e;if(i||n.config.beforeSelectionChange(f,t)){for(!r&&u.selectedItems.length>0&&(u.selectedItems.length=0),e=0;f.length>e;e++)o=f[e].selected,f[e].selected=t,f[e].clone&&(f[e].clone.selected=t),!o&&t?u.selectedItems.push(f[e].entity):o&&!t&&(s=u.getSelectionIndex(f[e].entity),s>-1&&u.selectedItems.splice(s,1));i||n.config.afterSelectionChange(f,t)}}},yt=function(n,t){n.headerCellStyle=function(n){return{height:n.headerRowHeight+"px"}};n.rowStyle=function(t){var i={top:t.offsetTop+"px",height:n.rowHeight+"px"};return t.isAggRow&&(i.left=t.offsetLeft),i};n.canvasStyle=function(){return{height:t.maxCanvasHt+"px"}};n.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}};n.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:n.topPanelHeight()+"px"}};n.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}};n.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}};n.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:n.viewportDimHeight()+"px"}};n.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:n.footerRowHeight+"px"}}};i.directive("ngCellHasFocus",["$domUtilityService",function(n){var t=function(t){t.isFocused=!0;n.digest(t);t.$broadcast("ngGridEventStartCellEdit");t.$emit("ngGridEventStartCellEdit");t.$on("$destroy",t.$on("ngGridEventEndCellEdit",function(){t.isFocused=!1;n.digest(t)}))};return function(n,i){function f(){return n.enableCellEditOnFocus?u=!0:i.focus(),!0}function e(r){n.enableCellEditOnFocus&&(r.preventDefault(),u=!1,t(n,i))}function o(){return r=!0,n.enableCellEditOnFocus&&!u&&t(n,i),!0}function s(){return r=!1,!0}function h(u){return n.enableCellEditOnFocus||(r&&37!==u.keyCode&&38!==u.keyCode&&39!==u.keyCode&&40!==u.keyCode&&9!==u.keyCode&&!u.shiftKey&&13!==u.keyCode&&t(n,i),r&&u.shiftKey&&u.keyCode>=65&&90>=u.keyCode&&t(n,i),27===u.keyCode&&i.focus()),!0}var r=!1,u=!1;n.editCell=function(){n.enableCellEditOnFocus||setTimeout(function(){t(n,i)},0)};i.bind("mousedown",f);i.bind("click",e);i.bind("focus",o);i.bind("blur",s);i.bind("keydown",h);i.on("$destroy",function(){i.off("mousedown",f);i.off("click",e);i.off("focus",o);i.off("blur",s);i.off("keydown",h)})}}]);i.directive("ngCellText",function(){return function(n,t){function i(n){n.preventDefault()}function r(n){n.preventDefault()}t.bind("mouseover",i);t.bind("mouseleave",r);t.on("$destroy",function(){t.off("mouseover",i);t.off("mouseleave",r)})}});i.directive("ngCell",["$compile","$domUtilityService","$utilityService",function(n,i,r){return{scope:!1,compile:function(){return{pre:function(i,u){var f,o=i.col.cellTemplate.replace(g,r.preEval("row.entity."+i.col.field)),e;i.col.enableCellEdit?(f=i.col.cellEditTemplate,f=f.replace(ut,i.col.cellEditableCondition),f=f.replace(it,o),f=f.replace(rt,i.col.editableCellTemplate.replace(g,r.preEval("row.entity."+i.col.field)))):f=o;e=t(f);u.append(e);n(e)(i);i.enableCellSelection&&-1===e[0].className.indexOf("ngSelectionCell")&&(e[0].setAttribute("tabindex",0),e.addClass("ngCellElement"))},post:function(n,t){n.enableCellSelection&&n.domAccessProvider.selectionHandlers(n,t);n.$on("$destroy",n.$on("ngGridEventDigestCell",function(){i.digest(n)}))}}}}}]);i.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,t,i){return function(n,t,r){var f,u;n.$on("$destroy",n.$watch(r.ngEditCellIf,function(r){f&&(f.remove(),f=void 0);u&&(u.$destroy(),u=void 0);r&&(u=n.$new(),i(u,function(n){f=n;t.after(n)}))}))}}}}]);i.directive("ngGridFooter",["$compile","$templateCache",function(n,t){return{scope:!1,compile:function(){return{pre:function(i,r){0===r.children().length&&r.append(n(t.get(i.gridId+"footerTemplate.html"))(i))}}}}}]);i.directive("ngGridMenu",["$compile","$templateCache",function(n,t){return{scope:!1,compile:function(){return{pre:function(i,r){0===r.children().length&&r.append(n(t.get(i.gridId+"menuTemplate.html"))(i))}}}}}]);i.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(n,i,r,u,f,e,o,s,h,c){return{scope:!0,compile:function(){return{pre:function(l,a,v){var b=t(a),p=l.$eval(v.ngGrid),y;return p.gridDim=new w({outerHeight:t(b).height(),outerWidth:t(b).width()}),y=new ct(l,p,u,f,i,r,e,o,s,h,c),l.$on("$destroy",function(){p.gridDim=null;p.selectRow=null;p.selectItem=null;p.selectAll=null;p.selectVisible=null;p.groupBy=null;p.sortBy=null;p.gridId=null;p.ngGrid=null;p.$gridScope=null;p.$gridServices=null;l.domAccessProvider.grid=null;angular.element(y.styleSheet).remove();y.styleSheet=null}),y.init().then(function(){if("string"==typeof p.columnDefs?l.$on("$destroy",l.$parent.$watch(p.columnDefs,function(n){return n?(y.lateBoundColumns=!1,l.columns=[],y.config.columnDefs=n,y.buildColumns(),y.eventProvider.assignEvents(),f.RebuildGrid(l,y),void 0):(y.refreshDomSizes(),y.buildColumns(),void 0)},!0)):y.buildColumns(),"string"==typeof p.totalServerItems?l.$on("$destroy",l.$parent.$watch(p.totalServerItems,function(n){l.totalServerItems=angular.isDefined(n)?n:0})):l.totalServerItems=0,"string"==typeof p.data){var i=function(n){y.data=t.extend([],n);y.rowFactory.fixRowCache();angular.forEach(y.data,function(n,t){var i=y.rowMap[t]||t;y.rowCache[i]&&y.rowCache[i].ensureEntity(n);y.rowMap[i]=t});y.searchProvider.evalFilter();y.configureColumnWidths();y.refreshDomSizes();y.config.sortInfo.fields.length>0&&(y.sortColumnsInit(),l.$emit("ngGridEventSorted",y.config.sortInfo));l.$emit("ngGridEventData",y.gridId)};l.$on("$destroy",l.$parent.$watch(p.data,i));l.$on("$destroy",l.$parent.$watch(p.data+".length",function(){i(l.$eval(p.data));l.adjustScrollTop(y.$viewport.scrollTop(),!0)}))}return y.footerController=new ht(l,y),a.addClass("ngGrid").addClass(""+y.gridId),p.enableHighlighting||a.addClass("unselectable"),p.jqueryUITheme&&a.addClass("ui-widget"),a.append(n(r.get("gridTemplate.html"))(l)),f.AssignGridContainers(l,a,y),y.eventProvider=new st(y,l,f,o),p.selectRow=function(n,t){y.rowCache[n]&&(y.rowCache[n].clone&&y.rowCache[n].clone.setSelection(t?!0:!1),y.rowCache[n].setSelection(t?!0:!1))},p.selectItem=function(n,t){p.selectRow(y.rowMap[n],t)},p.selectAll=function(n){l.toggleSelectAll(n)},p.selectVisible=function(n){l.toggleSelectAll(n,!0)},p.groupBy=function(n){if(n)l.groupBy(l.columns.filter(function(t){return t.field===n})[0]);else{var i=t.extend(!0,[],l.configGroups);angular.forEach(i,l.groupBy)}},p.sortBy=function(n){var t=l.columns.filter(function(t){return t.field===n})[0];t&&t.sort()},p.gridId=y.gridId,p.ngGrid=y,p.$gridScope=l,p.$gridServices={SortService:u,DomUtilityService:f,UtilityService:e},l.$on("$destroy",l.$on("ngGridEventDigestGrid",function(){f.digest(l.$parent)})),l.$on("$destroy",l.$on("ngGridEventDigestGridParent",function(){f.digest(l.$parent)})),l.$evalAsync(function(){l.adjustScrollLeft(0)}),angular.forEach(p.plugins,function(n){"function"==typeof n&&(n=new n);var t=l.$new();n.init(t,y,p.$gridServices);p.plugins[e.getInstanceType(n)]=n;l.$on("$destroy",function(){t.$destroy()})}),"function"==typeof p.init&&p.init(y,l),null})}}}}}]);i.directive("ngHeaderCell",["$compile",function(n){return{scope:!1,compile:function(){return{pre:function(t,i){i.append(n(t.col.headerCellTemplate)(t))}}}}}]);i.directive("ngHeaderRow",["$compile","$templateCache",function(n,t){return{scope:!1,compile:function(){return{pre:function(i,r){0===r.children().length&&r.append(n(t.get(i.gridId+"headerRowTemplate.html"))(i))}}}}}]);i.directive("ngInput",[function(){return{require:"ngModel",link:function(n,t,i,r){function u(i){switch(i.keyCode){case 37:case 38:case 39:case 40:i.stopPropagation();break;case 27:n.$$phase||n.$apply(function(){r.$setViewValue(o);t.blur()});break;case 13:(n.enableCellEditOnFocus&&n.totalFilteredItemsLength()-1>n.row.rowIndex&&n.row.rowIndex>0||n.col.enableCellEdit)&&t.blur()}return!0}function f(n){n.stopPropagation()}function e(n){n.stopPropagation()}var o,s=n.$watch("ngModel",function(){o=r.$modelValue;s()});t.bind("keydown",u);t.bind("click",f);t.bind("mousedown",e);t.on("$destroy",function(){t.off("keydown",u);t.off("click",f);t.off("mousedown",e)});n.$on("$destroy",n.$on("ngGridEventStartCellEdit",function(){t.focus();t.select()}));angular.element(t).bind("blur",function(){n.$emit("ngGridEventEndCellEdit")})}}}]);i.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(n,t,i){return{scope:!1,compile:function(){return{pre:function(r,u){if(r.row.elm=u,r.row.clone&&(r.row.clone.elm=u),r.row.isAggRow){var f=i.get(r.gridId+"aggregateTemplate.html");f=r.row.aggLabelFilter?f.replace(y,"| "+r.row.aggLabelFilter):f.replace(y,"");u.append(n(f)(r))}else u.append(n(i.get(r.gridId+"rowTemplate.html"))(r));r.$on("$destroy",r.$on("ngGridEventDigestRow",function(){t.digest(r)}))}}}}}]);i.directive("ngViewport",[function(){return function(n,t){function i(t){var i=t.target.scrollLeft,r=t.target.scrollTop;return n.$headerContainer&&n.$headerContainer.scrollLeft(i),n.adjustScrollLeft(i),n.adjustScrollTop(r),n.forceSyncScrolling?e():(clearTimeout(f),f=setTimeout(e,150)),o=i,s=r,u=!1,!0}function r(){return u=!0,t.focus&&t.focus(),!0}var u,o,f,s=0,e=function(){n.$root.$$phase||n.$digest()};t.bind("scroll",i);t.bind("mousewheel DOMMouseScroll",r);t.on("$destroy",function(){t.off("scroll",i);t.off("mousewheel DOMMouseScroll",r)});n.enableCellSelection||n.domAccessProvider.selectionHandlers(n,t)}}]);n.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil.",ngSearchPlaceHolder:"Sg...",ngMenuText:"Vlg kolonner:",ngShowingItemsLabel:"Viste rkker:",ngTotalItemsLabel:"Rkker totalt:",ngSelectedItemsLabel:"Valgte rkker:",ngPageSizeLabel:"Side strrelse:",ngPagerFirstTitle:"Frste side",ngPagerNextTitle:"Nste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"};n.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswhlen:",ngShowingItemsLabel:"Zeige Eintrge:",ngTotalItemsLabel:"Eintrge gesamt:",ngSelectedItemsLabel:"Ausgewhlte Eintrge:",ngPageSizeLabel:"Eintrge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nchste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"};n.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"};n.ngGrid.i18n.es={ngAggregateLabel:"Artculos",ngGroupPanelDescription:"Arrastre un encabezado de columna aqu y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artculos Mostrando:",ngTotalItemsLabel:"Artculos Totales:",ngSelectedItemsLabel:"Artculos Seleccionados:",ngPageSizeLabel:"Tamao de Pgina:",ngPagerFirstTitle:"Primera Pgina",ngPagerNextTitle:"Pgina Siguiente",ngPagerPrevTitle:"Pgina Anterior",ngPagerLastTitle:"ltima Pgina"};n.ngGrid.i18n.fa={ngAggregateLabel:"",ngGroupPanelDescription:"            .",ngSearchPlaceHolder:"...",ngMenuText:" :",ngShowingItemsLabel:" :",ngTotalItemsLabel:" :",ngSelectedItemsLabel:" :",ngPageSizeLabel:" :",ngPagerFirstTitle:" ",ngPagerNextTitle:" ",ngPagerPrevTitle:" ",ngPagerLastTitle:" "};n.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tte de colonne ici et dposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"lments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Premire page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page prcdente",ngPagerLastTitle:"Dernire page"};n.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"};n.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Pgina:",ngPagerFirstTitle:"Primeira Pgina",ngPagerNextTitle:"Prxima Pgina",ngPagerPrevTitle:"Pgina Anterior",ngPagerLastTitle:"ltima Pgina"};n.ngGrid.i18n.ru={ngAggregateLabel:"",ngGroupPanelDescription:"        .",ngSearchPlaceHolder:"...",ngMenuText:" :",ngShowingItemsLabel:" :",ngTotalItemsLabel:" :",ngSelectedItemsLabel:" :",ngPageSizeLabel:"  :",ngPagerFirstTitle:" ",ngPagerNextTitle:" ",ngPagerPrevTitle:" ",ngPagerLastTitle:" "};n.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"",ngGroupPanelDescription:"",ngSearchPlaceHolder:"...",ngMenuText:"",ngShowingItemsLabel:"",ngTotalItemsLabel:"",ngSelectedItemsLabel:"",ngPageSizeLabel:"",ngPagerFirstTitle:"",ngPagerNextTitle:"",ngPagerPrevTitle:"",ngPagerLastTitle:""};n.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"",ngGroupPanelDescription:"",ngSearchPlaceHolder:"...",ngMenuText:"",ngShowingItemsLabel:"",ngTotalItemsLabel:"",ngSelectedItemsLabel:"",ngPageSizeLabel:"",ngPagerFirstTitle:"",ngPagerNextTitle:"",ngPagerPrevTitle:"",ngPagerLastTitle:""};angular.module("ngGrid").run(["$templateCache",function(n){n.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})<\/span>\r\n    <div class="{{row.aggClass()}}"><\/div>\r\n<\/div>\r\n');n.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t<\/div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t<\/div>\r\n<\/div>\r\n');n.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}<\/span><\/div>');n.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /><\/div>');n.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>');n.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />');n.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}<\/span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})<\/span>\r\n        <\/div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}<\/span>\r\n        <\/div>\r\n    <\/div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}<\/span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"><\/div><\/div><\/button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"><\/div><\/button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}<\/span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"><\/div><\/button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"><\/div><\/div><\/button>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n');n.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}<\/div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x<\/span>\r\n                    <\/span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"><\/span>\r\n                <\/span>\r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"><\/div>\r\n    <\/div>\r\n    <div ng-grid-menu><\/div>\r\n<\/div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row><\/div>\r\n    <\/div>\r\n<\/div>\r\n<div ng-grid-footer><\/div>\r\n');n.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}<\/div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"><\/div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"><\/div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}<\/div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"><\/div>\r\n<\/div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"><\/div>\r\n');n.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;<\/div>\r\n\t<div ng-header-cell><\/div>\r\n<\/div>');n.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"><\/div>\r\n<\/div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    <\/div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}<\/span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}<\/label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"><\/a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}<\/span>          \r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n<\/div>');n.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;<\/div>\r\n\t<div ng-cell><\/div>\r\n<\/div>')}])}(window,jQuery);!function(n,t){var r,i;return i=t.document,r=function(){function r(i){var r;try{r=t.localStorage}catch(u){r=!1}this._options=n.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:r,debug:!1,backdrop:!1,backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"><\/div> <h3 class="popover-title"><\/h3> <div class="popover-content"><\/div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev<\/button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;<\/button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause<\/button> <\/div> <button class="btn btn-sm btn-default" data-role="end">End tour<\/button> <\/div> <\/div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){}},i);this._force=!1;this._inited=!1;this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return r.prototype.addSteps=function(n){for(var i,t=0,r=n.length;r>t;t++)i=n[t],this.addStep(i);return this},r.prototype.addStep=function(n){return this._options.steps.push(n),this},r.prototype.getStep=function(t){if(null!=this._options.steps[t])return n.extend({id:"step-"+t,path:"",placement:"right",title:"",content:"<p><\/p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[t])},r.prototype.init=function(n){return this._force=n,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(n){return function(){return n.showStep(n._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},r.prototype.start=function(n){var t;return null==n&&(n=!1),this._inited||this.init(n),null===this._current&&(t=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(t,this.showStep,0)),this},r.prototype.next=function(){var n;return n=this.hideStep(this._current),this._callOnPromiseDone(n,this._showNextStep)},r.prototype.prev=function(){var n;return n=this.hideStep(this._current),this._callOnPromiseDone(n,this._showPrevStep)},r.prototype.goTo=function(n){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this.showStep,n)},r.prototype.end=function(){var r,u;return r=function(r){return function(){return n(i).off("click.tour-"+r._options.name),n(i).off("keyup.tour-"+r._options.name),n(t).off("resize.tour-"+r._options.name),r._setState("end","yes"),r._inited=!1,r._force=!1,r._clearTimer(),null!=r._options.onEnd?r._options.onEnd(r):void 0}}(this),u=this.hideStep(this._current),this._callOnPromiseDone(u,r)},r.prototype.ended=function(){return!this._force&&!!this._getState("end")},r.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this.start()},r.prototype.pause=function(){var n;return n=this.getStep(this._current),n&&n.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,t.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=n.onPause?n.onPause(this,this._duration):void 0):this},r.prototype.resume=function(){var n;return n=this.getStep(this._current),n&&n.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||n.duration,this._timer=t.setTimeout(function(n){return function(){return n._isLast()?n.next():n.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=n.onResume&&this._duration!==n.duration?n.onResume(this,this._duration):void 0):this},r.prototype.hideStep=function(t){var u,r,i;if((i=this.getStep(t)))return(this._clearTimer(),r=this._makePromise(null!=i.onHide?i.onHide(this,t):void 0),u=function(r){return function(){var u;return u=n(i.element),u.data("bs.popover")||u.data("popover")||(u=n("body")),u.popover("destroy").removeClass("tour-"+r._options.name+"-element tour-"+r._options.name+"-"+t+"-element"),i.reflex&&u.removeClass("tour-step-element-reflex").off(""+r._reflexEvent(i.reflex)+".tour-"+r._options.name),i.backdrop&&r._hideBackdrop(),null!=i.onHidden?i.onHidden(r):void 0}}(this),this._callOnPromiseDone(r,u),r)},r.prototype.showStep=function(n){var u,f,e,r;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(r=this.getStep(n))?(e=n<this._current,u=this._makePromise(null!=r.onShow?r.onShow(this,n):void 0),f=function(t){return function(){var o,u,f;if(t.setCurrentStep(n),u=function(){switch({}.toString.call(r.path)){case"[object Function]":return r.path();case"[object String]":return this._options.basePath+r.path;default:return r.path}}.call(t),o=[i.location.pathname,i.location.hash].join(""),t._isRedirect(u,o))return t._redirect(r,u),void 0;if(t._isOrphan(r)){if(!r.orphan)return t._debug("Skip the orphan step "+(t._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),e?t._showPrevStep():t._showNextStep(),void 0;t._debug("Show the orphan step "+(t._current+1)+". Orphans option is true.")}return r.backdrop&&t._showBackdrop(t._isOrphan(r)?void 0:r.element),f=function(){if(t.getCurrentStep()===n)return(null!=r.element&&r.backdrop&&t._showOverlayElement(r),t._showPopover(r,n),null!=r.onShown&&r.onShown(t),t._debug("Step "+(t._current+1)+" of "+t._options.steps.length))},r.autoscroll?t._scrollIntoView(r.element,f):f(),r.duration?t.resume():void 0}}(this),r.delay?(this._debug("Wait "+r.delay+" milliseconds to show the step "+(this._current+1)),t.setTimeout(function(n){return function(){return n._callOnPromiseDone(u,f)}}(this),r.delay)):this._callOnPromiseDone(u,f),u):void 0},r.prototype.getCurrentStep=function(){return this._current},r.prototype.setCurrentStep=function(n){return null!=n?(this._current=n,this._setState("current_step",n)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},r.prototype._setState=function(n,t){var r,i;if(this._options.storage){i=""+this._options.name+"_"+n;try{this._options.storage.setItem(i,t)}catch(u){r=u;r.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(i,t)}return null==this._state&&(this._state={}),this._state[n]=t},r.prototype._removeState=function(n){var t;return this._options.storage?(t=""+this._options.name+"_"+n,this._options.storage.removeItem(t),this._options.afterRemoveState(t)):null!=this._state?delete this._state[n]:void 0},r.prototype._getState=function(n){var i,t;return this._options.storage?(i=""+this._options.name+"_"+n,t=this._options.storage.getItem(i)):null!=this._state&&(t=this._state[n]),(void 0===t||"null"===t)&&(t=null),this._options.afterGetState(n,t),t},r.prototype._showNextStep=function(){var t,i,n;return n=this.getStep(this._current),i=function(t){return function(){return t.showStep(n.next)}}(this),t=this._makePromise(null!=n.onNext?n.onNext(this):void 0),this._callOnPromiseDone(t,i)},r.prototype._showPrevStep=function(){var t,i,n;return n=this.getStep(this._current),i=function(t){return function(){return t.showStep(n.prev)}}(this),t=this._makePromise(null!=n.onPrev?n.onPrev(this):void 0),this._callOnPromiseDone(t,i)},r.prototype._debug=function(n){if(this._options.debug)return t.console.log("Bootstrap Tour '"+this._options.name+"' | "+n)},r.prototype._isRedirect=function(n,t){return null!=n&&""!==n&&("[object RegExp]"==={}.toString.call(n)&&!n.test(t)||"[object String]"==={}.toString.call(n)&&n.replace(/\?.*$/,"").replace(/\/?$/,"")!==t.replace(/\/?$/,""))},r.prototype._redirect=function(t,r){return n.isFunction(t.redirect)?t.redirect.call(this,r):t.redirect===!0?(this._debug("Redirect to "+r),i.location.href=r):void 0},r.prototype._isOrphan=function(t){return null==t.element||!n(t.element).length||n(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==n(t.element)[0].namespaceURI},r.prototype._isLast=function(){return this._current<this._options.steps.length-1},r.prototype._showPopover=function(t,i){var r,u,f,e;return n(".tour-"+this._options.name).remove(),e=n.extend({},this._options),f=this._isOrphan(t),t.template=this._template(t,i),f&&(t.element="body",t.placement="top"),r=n(t.element),r.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+i+"-element"),t.options&&n.extend(e,t.options),t.reflex&&!f&&(r.addClass("tour-step-element-reflex"),r.off(""+this._reflexEvent(t.reflex)+".tour-"+this._options.name),r.on(""+this._reflexEvent(t.reflex)+".tour-"+this._options.name,function(n){return function(){return n._isLast()?n.next():n.end()}}(this))),r.popover({placement:t.placement,trigger:"manual",title:t.title,content:t.content,html:!0,animation:t.animation,container:t.container,template:t.template,selector:t.element}).popover("show"),u=r.data("bs.popover")?r.data("bs.popover").tip():r.data("popover").tip(),u.attr("id",t.id),this._reposition(u,t),f?this._center(u):void 0},r.prototype._template=function(t,i){var u,f,e,o,r;return r=n.isFunction(t.template)?n(t.template(i,t)):n(t.template),u=r.find(".popover-navigation"),e=u.find('[data-role="prev"]'),f=u.find('[data-role="next"]'),o=u.find('[data-role="pause-resume"]'),this._isOrphan(t)&&r.addClass("orphan"),r.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+i),t.prev<0&&e.addClass("disabled"),t.next<0&&f.addClass("disabled"),t.duration||o.remove(),r.clone().wrap("<div>").parent().html()},r.prototype._reflexEvent=function(n){return"[object Boolean]"==={}.toString.call(n)?"click":n},r.prototype._reposition=function(t,r){var f,h,e,c,o,s,u;if(c=t[0].offsetWidth,h=t[0].offsetHeight,u=t.offset(),o=u.left,s=u.top,f=n(i).outerHeight()-u.top-t.outerHeight(),0>f&&(u.top=u.top+f),e=n("html").outerWidth()-u.left-t.outerWidth(),0>e&&(u.left=u.left+e),u.top<0&&(u.top=0),u.left<0&&(u.left=0),t.offset(u),"bottom"===r.placement||"top"===r.placement){if(o!==u.left)return this._replaceArrow(t,2*(u.left-o),c,"left")}else if(s!==u.top)return this._replaceArrow(t,2*(u.top-s),h,"top")},r.prototype._center=function(i){return i.css("top",n(t).outerHeight()/2-i.outerHeight()/2)},r.prototype._replaceArrow=function(n,t,i,r){return n.find(".arrow").css(r,t?50*(1-t/i)+"%":"")},r.prototype._scrollIntoView=function(i,r){var u,f,h,e,o,s;return u=n(i),u.length?(f=n(t),e=u.offset().top,s=f.height(),o=Math.max(0,e-s/2),this._debug("Scroll into view. ScrollTop: "+o+". Element offset: "+e+". Window height: "+s+"."),h=0,n("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(o)},function(n){return function(){if(2==++h)return(r(),n._debug("Scroll into view.\nAnimation end element offset: "+u.offset().top+".\nWindow height: "+f.height()+"."))}}(this))):r()},r.prototype._onResize=function(i,r){return n(t).on("resize.tour-"+this._options.name,function(){return clearTimeout(r),r=setTimeout(i,100)})},r.prototype._initMouseNavigation=function(){var t;return t=this,n(i).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(n){return function(t){return t.preventDefault(),n.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(n){return function(t){return t.preventDefault(),n.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(n){return function(t){return t.preventDefault(),n.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(i){var r;return i.preventDefault(),r=n(this),r.text(t._paused?r.data("pause-text"):r.data("resume-text")),t._paused?t.resume():t.pause()})},r.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return n(i).on("keyup.tour-"+this._options.name,function(n){return function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),n._isLast()?n.next():n.end();case 37:if(t.preventDefault(),n._current>0)return n.prev();break;case 27:return t.preventDefault(),n.end()}}}(this))},r.prototype._makePromise=function(t){return t&&n.isFunction(t.then)?t:null},r.prototype._callOnPromiseDone=function(n,t,i){return n?n.then(function(n){return function(){return t.call(n,i)}}(this)):t.call(this,i)},r.prototype._showBackdrop=function(){if(!this.backdrop.backgroundShown)return(this.backdrop=n("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,n("body").append(this.backdrop))},r.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},r.prototype._hideBackground=function(){if(this.backdrop)return(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1)},r.prototype._showOverlayElement=function(t){var i,r;return i=n(t.element),i&&0!==i.length&&!this.backdrop.overlayElementShown?(this.backdrop.overlayElementShown=!0,this.backdrop.$element=i.addClass("tour-step-backdrop"),this.backdrop.$background=n("<div>",{"class":"tour-step-background"}),r={width:i.innerWidth(),height:i.innerHeight(),offset:i.offset()},this.backdrop.$background.appendTo("body"),t.backdropPadding&&(r=this._applyBackdropPadding(t.backdropPadding,r)),this.backdrop.$background.width(r.width).height(r.height).offset(r.offset)):void 0},r.prototype._hideOverlayElement=function(){if(this.backdrop.overlayElementShown)return(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1)},r.prototype._applyBackdropPadding=function(n,t){return"object"==typeof n?(null==n.top&&(n.top=0),null==n.right&&(n.right=0),null==n.bottom&&(n.bottom=0),null==n.left&&(n.left=0),t.offset.top=t.offset.top-n.top,t.offset.left=t.offset.left-n.left,t.width=t.width+n.left+n.right,t.height=t.height+n.top+n.bottom):(t.offset.top=t.offset.top-n,t.offset.left=t.offset.left-n,t.width=t.width+2*n,t.height=t.height+2*n),t},r.prototype._clearTimer=function(){return t.clearTimeout(this._timer),this._timer=null,this._duration=null},r}(),t.Tour=r}(jQuery,window),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i,t,t.document)}:n(jQuery,window,document)}(function(n,t,i,r){function at(t){var i,r,u={};n.each(t,function(n){(i=n.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(r=n.replace(i[0],i[2].toLowerCase()),u[r]=n,"o"===i[1]&&at(t[n]))});t._hungarianMap=u}function nt(t,i,u){t._hungarianMap||at(t);var f;n.each(i,function(e){f=t._hungarianMap[e];f!==r&&(u||i[f]===r)&&("o"===f.charAt(0)?(i[f]||(i[f]={}),n.extend(!0,i[f],i[e]),nt(t[f],i[f],u)):i[f]=i[e])})}function fr(n){var t=u.defaults.oLanguage,i=n.sZeroRecords;!n.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&k(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&k(n,n,"sZeroRecords","sLoadingRecords");n.sInfoThousands&&(n.sThousands=n.sInfoThousands);(n=n.sDecimal)&&ue(n)}function au(n){if(w(n,"ordering","bSort"),w(n,"orderMulti","bSortMulti"),w(n,"orderClasses","bSortClasses"),w(n,"orderCellsTop","bSortCellsTop"),w(n,"order","aaSorting"),w(n,"orderFixed","aaSortingFixed"),w(n,"paging","bPaginate"),w(n,"pagingType","sPaginationType"),w(n,"pageLength","iDisplayLength"),w(n,"searching","bFilter"),"boolean"==typeof n.sScrollX&&(n.sScrollX=n.sScrollX?"100%":""),"boolean"==typeof n.scrollX&&(n.scrollX=n.scrollX?"100%":""),n=n.aoSearchCols)for(var t=0,i=n.length;t<i;t++)n[t]&&nt(u.models.oSearch,n[t])}function vu(t){w(t,"orderable","bSortable");w(t,"orderData","aDataSort");w(t,"orderSequence","asSorting");w(t,"orderDataType","sortDataType");var i=t.aDataSort;i&&!n.isArray(i)&&(t.aDataSort=[i])}function yu(t){var i;if(!u.__browser){i={};u.__browser=i;var f=n("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=f.children(),e=r.children();i.barWidth=r[0].offsetWidth-r[0].clientWidth;i.bScrollOversize=100===e[0].offsetWidth&&100!==r[0].clientWidth;i.bScrollbarLeft=1!==Math.round(e.offset().left);i.bBounding=f[0].getBoundingClientRect().width?!0:!1;f.remove()}n.extend(t.oBrowser,u.__browser);t.oScroll.iBarWidth=u.__browser.barWidth}function pu(n,t,i,u,f,e){var o,s=!1;for(i!==r&&(o=i,s=!0);u!==f;)n.hasOwnProperty(u)&&(o=s?t(o,n[u],u,n):n[u],s=!0,u+=e);return o}function er(t,r){var f=u.defaults.column,e=t.aoColumns.length,f=n.extend({},u.models.oColumn,f,{nTh:r?r:i.createElement("th"),sTitle:f.sTitle?f.sTitle:r?r.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[e],mData:f.mData?f.mData:e,idx:e});t.aoColumns.push(f);f=t.aoPreSearchCols;f[e]=n.extend({},u.models.oSearch,f[e]);ui(t,e,n(r).data())}function ui(t,i,f){var i=t.aoColumns[i],e=t.oClasses,s=n(i.nTh),h;i.sWidthOrig||(i.sWidthOrig=s.attr("width")||null,h=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/),h&&(i.sWidthOrig=h[1]));f!==r&&null!==f&&(vu(f),nt(u.defaults.column,f),f.mDataProp!==r&&!f.mData&&(f.mData=f.mDataProp),f.sType&&(i._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),n.extend(i,f),k(i,f,"sWidth","sWidthOrig"),f.iDataSort!==r&&(i.aDataSort=[f.iDataSort]),k(i,f,"aDataSort"));var o=i.mData,l=ft(o),c=i.mRender?ft(i.mRender):null,f=function(n){return"string"==typeof n&&-1!==n.indexOf("@")};i._bAttrSrc=n.isPlainObject(o)&&(f(o.sort)||f(o.type)||f(o.filter));i._setter=null;i.fnGetData=function(n,t,i){var u=l(n,t,r,i);return c&&t?c(u,t,n,i):u};i.fnSetData=function(n,t,i){return et(o)(n,t,i)};"number"!=typeof o&&(t._rowReadObject=!0);t.oFeatures.bSort||(i.bSortable=!1,s.addClass(e.sSortableNone));t=-1!==n.inArray("asc",i.asSorting);f=-1!==n.inArray("desc",i.asSorting);!i.bSortable||!t&&!f?(i.sSortingClass=e.sSortableNone,i.sSortingClassJUI=""):t&&!f?(i.sSortingClass=e.sSortableAsc,i.sSortingClassJUI=e.sSortJUIAscAllowed):!t&&f?(i.sSortingClass=e.sSortableDesc,i.sSortingClassJUI=e.sSortJUIDescAllowed):(i.sSortingClass=e.sSortable,i.sSortingClassJUI=e.sSortJUI)}function st(n){var t,i,r;if(!1!==n.oFeatures.bAutoWidth)for(t=n.aoColumns,wr(n),i=0,r=t.length;i<r;i++)t[i].nTh.style.width=t[i].sWidth;t=n.oScroll;(""!==t.sY||""!==t.sX)&&yi(n);o(n,null,"column-sizing",[n])}function vt(n,t){var i=fi(n,"bVisible");return"number"==typeof i[t]?i[t]:null}function yt(t,i){var r=fi(t,"bVisible"),r=n.inArray(i,r);return-1!==r?r:null}function pt(t){return n(p(t.aoColumns,"nTh")).filter(":visible").length}function fi(t,i){var r=[];return n.map(t.aoColumns,function(n,t){n[i]&&r.push(t)}),r}function or(n){for(var c=n.aoColumns,p=n.aoData,h=u.ext.type.detect,e,a,i,v,t,o,s,f=0,l=c.length;f<l;f++)if(t=c[f],s=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(e=0,a=h.length;e<a;e++){for(i=0,v=p.length;i<v;i++){if(s[i]===r&&(s[i]=y(n,i,f,"type")),o=h[e](s[i],n),!o&&e!==h.length-1)break;if("html"===o)break}if(o){t.sType=o;break}}t.sType||(t.sType="string")}}function wu(t,i,u,f){var s,o,a,c,v,h,l=t.aoColumns,e;if(i)for(s=i.length-1;0<=s;s--)for(h=i[s],e=h.targets!==r?h.targets:h.aTargets,n.isArray(e)||(e=[e]),o=0,a=e.length;o<a;o++)if("number"==typeof e[o]&&0<=e[o]){for(;l.length<=e[o];)er(t);f(e[o],h)}else if("number"==typeof e[o]&&0>e[o])f(l.length+e[o],h);else if("string"==typeof e[o])for(c=0,v=l.length;c<v;c++)("_all"==e[o]||n(l[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,t=u.length;s<t;s++)f(s,u[s])}function rt(t,i,f,e){var o=t.aoData.length,s=n.extend(!0,{},u.models.oRow,{src:f?"dom":"data",idx:o});s._aData=i;t.aoData.push(s);for(var c=t.aoColumns,h=0,l=c.length;h<l;h++)c[h].sType=null;return t.aiDisplayMaster.push(o),i=t.rowIdFn(i),i!==r&&(t.aIds[i]=s),(f||!t.oFeatures.bDeferRender)&&lr(t,o,f,e),o}function ei(t,i){var r;return i instanceof n||(i=n(i)),i.map(function(n,i){return r=cr(t,i),rt(t,r.data,i,r.cells)})}function y(n,t,i,u){var h=n.iDraw,e=n.aoColumns[i],s=n.aoData[t]._aData,o=e.sDefaultContent,f=e.fnGetData(s,u,{settings:n,row:t,col:i});if(f===r)return n.iDrawError!=h&&null===o&&(tt(n,0,"Requested unknown parameter "+("function"==typeof e.mData?"{function}":"'"+e.mData+"'")+" for row "+t+", column "+i,4),n.iDrawError=h),o;if((f===s||null===f)&&null!==o&&u!==r)f=o;else if("function"==typeof f)return f.call(s);return null===f&&"display"==u?"":f}function bu(n,t,i,r){n.aoColumns[i].fnSetData(n.aoData[t]._aData,r,{settings:n,row:t,col:i})}function sr(t){return n.map(t.match(/(\\.|[^\.])+/g)||[""],function(n){return n.replace(/\\./g,".")})}function ft(t){var i,u;return n.isPlainObject(t)?(i={},n.each(t,function(n,t){t&&(i[n]=ft(t))}),function(n,t,u,f){var e=i[t]||i._;return e!==r?e(n,t,u,f):n}):null===t?function(n){return n}:"function"==typeof t?function(n,i,r,u){return t(n,i,r,u)}:"string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))?(u=function(t,i,f){var s,o,e,h;if(""!==f)for(o=sr(f),e=0,h=o.length;e<h;e++){if(f=o[e].match(ti),s=o[e].match(lt),f){if(o[e]=o[e].replace(ti,""),""!==o[e]&&(t=t[o[e]]),s=[],o.splice(0,e+1),o=o.join("."),n.isArray(t))for(e=0,h=t.length;e<h;e++)s.push(u(t[e],i,o));t=f[0].substring(1,f[0].length-1);t=""===t?s:s.join(t);break}else if(s){o[e]=o[e].replace(lt,"");t=t[o[e]]();continue}if(null===t||t[o[e]]===r)return r;t=t[o[e]]}return t},function(n,i){return u(n,i,t)}):function(n){return n[t]}}function et(t){if(n.isPlainObject(t))return et(t._);if(null===t)return function(){};if("function"==typeof t)return function(n,i,r){t(n,"set",i,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var i=function(t,u,f){var f=sr(f),o,h,s,e,c;for(o=f[f.length-1],e=0,c=f.length-1;e<c;e++){if(h=f[e].match(ti),s=f[e].match(lt),h){if(f[e]=f[e].replace(ti,""),t[f[e]]=[],o=f.slice(),o.splice(0,e+1),h=o.join("."),n.isArray(u))for(s=0,c=u.length;s<c;s++)o={},i(o,u[s],h),t[f[e]].push(o);else t[f[e]]=u;return}s&&(f[e]=f[e].replace(lt,""),t=t[f[e]](u));(null===t[f[e]]||t[f[e]]===r)&&(t[f[e]]={});t=t[f[e]]}o.match(lt)?t[o.replace(lt,"")](u):t[o.replace(ti,"")]=u};return function(n,r){return i(n,r,t)}}return function(n,i){n[t]=i}}function hr(n){return p(n.aoData,"_aData")}function oi(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0;n.aIds={}}function si(n,t,i){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;-1!=f&&i===r&&n.splice(f,1)}function wt(n,t,i,u){var f=n.aoData[t],s,e=function(i,r){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=y(n,t,r,"display")},o;if("dom"!==i&&(i&&"auto"!==i||"dom"!==f.src)){if(o=f.anCells,o)if(u!==r)e(o[u],u);else for(i=0,s=o.length;i<s;i++)e(o[i],i)}else f._aData=cr(n,f,u,u===r?r:f._aData).data;if(f._aSortData=null,f._aFilterData=null,e=n.aoColumns,u!==r)e[u].sType=null;else{for(i=0,s=e.length;i<s;i++)e[i].sType=null;ar(n,f)}}function cr(t,i,u,f){var s=[],e=i.firstChild,h,o,c=0,l,p=t.aoColumns,v=t._rowReadObject,f=f!==r?f:v?{}:[],a=function(n,t){if("string"==typeof n){var i=n.indexOf("@");-1!==i&&(i=n.substring(i+1),et(n)(f,t.getAttribute(i)))}},y=function(t){(u===r||u===c)&&(o=p[c],l=n.trim(t.innerHTML),o&&o._bAttrSrc?(et(o.mData._)(f,l),a(o.mData.sort,t),a(o.mData.type,t),a(o.mData.filter,t)):v?(o._setter||(o._setter=et(o.mData)),o._setter(f,l)):f[c]=l);c++};if(e)for(;e;)h=e.nodeName.toUpperCase(),("TD"==h||"TH"==h)&&(y(e),s.push(e)),e=e.nextSibling;else for(s=i.anCells,e=0,h=s.length;e<h;e++)y(s[e]);return(i=i.firstChild?i:i.nTr)&&(i=i.getAttribute("id"))&&et(t.rowId)(f,i),{data:f,cells:s}}function lr(t,r,u,f){var c=t.aoData[r],a=c._aData,v=[],l,h,e,s,p;if(null===c.nTr){for(l=u||i.createElement("tr"),c.nTr=l,c.anCells=v,l._DT_RowIndex=r,ar(t,c),s=0,p=t.aoColumns.length;s<p;s++)e=t.aoColumns[s],h=u?f[s]:i.createElement(e.sCellType),h._DT_CellIndex={row:r,column:s},v.push(h),u&&!e.mRender&&e.mData===s||n.isPlainObject(e.mData)&&e.mData._===s+".display"||(h.innerHTML=y(t,r,s,"display")),e.sClass&&(h.className+=" "+e.sClass),e.bVisible&&!u?l.appendChild(h):!e.bVisible&&u&&h.parentNode.removeChild(h),e.fnCreatedCell&&e.fnCreatedCell.call(t.oInstance,h,y(t,r,s),a,r,s);o(t,"aoRowCreatedCallback",null,[l,a,r])}c.nTr.setAttribute("role","row")}function ar(t,i){var f=i.nTr,r=i._aData,u;f&&(u=t.rowIdFn(r),u&&(f.id=u),r.DT_RowClass&&(u=r.DT_RowClass.split(" "),i.__rowc=i.__rowc?nr(i.__rowc.concat(u)):u,n(f).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&n(f).attr(r.DT_RowAttr),r.DT_RowData&&n(f).data(r.DT_RowData))}function ku(t){var r,e,u,c,i,f=t.nTHead,l=t.nTFoot,o=0===n("th, td",f).length,s=t.oClasses,h=t.aoColumns;for(o&&(c=n("<tr/>").appendTo(f)),r=0,e=h.length;r<e;r++)i=h[r],u=n(i.nTh).addClass(i.sClass),o&&u.appendTo(c),t.oFeatures.bSort&&(u.addClass(i.sSortingClass),!1!==i.bSortable&&(u.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),kr(t,i.nTh,r))),i.sTitle!=u[0].innerHTML&&u.html(i.sTitle),nu(t,"header")(t,u,i,s);if(o&&kt(t.aoHeader,f),n(f).find(">tr").attr("role","row"),n(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(s.sFooterTH),null!==l)for(t=t.aoFooter[0],r=0,e=t.length;r<e;r++)i=h[r],i.nTf=t[r].cell,i.sClass&&n(i.nTf).addClass(i.sClass)}function bt(t,i,u){var f,l,e,o=[],c=[],s=t.aoColumns.length,h;if(i){for(u===r&&(u=!1),f=0,l=i.length;f<l;f++){for(o[f]=i[f].slice(),o[f].nTr=i[f].nTr,e=s-1;0<=e;e--)t.aoColumns[e].bVisible||u||o[f].splice(e,1);c.push([])}for(f=0,l=o.length;f<l;f++){if(t=o[f].nTr)for(;e=t.firstChild;)t.removeChild(e);for(e=0,i=o[f].length;e<i;e++)if(h=s=1,c[f][e]===r){for(t.appendChild(o[f][e].cell),c[f][e]=1;o[f+s]!==r&&o[f][e].cell==o[f+s][e].cell;)c[f+s][e]=1,s++;for(;o[f][e+h]!==r&&o[f][e].cell==o[f][e+h].cell;){for(u=0;u<s;u++)c[f+u][e+h]=1;h++}n(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function ut(t){var l=o(t,"aoPreDrawCallback","preDraw",[t]),i,y,e,s,p;if(-1!==n.inArray(!1,l))b(t,!1);else{var l=[],f=0,h=t.asStripeClasses,w=h.length,c=t.oLanguage,i=t.iInitDisplayStart,u="ssp"==v(t),a=t.aiDisplay;if(t.bDrawing=!0,i!==r&&-1!==i&&(t._iDisplayStart=u?i:i>=t.fnRecordsDisplay()?0:i,t.iInitDisplayStart=-1),i=t._iDisplayStart,y=t.fnDisplayEnd(),t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,b(t,!1);else if(u){if(!t.bDestroying&&!gu(t))return}else t.iDraw++;if(0!==a.length)for(c=u?t.aoData.length:y,u=u?0:i;u<c;u++)e=a[u],s=t.aoData[e],null===s.nTr&&lr(t,e),e=s.nTr,0!==w&&(p=h[f%w],s._sRowStripe!=p&&(n(e).removeClass(s._sRowStripe).addClass(p),s._sRowStripe=p)),o(t,"aoRowCallback",null,[e,s._aData,f,u]),l.push(e),f++;else f=c.sZeroRecords,1==t.iDraw&&"ajax"==v(t)?f=c.sLoadingRecords:c.sEmptyTable&&0===t.fnRecordsTotal()&&(f=c.sEmptyTable),l[0]=n("<tr/>",{"class":w?h[0]:""}).append(n("<td />",{valign:"top",colSpan:pt(t),"class":t.oClasses.sRowEmpty}).html(f))[0];o(t,"aoHeaderCallback","header",[n(t.nTHead).children("tr")[0],hr(t),i,y,a]);o(t,"aoFooterCallback","footer",[n(t.nTFoot).children("tr")[0],hr(t),i,y,a]);h=n(t.nTBody);h.children().detach();h.append(n(l));o(t,"aoDrawCallback","draw",[t]);t.bSorted=!1;t.bFiltered=!1;t.bDrawing=!1}}function ot(n,t){var i=n.oFeatures,r=i.bFilter;i.bSort&&gf(n);r?dt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();!0!==t&&(n._iDisplayStart=0);n._drawHold=t;ut(n);n._drawHold=!1}function du(t){var v=t.oClasses,y=n(t.nTable),y=n("<div/>").insertBefore(y),l=t.oFeatures,c=n("<div/>",{id:t.sTableId+"_wrapper","class":v.sWrapper+(t.nTFoot?"":" "+v.sNoFooter)}),a,e,r,i,o,f,s,h;for(t.nHolding=y[0],t.nTableWrapper=c[0],t.nTableReinsertBefore=t.nTable.nextSibling,a=t.sDom.split(""),h=0;h<a.length;h++){if(e=null,r=a[h],"<"==r){if(i=n("<div/>")[0],o=a[h+1],"'"==o||'"'==o){for(f="",s=2;a[h+s]!=o;)f+=a[h+s],s++;"H"==f?f=v.sJUIHeader:"F"==f&&(f=v.sJUIFooter);-1!=f.indexOf(".")?(o=f.split("."),i.id=o[0].substr(1,o[0].length-1),i.className=o[1]):"#"==f.charAt(0)?i.id=f.substr(1,f.length-1):i.className=f;h+=s}c.append(i);c=n(i)}else if(">"==r)c=c.parent();else if("l"==r&&l.bPaginate&&l.bLengthChange)e=vf(t);else if("f"==r&&l.bFilter)e=rf(t);else if("r"==r&&l.bProcessing)e=pf(t);else if("t"==r)e=wf(t);else if("i"==r&&l.bInfo)e=cf(t);else if("p"==r&&l.bPaginate)e=yf(t);else if(0!==u.ext.feature.length)for(i=u.ext.feature,s=0,o=i.length;s<o;s++)if(r==i[s].cFeature){e=i[s].fnInit(t);break}e&&(i=t.aanFeatures,i[r]||(i[r]=[]),i[r].push(e),c.append(e))}y.replaceWith(c);t.nHolding=null}function kt(t,i){var c=n(i).children("tr"),l,u,r,f,s,h,a,e,o,v;for(t.splice(0,t.length),r=0,h=c.length;r<h;r++)t.push([]);for(r=0,h=c.length;r<h;r++)for(l=c[r],u=l.firstChild;u;){if("TD"==u.nodeName.toUpperCase()||"TH"==u.nodeName.toUpperCase()){for(e=1*u.getAttribute("colspan"),o=1*u.getAttribute("rowspan"),e=!e||0===e||1===e?1:e,o=!o||0===o||1===o?1:o,f=0,s=t[r];s[f];)f++;for(a=f,v=1===e?!0:!1,s=0;s<e;s++)for(f=0;f<o;f++)t[r+f][a+s]={cell:u,unique:v},t[r+f].nTr=l}u=u.nextSibling}}function hi(n,t,i){var u=[],t,f,r,e;for(i||(i=n.aoHeader,t&&(i=[],kt(i,t))),t=0,f=i.length;t<f;t++)for(r=0,e=i[t].length;r<e;r++)!i[t][r].unique||u[r]&&n.bSortCellsTop||(u[r]=i[t][r].cell);return u}function ci(t,i,r){var e,c,f,i;o(t,"aoServerParams","serverParams",[i]);i&&n.isArray(i)&&(e={},c=/(.*?)\[\]$/,n.each(i,function(n,t){var i=t.name.match(c);i?(i=i[0],e[i]||(e[i]=[]),e[i].push(t.value)):e[t.name]=t.value}),i=e);var s,u=t.ajax,l=t.oInstance,h=function(n){o(t,null,"xhr",[t,n,t.jqXHR]);r(n)};n.isPlainObject(u)&&u.data&&(s=u.data,f=n.isFunction(s)?s(i,t):s,i=n.isFunction(s)&&f?f:n.extend(!0,i,f),delete u.data);f={data:i,success:function(n){var i=n.error||n.sError;i&&tt(t,0,i);t.json=n;h(n)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(i,r){var u=o(t,null,"xhr",[t,null,t.jqXHR]);-1===n.inArray(!0,u)&&("parsererror"==r?tt(t,0,"Invalid JSON response",1):4===i.readyState&&tt(t,0,"Ajax error",7));b(t,!1)}};t.oAjaxData=i;o(t,null,"preXhr",[t,i]);t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,n.map(i,function(n,t){return{name:t,value:n}}),h,t):t.sAjaxSource||"string"==typeof u?t.jqXHR=n.ajax(n.extend(f,{url:u||t.sAjaxSource})):n.isFunction(u)?t.jqXHR=u.call(l,i,h,t):(t.jqXHR=n.ajax(n.extend(f,u)),u.data=s)}function gu(n){return n.bAjaxDataGet?(n.iDraw++,b(n,!0),ci(n,nf(n),function(t){tf(n,t)}),!1):!0}function nf(t){var e=t.aoColumns,v=e.length,s=t.oFeatures,l=t.oPreviousSearch,w=t.aoPreSearchCols,r,a=[],o,f,h,y=ht(t),i,c;for(r=t._iDisplayStart,o=!1!==s.bPaginate?t._iDisplayLength:-1,i=function(n,t){a.push({name:n,value:t})},i("sEcho",t.iDraw),i("iColumns",v),i("sColumns",p(e,"sName").join(",")),i("iDisplayStart",r),i("iDisplayLength",o),c={draw:t.iDraw,columns:[],order:[],start:r,length:o,search:{value:l.sSearch,regex:l.bRegex}},r=0;r<v;r++)f=e[r],h=w[r],o="function"==typeof f.mData?"function":f.mData,c.columns.push({data:o,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),i("mDataProp_"+r,o),s.bFilter&&(i("sSearch_"+r,h.sSearch),i("bRegex_"+r,h.bRegex),i("bSearchable_"+r,f.bSearchable)),s.bSort&&i("bSortable_"+r,f.bSortable);return s.bFilter&&(i("sSearch",l.sSearch),i("bRegex",l.bRegex)),s.bSort&&(n.each(y,function(n,t){c.order.push({column:t.col,dir:t.dir});i("iSortCol_"+n,t.col);i("sSortDir_"+n,t.dir)}),i("iSortingCols",y.length)),e=u.ext.legacy.ajax,null===e?t.sAjaxSource?a:c:e?a:c}function tf(n,t){var f=li(n,t),i=t.sEcho!==r?t.sEcho:t.draw,u=t.iTotalRecords!==r?t.iTotalRecords:t.recordsTotal,e=t.iTotalDisplayRecords!==r?t.iTotalDisplayRecords:t.recordsFiltered;if(i){if(1*i<n.iDraw)return;n.iDraw=1*i}for(oi(n),n._iRecordsTotal=parseInt(u,10),n._iRecordsDisplay=parseInt(e,10),i=0,u=f.length;i<u;i++)rt(n,f[i]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;ut(n);n._bInitComplete||vi(n,t);n.bAjaxDataGet=!0;b(n,!1)}function li(t,i){var u=n.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===u?i.aaData||i[u]:""!==u?ft(u)(i):i}function rf(t){var u=t.oClasses,s=t.sTableId,h=t.oLanguage,r=t.oPreviousSearch,o=t.aanFeatures,f='<input type="search" class="'+u.sFilterInput+'"/>',e=h.sSearch,e=e.match(/_INPUT_/)?e.replace("_INPUT_",f):e+f,u=n("<div/>",{id:o.f?null:s+"_filter","class":u.sFilter}).append(n("<label/>").append(e)),o=function(){var n=this.value?this.value:"";n!=r.sSearch&&(dt(t,{sSearch:n,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),t._iDisplayStart=0,ut(t))},f=null!==t.searchDelay?t.searchDelay:"ssp"===v(t)?400:0,c=n("input",u).val(r.sSearch).attr("placeholder",h.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",f?pi(o,f):o).bind("keypress.DT",function(n){if(13==n.keyCode)return!1}).attr("aria-controls",s);n(t.nTable).on("search.dt.DT",function(n,u){if(t===u)try{c[0]!==i.activeElement&&c.val(r.sSearch)}catch(f){}});return u[0]}function dt(n,t,i){var f=n.oPreviousSearch,u=n.aoPreSearchCols,e=function(n){f.sSearch=n.sSearch;f.bRegex=n.bRegex;f.bSmart=n.bSmart;f.bCaseInsensitive=n.bCaseInsensitive};if(or(n),"ssp"!=v(n)){for(ef(n,t.sSearch,i,t.bEscapeRegex!==r?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),e(t),t=0;t<u.length;t++)ff(n,u[t].sSearch,t,u[t].bEscapeRegex!==r?!u[t].bEscapeRegex:u[t].bRegex,u[t].bSmart,u[t].bCaseInsensitive);uf(n)}else e(t);n.bFiltered=!0;o(n,null,"search",[n])}function uf(t){for(var s=u.ext.search,i=t.aiDisplay,e,r,o=0,c=s.length;o<c;o++){for(var h=[],f=0,l=i.length;f<l;f++)r=i[f],e=t.aoData[r],s[o](t,e._aFilterData,r,e._aData,f)&&h.push(r);i.length=0;n.merge(i,h)}}function ff(n,t,i,r,u,f){if(""!==t)for(var e=n.aiDisplay,r=vr(t,r,u,f),u=e.length-1;0<=u;u--)t=n.aoData[e[u]]._aFilterData[i],r.test(t)||e.splice(u,1)}function ef(n,t,i,r,f,e){var r=vr(t,r,f,e),f=n.oPreviousSearch.sSearch,e=n.aiDisplayMaster,o;if(0!==u.ext.search.length&&(i=!0),o=of(n),0>=t.length)n.aiDisplay=e.slice();else for((o||i||f.length>t.length||0!==t.indexOf(f)||n.bSorted)&&(n.aiDisplay=e.slice()),t=n.aiDisplay,i=t.length-1;0<=i;i--)r.test(n.aoData[t[i]]._sFilterRow)||t.splice(i,1)}function vr(t,i,r,u){return t=i?t:ai(t),r&&(t="^(?=.*?"+n.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(n){if('"'===n.charAt(0))var t=n.match(/^"(.*)"$/),n=t?t[1]:n;return n.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,u?"i":"")}function ai(n){return n.replace(we,"\\$1")}function of(n){var s=n.aoColumns,i,r,f,h,c,e,t,o,l=u.ext.type.search;for(i=!1,r=0,h=n.aoData.length;r<h;r++)if(o=n.aoData[r],!o._aFilterData){for(e=[],f=0,c=s.length;f<c;f++)i=s[f],i.bSearchable?(t=y(n,r,f,"filter"),l[i.sType]&&(t=l[i.sType](t)),null===t&&(t=""),"string"!=typeof t&&t.toString&&(t=t.toString())):t="",t.indexOf&&-1!==t.indexOf("&")&&(tr.innerHTML=t,t=be?tr.textContent:tr.innerText),t.replace&&(t=t.replace(/[\r\n]/g,"")),e.push(t);o._aFilterData=e;o._sFilterRow=e.join("  ");i=!0}return i}function sf(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function hf(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function cf(t){var i=t.sTableId,r=t.aanFeatures.i,u=n("<div/>",{"class":t.oClasses.sInfo,id:r?null:i+"_info"});return r||(t.aoDrawCallback.push({fn:lf,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),n(t.nTable).attr("aria-describedby",i+"_info")),u[0]}function lf(t){var f=t.aanFeatures.i;if(0!==f.length){var i=t.oLanguage,o=t._iDisplayStart+1,s=t.fnDisplayEnd(),e=t.fnRecordsTotal(),u=t.fnRecordsDisplay(),r=u?i.sInfo:i.sInfoEmpty;u!==e&&(r+=" "+i.sInfoFiltered);r+=i.sInfoPostFix;r=af(t,r);i=i.fnInfoCallback;null!==i&&(r=i.call(t.oInstance,t,o,s,e,u,r));n(f).html(r)}}function af(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=-1===r;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function gt(n){var t,r,e=n.iInitDisplayStart,i=n.aoColumns,u,f;if(r=n.oFeatures,f=n.bDeferLoading,n.bInitialised){for(du(n),ku(n),bt(n,n.aoHeader),bt(n,n.aoFooter),b(n,!0),r.bAutoWidth&&wr(n),t=0,r=i.length;t<r;t++)u=i[t],u.sWidth&&(u.nTh.style.width=h(u.sWidth));o(n,null,"preInit",[n]);ot(n);i=v(n);("ssp"!=i||f)&&("ajax"==i?ci(n,[],function(i){var r=li(n,i);for(t=0;t<r.length;t++)rt(n,r[t]);n.iInitDisplayStart=e;ot(n);b(n,!1);vi(n,i)},n):(b(n,!1),vi(n)))}else setTimeout(function(){gt(n)},200)}function vi(n,t){n._bInitComplete=!0;(t||n.oInit.aaData)&&st(n);o(n,null,"plugin-init",[n,t]);o(n,"aoInitComplete","init",[n,t])}function yr(n,t){var i=parseInt(t,10);n._iDisplayLength=i;gr(n);o(n,null,"length",[n,i])}function vf(t){for(var r,o=t.oClasses,e=t.sTableId,i=t.aLengthMenu,u=n.isArray(i[0]),s=u?i[0]:i,i=u?i[1]:i,u=n("<select/>",{name:e+"_length","aria-controls":e,"class":o.sLengthSelect}),f=0,h=s.length;f<h;f++)u[0][f]=new Option(i[f],s[f]);return r=n("<div><label/><\/div>").addClass(o.sLength),t.aanFeatures.l||(r[0].id=e+"_length"),r.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",u[0].outerHTML)),n("select",r).val(t._iDisplayLength).bind("change.DT",function(){yr(t,n(this).val());ut(t)}),n(t.nTable).bind("length.dt.DT",function(i,u,f){t===u&&n("select",r).val(f)}),r[0]}function yf(t){var i=t.sPaginationType,r=u.ext.pager[i],e="function"==typeof r,o=function(n){ut(n)},i=n("<div/>").addClass(t.oClasses.sPaging+i)[0],f=t.aanFeatures;return e||r.fnInit(t,i,o),f.p||(i.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(n){if(e)for(var u=n._iDisplayStart,i=n._iDisplayLength,s=n.fnRecordsDisplay(),t=-1===i,u=t?0:Math.ceil(u/i),i=t?1:Math.ceil(s/i),s=r(u,i),t=0,h=f.p.length;t<h;t++)nu(n,"pageButton")(n,f.p[t],t,s,u,i);else r.fnUpdate(n,o)},sName:"pagination"})),i}function pr(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay();return 0===f||-1===u?r=0:"number"==typeof t?(r=t*u,r>f&&(r=0)):"first"==t?r=0:"previous"==t?(r=0<=u?r-u:0,0>r&&(r=0)):"next"==t?r+u<f&&(r+=u):"last"==t?r=Math.floor((f-1)/u)*u:tt(n,0,"Unknown paging action: "+t,5),t=n._iDisplayStart!==r,n._iDisplayStart=r,t&&(o(n,null,"page",[n]),i&&ut(n)),t}function pf(t){return n("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function b(t,i){t.oFeatures.bProcessing&&n(t.aanFeatures.r).css("display",i?"block":"none");o(t,null,"processing",[t,i])}function wf(t){var i=n(t.nTable),f;if(i.attr("role","grid"),f=t.oScroll,""===f.sX&&""===f.sY)return t.nTable;var u=f.sX,c=f.sY,r=t.oClasses,s=i.children("caption"),l=s.length?s[0]._captionSide:null,e=n(i[0].cloneNode(!1)),y=n(i[0].cloneNode(!1)),o=i.children("tfoot");o.length||(o=null);e=n("<div/>",{"class":r.sScrollWrapper}).append(n("<div/>",{"class":r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?u?h(u):null:"100%"}).append(n("<div/>",{"class":r.sScrollHeadInner}).css({"box-sizing":"content-box",width:f.sXInner||"100%"}).append(e.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(i.children("thead"))))).append(n("<div/>",{"class":r.sScrollBody}).css({position:"relative",overflow:"auto",width:u?h(u):null}).append(i));o&&e.append(n("<div/>",{"class":r.sScrollFoot}).css({overflow:"hidden",border:0,width:u?u?h(u):null:"100%"}).append(n("<div/>",{"class":r.sScrollFootInner}).append(y.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(i.children("tfoot")))));var i=e.children(),a=i[0],r=i[1],v=o?i[2]:null;if(u)n(r).on("scroll.DT",function(){var n=this.scrollLeft;a.scrollLeft=n;o&&(v.scrollLeft=n)});return n(r).css(c&&f.bCollapse?"max-height":"height",c),t.nScrollHead=a,t.nScrollBody=r,t.nScrollFoot=v,t.aoDrawCallback.push({fn:yi,sName:"scrolling"}),e[0]}function yi(t){var f=t.oScroll,s=f.sX,v=f.sXInner,w=f.sY,f=f.iBarWidth,e=n(t.nScrollHead),pt=e[0].style,i=e.children("div"),et=i[0].style,wt=i.children("table"),i=t.nScrollBody,y=n(i),nt=i.style,it=n(t.nScrollFoot).children("div"),bt=it.children("table"),b=n(t.nTHead),u=n(t.nTable),ot=u[0],k=ot.style,c=t.nTFoot?n(t.nTFoot):null,ht=t.oBrowser,rt=ht.bScrollOversize,kt=p(t.aoColumns,"nTh"),l,o,a,d,ut=[],ft=[],ct=[],lt=[],at,yt=function(n){n=n.style;n.paddingTop="0";n.paddingBottom="0";n.borderTopWidth="0";n.borderBottomWidth="0";n.height=0};o=i.scrollHeight>i.clientHeight;t.scrollBarVis!==o&&t.scrollBarVis!==r?(t.scrollBarVis=o,st(t)):(t.scrollBarVis=o,u.children("thead, tfoot").remove(),c&&(a=c.clone().prependTo(u),l=c.find("tr"),a=a.find("tr")),d=b.clone().prependTo(u),b=b.find("tr"),o=d.find("tr"),d.find("th, td").removeAttr("tabindex"),s||(nt.width="100%",e[0].style.width="100%"),n.each(hi(t,d),function(n,i){at=vt(t,n);i.style.width=t.aoColumns[at].sWidth}),c&&g(function(n){n.style.width=""},a),e=u.outerWidth(),""===s?(k.width="100%",rt&&(u.find("tbody").height()>i.offsetHeight||"scroll"==y.css("overflow-y"))&&(k.width=h(u.outerWidth()-f)),e=u.outerWidth()):""!==v&&(k.width=h(v),e=u.outerWidth()),g(yt,o),g(function(t){ct.push(t.innerHTML);ut.push(h(n(t).css("width")))},o),g(function(t,i){n.inArray(t,kt)!==-1&&(t.style.width=ut[i])},b),n(o).height(0),c&&(g(yt,a),g(function(t){lt.push(t.innerHTML);ft.push(h(n(t).css("width")))},a),g(function(n,t){n.style.width=ft[t]},l),n(a).height(0)),g(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ct[t]+"<\/div>";n.style.width=ut[t]},o),c&&g(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+lt[t]+"<\/div>";n.style.width=ft[t]},a),u.outerWidth()<e?(l=i.scrollHeight>i.offsetHeight||"scroll"==y.css("overflow-y")?e+f:e,rt&&(i.scrollHeight>i.offsetHeight||"scroll"==y.css("overflow-y"))&&(k.width=h(l-f)),(""===s||""!==v)&&tt(t,1,"Possible column misalignment",6)):l="100%",nt.width=h(l),pt.width=h(l),c&&(t.nScrollFoot.style.width=h(l)),!w&&rt&&(nt.height=h(ot.offsetHeight+f)),s=u.outerWidth(),wt[0].style.width=h(s),et.width=h(s),v=u.height()>i.clientHeight||"scroll"==y.css("overflow-y"),w="padding"+(ht.bScrollbarLeft?"Left":"Right"),et[w]=v?f+"px":"0px",c&&(bt[0].style.width=h(s),it[0].style.width=h(s),it[0].style[w]=v?f+"px":"0px"),u.children("colgroup").insertBefore(u.children("thead")),y.scroll(),(t.bSorted||t.bFiltered)&&!t._drawHold&&(i.scrollTop=0))}function g(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)1===r.nodeType&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function wr(i){var s=i.nTable,a=i.aoColumns,v=i.oScroll,y=v.sY,p=v.sX,b=v.sXInner,u=a.length,o=fi(i,"bVisible"),c=n("th",i.nTHead),l=s.getAttribute("width"),e=s.parentNode,w=!1,r,f,k=i.oBrowser,v=k.bScrollOversize,d;for((r=s.style.width)&&-1!==r.indexOf("%")&&(l=r),r=0;r<o.length;r++)f=a[o[r]],null!==f.sWidth&&(f.sWidth=bf(f.sWidthOrig,e),w=!0);if(!v&&(w||p||y||u!=pt(i)||u!=c.length)){for(u=n(s).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove(),d=n("<tr/>").appendTo(u.find("tbody")),u.find("thead, tfoot").remove(),u.append(n(i.nTHead).clone()).append(n(i.nTFoot).clone()),u.find("tfoot th, tfoot td").css("width",""),c=hi(i,u.find("thead")[0]),r=0;r<o.length;r++)f=a[o[r]],c[r].style.width=null!==f.sWidthOrig&&""!==f.sWidthOrig?h(f.sWidthOrig):"",f.sWidthOrig&&p&&n(c[r]).append(n("<div/>").css({width:f.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(r=0;r<o.length;r++)w=o[r],f=a[w],n(kf(i,w)).clone(!1).append(f.sContentPadding).appendTo(d);for(n("[name]",u).removeAttr("name"),f=n("<div/>").css(p||y?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(u).appendTo(e),p&&b?u.width(b):p?(u.css("width","auto"),u.removeAttr("width"),u.width()<e.clientWidth&&l&&u.width(e.clientWidth)):y?u.width(e.clientWidth):l&&u.width(l),r=y=0;r<o.length;r++)e=n(c[r]),b=e.outerWidth()-e.width(),e=k.bBounding?Math.ceil(c[r].getBoundingClientRect().width):e.outerWidth(),y+=e,a[o[r]].sWidth=h(e-b);s.style.width=h(y);f.remove()}else for(r=0;r<u;r++)o=vt(i,r),null!==o&&(a[o].sWidth=h(c.eq(r).width()));l&&(s.style.width=h(l));(l||p)&&!i._reszEvt&&(s=function(){n(t).bind("resize.DT-"+i.sInstance,pi(function(){st(i)}))},v?setTimeout(s,1e3):s(),i._reszEvt=!0)}function pi(n,t){var u=t!==r?t:200,i,f;return function(){var t=this,e=+new Date,o=arguments;i&&e<i+u?(clearTimeout(f),f=setTimeout(function(){i=r;n.apply(t,o)},u)):(i=e,n.apply(t,o))}}function bf(t,r){if(!t)return 0;var u=n("<div/>").css("width",h(t)).appendTo(r||i.body),f=u[0].offsetWidth;return u.remove(),f}function kf(t,i){var r=df(t,i),u;return 0>r?null:(u=t.aoData[r],u.nTr?u.anCells[i]:n("<td/>").html(y(t,r,i,"display"))[0])}function df(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=y(n,r,t,"display")+"",i=i.replace(ke,""),i=i.replace(/&nbsp;/g," "),i.length>u&&(u=i.length,f=r);return f}function h(n){return null===n?"0px":"number"==typeof n?0>n?"0px":n+"px":n.match(/\d$/)?n+"px":n}function ht(t){var i,o,a=[],h=t.aoColumns,e,s,c,l,f;for(i=t.aaSortingFixed,o=n.isPlainObject(i),f=[],e=function(t){t.length&&!n.isArray(t[0])?f.push(t):n.merge(f,t)},n.isArray(i)&&e(i),o&&i.pre&&e(i.pre),e(t.aaSorting),o&&i.post&&e(i.post),t=0;t<f.length;t++)for(l=f[t][0],e=h[l].aDataSort,i=0,o=e.length;i<o;i++)s=e[i],c=h[s].sType||"string",f[t]._idx===r&&(f[t]._idx=n.inArray(f[t][1],h[s].asSorting)),a.push({src:l,col:s,dir:f[t][1],index:f[t]._idx,type:c,formatter:u.ext.type.order[c+"-pre"]});return a}function gf(n){var t,f,r=[],h=u.ext.type.order,e=n.aoData,c=0,s,o=n.aiDisplayMaster,i;for(or(n),i=ht(n),t=0,f=i.length;t<f;t++)s=i[t],s.formatter&&c++,te(n,s.col);if("ssp"!=v(n)&&0!==i.length){for(t=0,f=o.length;t<f;t++)r[o[t]]=t;c===i.length?o.sort(function(n,t){for(var u,f,s,h=i.length,c=e[n]._aSortData,l=e[t]._aSortData,o=0;o<h;o++)if(s=i[o],u=c[s.col],f=l[s.col],u=u<f?-1:u>f?1:0,0!==u)return"asc"===s.dir?u:-u;return u=r[n],f=r[t],u<f?-1:u>f?1:0}):o.sort(function(n,t){for(var u,o,f,c=i.length,l=e[n]._aSortData,a=e[t]._aSortData,s=0;s<c;s++)if(f=i[s],u=l[f.col],o=a[f.col],f=h[f.type+"-"+f.dir]||h["string-"+f.dir],u=f(u,o),0!==u)return u;return u=r[n],o=r[t],u<o?-1:u>o?1:0})}n.bSorted=!0}function ne(n){for(var u,f,e,t,o=n.aoColumns,i=ht(n),n=n.oLanguage.oAria,r=0,s=o.length;r<s;r++)t=o[r],u=t.asSorting,e=t.sTitle.replace(/<.*?>/g,""),f=t.nTh,f.removeAttribute("aria-sort"),t.bSortable&&(0<i.length&&i[0].col==r?(f.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),t=u[i[0].index+1]||u[0]):t=u[0],e+="asc"===t?n.sSortAscending:n.sSortDescending),f.setAttribute("aria-label",e)}function br(t,i,u,f){var e=t.aaSorting,o=t.aoColumns[i].asSorting,s=function(t,i){var u=t._idx;return u===r&&(u=n.inArray(t[1],o)),u+1<o.length?u+1:i?null:0};"number"==typeof e[0]&&(e=t.aaSorting=[e]);u&&t.oFeatures.bSortMulti?(u=n.inArray(i,p(e,"0")),-1!==u?(i=s(e[u],!0),null===i&&1===e.length&&(i=0),null===i?e.splice(u,1):(e[u][1]=o[i],e[u]._idx=i)):(e.push([i,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==i?(i=s(e[0]),e.length=1,e[0][1]=o[i],e[0]._idx=i):(e.length=0,e.push([i,o[0]]),e[0]._idx=0);ot(t);"function"==typeof f&&f(t)}function kr(n,t,i,r){var u=n.aoColumns[i];dr(t,{},function(t){!1!==u.bSortable&&(n.oFeatures.bProcessing?(b(n,!0),setTimeout(function(){br(n,i,t.shiftKey,r);"ssp"!==v(n)&&b(n,!1)},0)):br(n,i,t.shiftKey,r))})}function wi(t){var e=t.aLastSort,o=t.oClasses.sSortColumn,f=ht(t),i=t.oFeatures,r,u;if(i.bSort&&i.bSortClasses){for(i=0,r=e.length;i<r;i++)u=e[i].src,n(p(t.aoData,"anCells",u)).removeClass(o+(2>i?i+1:3));for(i=0,r=f.length;i<r;i++)u=f[i].src,n(p(t.aoData,"anCells",u)).addClass(o+(2>i?i+1:3))}t.aLastSort=f}function te(n,t){var i=n.aoColumns[t],f=u.ext.order[i.sSortDataType],o;f&&(o=f.call(n.oInstance,n,t,yt(n,t)));for(var e,s=u.ext.type.order[i.sType+"-pre"],r=0,h=n.aoData.length;r<h;r++)(i=n.aoData[r],i._aSortData||(i._aSortData=[]),!i._aSortData[t]||f)&&(e=f?o[r]:y(n,r,t,"sort"),i._aSortData[t]=s?s(e):e)}function bi(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:n.extend(!0,[],t.aaSorting),search:sf(t.oPreviousSearch),columns:n.map(t.aoColumns,function(n,i){return{visible:n.bVisible,search:sf(t.aoPreSearchCols[i])}})};o(t,"aoStateSaveParams","stateSaveParams",[t,i]);t.oSavedState=i;t.fnStateSaveCallback.call(t.oInstance,t,i)}}function ie(t){var u,s,e=t.aoColumns,i,f;if(t.oFeatures.bStateSave&&(i=t.fnStateLoadCallback.call(t.oInstance,t),i&&i.time&&(u=o(t,"aoStateLoadParams","stateLoadParams",[t,i]),-1===n.inArray(!1,u)&&(u=t.iStateDuration,!(0<u&&i.time<+new Date-1e3*u)&&e.length===i.columns.length)))){for(t.oLoadedState=n.extend(!0,{},i),i.start!==r&&(t._iDisplayStart=i.start,t.iInitDisplayStart=i.start),i.length!==r&&(t._iDisplayLength=i.length),i.order!==r&&(t.aaSorting=[],n.each(i.order,function(n,i){t.aaSorting.push(i[0]>=e.length?[0,i[1]]:i)})),i.search!==r&&n.extend(t.oPreviousSearch,hf(i.search)),u=0,s=i.columns.length;u<s;u++)f=i.columns[u],f.visible!==r&&(e[u].bVisible=f.visible),f.search!==r&&n.extend(t.aoPreSearchCols[u],hf(f.search));o(t,"aoStateLoaded","stateLoaded",[t,i])}}function ki(t){var i=u.settings,t=n.inArray(t,p(i,"nTable"));return-1!==t?i[t]:null}function tt(n,i,r,f){if(r="DataTables warning: "+(n?"table id="+n.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)t.console&&console.log&&console.log(r);else if(i=u.ext,i=i.sErrMode||i.errMode,n&&o(n,null,"error",[n,f,r]),"alert"==i)alert(r);else{if("throw"==i)throw Error(r);"function"==typeof i&&i(n,f,r)}}function k(t,i,u,f){n.isArray(u)?n.each(u,function(r,u){n.isArray(u)?k(t,i,u[0],u[1]):k(t,i,u)}):(f===r&&(f=u),i[u]!==r&&(t[f]=i[u]))}function re(t,i,r){var f,u;for(u in i)i.hasOwnProperty(u)&&(f=i[u],n.isPlainObject(f)?(n.isPlainObject(t[u])||(t[u]={}),n.extend(!0,t[u],f)):t[u]=r&&"data"!==u&&"aaData"!==u&&n.isArray(f)?f.slice():f);return t}function dr(t,i,r){n(t).bind("click.DT",i,function(n){t.blur();r(n)}).bind("keypress.DT",i,function(n){13===n.which&&(n.preventDefault(),r(n))}).bind("selectstart.DT",function(){return!1})}function a(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function o(t,i,r,u){var f=[];return i&&(f=n.map(t[i].slice().reverse(),function(n){return n.fn.apply(t.oInstance,u)})),null!==r&&(i=n.Event(r+".dt"),n(t.nTable).trigger(i,u),f.push(i.result)),f}function gr(n){var t=n._iDisplayStart,r=n.fnDisplayEnd(),i=n._iDisplayLength;t>=r&&(t=r-i);t-=t%i;(-1===i||0>t)&&(t=0);n._iDisplayStart=t}function nu(t,i){var r=t.renderer,f=u.ext.renderer[i];return n.isPlainObject(r)&&r[i]?f[r[i]]||f._:"string"==typeof r?f[r]||f._:f._}function v(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function di(n,t){var i=[],i=cu.numbers_length,r=Math.floor(i/2);return t<=i?i=ct(0,t):n<=r?(i=ct(0,i-2),i.push("ellipsis"),i.push(t-1)):(n>=t-1-r?i=ct(t-(i-2),t):(i=ct(n-r+2,n+r-1),i.push("ellipsis"),i.push(t-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function ue(t){n.each({num:function(n){return ri(n,t)},"num-fmt":function(n){return ri(n,t,iu)},"html-num":function(n){return ri(n,t,gi)},"html-num-fmt":function(n){return ri(n,t,gi,iu)}},function(n,i){c.type.order[n+t+"-pre"]=i;n.match(/^html\-/)&&(c.type.search[n+t]=c.type.search.html)})}function fe(n){return function(){var t=[ki(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u,c,e,f,s,tu={},ee=/[\r\n]/g,gi=/<.*?>/g,ye=/^[\w\+\-]/,pe=/[\w\+\-]$/,we=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),iu=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,it=function(n){return!n||!0===n||"-"===n?!0:!1},oe=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},se=function(n,t){return tu[t]||(tu[t]=RegExp(ai(t),"g")),"string"==typeof n&&"."!==t?n.replace(/\./g,"").replace(tu[t],"."):n},ru=function(n,t,i){var r="string"==typeof n;return it(n)?!0:(t&&r&&(n=se(n,t)),i&&r&&(n=n.replace(iu,"")),!isNaN(parseFloat(n))&&isFinite(n))},he=function(n,t,i){return it(n)?!0:(it(n)||"string"==typeof n)?ru(n.replace(gi,""),t,i)?!0:null:null},p=function(n,t,i){var f=[],u=0,e=n.length;if(i!==r)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][i]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ni=function(n,t,i,u){var e=[],f=0,o=t.length;if(u!==r)for(;f<o;f++)n[t[f]][i]&&e.push(n[t[f]][i][u]);else for(;f<o;f++)e.push(n[t[f]][i]);return e},ct=function(n,t){var f=[],u,i;for(t===r?(t=0,u=n):(u=t,t=n),i=t;i<u;i++)f.push(i);return f},ce=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},nr=function(n){var r=[],u,t,e=n.length,i,f=0;t=0;n:for(;t<e;t++){for(u=n[t],i=0;i<f;i++)if(r[i]===u)continue n;r.push(u);f++}return r},w=function(n,t,i){n[t]!==r&&(n[i]=n[t])},ti=/\[.*?\]$/,lt=/\(\)$/,tr=n("<div>")[0],be=tr.textContent!==r,ke=/<.*?>/g,uu,rr,su,ae,hu,cu,ri,lu;u=function(t){var f;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new e(ki(this[c.iApiIndex])):new e(this)};this.fnAddData=function(t,i){var u=this.api(!0),f=n.isArray(t)&&(n.isArray(t[0])||n.isPlainObject(t[0]))?u.rows.add(t):u.row.add(t);return(i===r||i)&&u.draw(),f.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),i=t.settings()[0],u=i.oScroll;n===r||n?t.draw(!1):(""!==u.sX||""!==u.sY)&&yi(i)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===r||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,i){var u=this.api(!0),n=u.rows(n),f=n.settings()[0],e=f.aoData[n[0][0]];return n.remove(),t&&t.call(this,f,e),(i===r||i)&&u.draw(),e};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(n)};this.fnFilter=function(n,t,i,u,f,e){f=this.api(!0);null===t||t===r?f.search(n,i,u,e):f.column(t).search(n,i,u,e);f.draw()};this.fnGetData=function(n,t){var i=this.api(!0),u;return n!==r?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==r||"td"==u||"th"==u?i.cell(n,t).data():i.row(n).data()||null):i.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==r?t.row(n).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(n){var i=this.api(!0),t=n.nodeName.toUpperCase();return"TR"==t?i.row(n).index():"TD"==t||"TH"==t?(n=i.cell(n).index(),[n.row,n.columnVisible,n.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show().child()[0]};this.fnPageChange=function(n,t){var i=this.api(!0).page(n);(t===r||t)&&i.draw(!1)};this.fnSetColumnVis=function(n,t,i){n=this.api(!0).column(n).visible(t);(i===r||i)&&n.columns.adjust().draw()};this.fnSettings=function(){return ki(this[c.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,i,u,f){var e=this.api(!0);return i===r||null===i?e.row(t).data(n):e.cell(t,i).data(n),(f===r||f)&&e.columns.adjust(),(u===r||u)&&e.draw(),0};this.fnVersionCheck=c.fnVersionCheck;var i=this,s=t===r,h=this.length;s&&(t={});this.oApi=this.internal=c.internal;for(f in u.ext.internal)f&&(this[f]=fe(f));return this.each(function(){var e={},e=1<h?re(e,t,!0):t,c=0,l,b=this.getAttribute("id"),ot=!1,p=u.defaults,d=n(this),w,y,f,g,ut,it,et;if("table"!=this.nodeName.toLowerCase())tt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{for(au(p),vu(p.column),nt(p,p,!0),nt(p.column,p.column,!0),nt(p,n.extend(e,d.data())),w=u.settings,c=0,l=w.length;c<l;c++){if(y=w[c],y.nTable==this||y.nTHead.parentNode==this||y.nTFoot&&y.nTFoot.parentNode==this){if(c=e.bRetrieve!==r?e.bRetrieve:p.bRetrieve,s||c)return y.oInstance;if(e.bDestroy!==r?e.bDestroy:p.bDestroy){y.oInstance.fnDestroy();break}else{tt(y,0,"Cannot reinitialise DataTable",3);return}}if(y.sTableId==this.id){w.splice(c,1);break}}if((null===b||""===b)&&(this.id=b="DataTables_Table_"+u.ext._unique++),f=n.extend(!0,{},u.models.oSettings,{sDestroyWidth:d[0].style.width,sInstance:b,sTableId:b}),f.nTable=this,f.oApi=i.internal,f.oInit=e,w.push(f),f.oInstance=1===i.length?i:d.dataTable(),au(e),e.oLanguage&&fr(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=n.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=re(n.extend(!0,{},p),e),k(f.oFeatures,e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),k(f,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),k(f.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),k(f.oLanguage,e,"fnInfoCallback"),a(f,"aoDrawCallback",e.fnDrawCallback,"user"),a(f,"aoServerParams",e.fnServerParams,"user"),a(f,"aoStateSaveParams",e.fnStateSaveParams,"user"),a(f,"aoStateLoadParams",e.fnStateLoadParams,"user"),a(f,"aoStateLoaded",e.fnStateLoaded,"user"),a(f,"aoRowCallback",e.fnRowCallback,"user"),a(f,"aoRowCreatedCallback",e.fnCreatedRow,"user"),a(f,"aoHeaderCallback",e.fnHeaderCallback,"user"),a(f,"aoFooterCallback",e.fnFooterCallback,"user"),a(f,"aoInitComplete",e.fnInitComplete,"user"),a(f,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),f.rowIdFn=ft(e.rowId),yu(f),b=f.oClasses,e.bJQueryUI?(n.extend(b,u.ext.oJUIClasses,e.oClasses),e.sDom===p.sDom&&"lfrtip"===p.sDom&&(f.sDom='<"H"lfr>t<"F"ip>'),f.renderer)?n.isPlainObject(f.renderer)&&!f.renderer.header&&(f.renderer.header="jqueryui"):f.renderer="jqueryui":n.extend(b,u.ext.classes,e.oClasses),d.addClass(b.sTable),f.iInitDisplayStart===r&&(f.iInitDisplayStart=e.iDisplayStart,f._iDisplayStart=e.iDisplayStart),null!==e.iDeferLoading&&(f.bDeferLoading=!0,c=n.isArray(e.iDeferLoading),f._iRecordsDisplay=c?e.iDeferLoading[0]:e.iDeferLoading,f._iRecordsTotal=c?e.iDeferLoading[1]:e.iDeferLoading),g=f.oLanguage,n.extend(!0,g,e.oLanguage),""!==g.sUrl&&(n.ajax({dataType:"json",url:g.sUrl,success:function(t){fr(t);nt(p.oLanguage,t);n.extend(!0,g,t);gt(f)},error:function(){gt(f)}}),ot=!0),null===e.asStripeClasses&&(f.asStripeClasses=[b.sStripeOdd,b.sStripeEven]),c=f.asStripeClasses,ut=d.children("tbody").find("tr").eq(0),-1!==n.inArray(!0,n.map(c,function(n){return ut.hasClass(n)}))&&(n("tbody tr",this).removeClass(c.join(" ")),f.asDestroyStripes=c.slice()),w=[],c=this.getElementsByTagName("thead"),0!==c.length&&(kt(f.aoHeader,c[0]),w=hi(f)),null===e.aoColumns)for(y=[],c=0,l=w.length;c<l;c++)y.push(null);else y=e.aoColumns;for(c=0,l=y.length;c<l;c++)er(f,w?w[c]:null);if(wu(f,e.aoColumnDefs,y,function(n,t){ui(f,n,t)}),ut.length&&(it=function(n,t){return n.getAttribute("data-"+t)!==null?t:null},n(ut[0]).children("th, td").each(function(n,t){var e=f.aoColumns[n],i,u;e.mData===n&&(i=it(t,"sort")||it(t,"order"),u=it(t,"filter")||it(t,"search"),(i!==null||u!==null)&&(e.mData={_:n+".display",sort:i!==null?n+".@data-"+i:r,type:i!==null?n+".@data-"+i:r,filter:u!==null?n+".@data-"+u:r},ui(f,n)))})),et=f.oFeatures,e.bStateSave&&(et.bStateSave=!0,ie(f,e),a(f,"aoDrawCallback",bi,"state_save")),e.aaSorting===r)for(w=f.aaSorting,c=0,l=w.length;c<l;c++)w[c][1]=f.aoColumns[c].asSorting[0];if(wi(f),et.bSort&&a(f,"aoDrawCallback",function(){if(f.bSorted){var t=ht(f),i={};n.each(t,function(n,t){i[t.src]=t.dir});o(f,null,"order",[f,t,i]);ne(f)}}),a(f,"aoDrawCallback",function(){(f.bSorted||v(f)==="ssp"||et.bDeferRender)&&wi(f)},"sc"),c=d.children("caption").each(function(){this._captionSide=d.css("caption-side")}),l=d.children("thead"),0===l.length&&(l=n("<thead/>").appendTo(this)),f.nTHead=l[0],l=d.children("tbody"),0===l.length&&(l=n("<tbody/>").appendTo(this)),f.nTBody=l[0],l=d.children("tfoot"),0===l.length&&0<c.length&&(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(l=n("<tfoot/>").appendTo(this)),0===l.length||0===l.children().length?d.addClass(b.sNoFooter):0<l.length&&(f.nTFoot=l[0],kt(f.aoFooter,f.nTFoot)),e.aaData)for(c=0;c<e.aaData.length;c++)rt(f,e.aaData[c]);else(f.bDeferLoading||"dom"==v(f))&&ei(f,n(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;!1===ot&&gt(f)}}),i=null,this};var le=[],l=Array.prototype,de=function(t){var i,r,f=u.settings,e=n.map(f,function(n){return n.nTable});if(t){if(t.nTable&&t.oApi)return[t];if(t.nodeName&&"table"===t.nodeName.toLowerCase())return i=n.inArray(t,e),-1!==i?[f[i]]:null;if(t&&"function"==typeof t.settings)return t.settings().toArray();"string"==typeof t?r=n(t):t instanceof n&&(r=t)}else return[];if(r)return r.map(function(){return i=n.inArray(this,e),-1!==i?f[i]:null}).toArray()};e=function(t,i){var r,f,u,o;if(!(this instanceof e))return new e(t,i);if(r=[],f=function(n){(n=de(n))&&(r=r.concat(n))},n.isArray(t))for(u=0,o=t.length;u<o;u++)f(t[u]);else f(t);this.context=nr(r);i&&n.merge(this,i);this.selector={rows:null,cols:null,opts:null};e.extend(this,this,le)};u.Api=e;n.extend(e.prototype,{any:function(){return 0!==this.count()},concat:l.concat,context:[],count:function(){return this.flatten().length},each:function(n){for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new e(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(l.filter)i=l.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new e(this.context,i)},flatten:function(){var n=[];return new e(this.context,n.concat.apply(n,this.toArray()))},join:l.join,indexOf:l.indexOf||function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1},iterator:function(n,t,i,u){var h=[],o,f,y,c,p,s=this.context,w,v,a=this.selector,l;for("string"==typeof n&&(u=i,i=t,t=n,n=!1),f=0,y=s.length;f<y;f++)if(l=new e(s[f]),"table"===t)o=i.call(l,s[f],f),o!==r&&h.push(o);else if("columns"===t||"rows"===t)o=i.call(l,s[f],this[f],f),o!==r&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(v=this[f],"column-rows"===t&&(w=ir(s[f],a.opts)),c=0,p=v.length;c<p;c++)o=v[c],o="cell"===t?i.call(l,s[f],o.row,o.column,f,c):i.call(l,s[f],o,f,c,w),o!==r&&h.push(o);return h.length||u?(n=new e(s,n?h.concat.apply([],h):h),t=n.selector,t.rows=a.rows,t.cols=a.cols,t.opts=a.opts,n):this},lastIndexOf:l.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(l.map)i=l.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new e(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:l.pop,push:l.push,reduce:l.reduce||function(n,t){return pu(this,n,t,0,this.length,1)},reduceRight:l.reduceRight||function(n,t){return pu(this,n,t,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new e(this.context,nr(this))},unshift:l.unshift});e.extend=function(t,i,r){if(r.length&&i&&(i instanceof e||i.__dt_wrapper))for(var u,s=function(n,t,i){return function(){var r=t.apply(n,arguments);return e.extend(r,r,i.methodExt),r}},f=0,o=r.length;f<o;f++)u=r[f],i[u.name]="function"==typeof u.val?s(t,u.val,u):n.isPlainObject(u.val)?{}:u.val,i[u.name].__dt_wrapper=!0,e.extend(t,i[u.name],u.propExt)};e.register=f=function(t,i){var u,f,r,l;if(n.isArray(t))for(u=0,f=t.length;u<f;u++)e.register(t[u],i);else for(var s=t.split("."),o=le,h,c,u=0,f=s.length;u<f;u++){h=(c=-1!==s[u].indexOf("()"))?s[u].replace("()",""):s[u];n:{for(r=0,l=o.length;r<l;r++)if(o[r].name===h){r=o[r];break n}r=null}r||(r={name:h,val:{},methodExt:[],propExt:[]},o.push(r));u===f-1?r.val=i:o=c?r.methodExt:r.propExt}};e.registerPlural=s=function(t,i,u){e.register(t,u);e.register(i,function(){var t=u.apply(this,arguments);return t===this?this:t instanceof e?t.length?n.isArray(t[0])?new e(t.context,t[0]):t[0]:r:t})};f("tables()",function(t){var i,r,u,t;return t?(i=e,r=this.context,"number"==typeof t?t=[r[t]]:(u=n.map(r,function(n){return n.nTable}),t=n(u).filter(t).map(function(){var t=n.inArray(this,u);return r[t]}).toArray()),i=new i(t)):i=this,i});f("table()",function(n){var n=this.tables(n),t=n.context;return t.length?new e(t[0]):n});s("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable},1)});s("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody},1)});s("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead},1)});s("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot},1)});s("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper},1)});f("draw()",function(n){return this.iterator("table",function(t){"page"===n?ut(t):("string"==typeof n&&(n="full-hold"===n?!1:!0),ot(t,!1===n))})});f("page()",function(n){return n===r?this.page.info().page:this.iterator("table",function(t){pr(t,n)})});f("page.info()",function(){if(0===this.context.length)return r;var n=this.context[0],i=n._iDisplayStart,t=n.oFeatures.bPaginate?n._iDisplayLength:-1,u=n.fnRecordsDisplay(),f=-1===t;return{page:f?0:Math.floor(i/t),pages:f?1:Math.ceil(u/t),start:i,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u,serverSide:"ssp"===v(n)}});f("page.len()",function(n){return n===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){yr(t,n)})});uu=function(n,t,i){var u,r;if(i){u=new e(n);u.one("draw",function(){i(u.ajax.json())})}"ssp"==v(n)?ot(n,t):(b(n,!0),r=n.jqXHR,r&&4!==r.readyState&&r.abort(),ci(n,[],function(i){oi(n);for(var i=li(n,i),r=0,u=i.length;r<u;r++)rt(n,i[r]);ot(n,t);b(n,!1)}))};f("ajax.json()",function(){var n=this.context;if(0<n.length)return n[0].json});f("ajax.params()",function(){var n=this.context;if(0<n.length)return n[0].oAjaxData});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){uu(i,!1===t,n)})});f("ajax.url()",function(t){var i=this.context;return t===r?0===i.length?r:(i=i[0],i.ajax?n.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){n.isPlainObject(i.ajax)?i.ajax.url=t:i.ajax=t})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){uu(i,!1===t,n)})});var fu=function(t,i,u,f,e){var h=[],v,l,o,a,s,y;for(o=typeof i,i&&"string"!==o&&"function"!==o&&i.length!==r||(i=[i]),o=0,a=i.length;o<a;o++)for(l=i[o]&&i[o].split?i[o].split(","):[i[o]],s=0,y=l.length;s<y;s++)(v=u("string"==typeof l[s]?n.trim(l[s]):l[s]))&&v.length&&(h=h.concat(v));if(t=c.selector[t],t.length)for(o=0,a=t.length;o<a;o++)h=t[o](f,e,h);return nr(h)},eu=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),n.extend({search:"none",order:"current",page:"all"},t)},ou=function(n){for(var t=0,i=n.length;t<i;t++)if(0<n[t].length)return n[0]=n[t],n[0].length=1,n.length=1,n.context=[n.context[t]],n;return n.length=0,n},ir=function(t,i){var r,u,e,o=[],s=t.aiDisplay,f;if(r=t.aiDisplayMaster,f=i.search,u=i.order,e=i.page,"ssp"==v(t))return"removed"===f?[]:ct(0,r.length);if("current"==e)for(r=t._iDisplayStart,u=t.fnDisplayEnd();r<u;r++)o.push(s[r]);else if("current"==u||"applied"==u)o="none"==f?r.slice():"applied"==f?s.slice():n.map(r,function(t){return-1===n.inArray(t,s)?t:null});else if("index"==u||"original"==u)for(r=0,u=t.aoData.length;r<u;r++)"none"==f?o.push(r):(e=n.inArray(r,s),(-1===e&&"removed"==f||0<=e&&"applied"==f)&&o.push(r));return o};f("rows()",function(t,i){t===r?t="":n.isPlainObject(t)&&(i=t,t="");var i=eu(i),u=this.iterator("table",function(u){var f=i;return fu("row",t,function(t){var i=oe(t),e;return i!==null&&!f?[i]:(e=ir(u,f),i!==null&&n.inArray(i,e)!==-1)?[i]:t?typeof t=="function"?n.map(e,function(n){var i=u.aoData[n];return t(n,i._aData,i.nTr)?n:null}):(i=ce(ni(u.aoData,e,"nTr")),t.nodeName)?t._DT_RowIndex!==r?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(i=n(t).closest("*[data-dt-row]"),i.length?[i.data("dt-row")]:[]):typeof t=="string"&&t.charAt(0)==="#"&&(e=u.aIds[t.replace(/^#/,"")],e!==r)?[e.idx]:n(i).filter(t).map(function(){return this._DT_RowIndex}).toArray():e},u,f)},1);return u.selector.rows=t,u.selector.opts=i,u});f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||r},1)});f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ni(n.aoData,t,"_aData")},1)});s("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){var r=t.aoData[i];return"search"===n?r._aFilterData:r._aSortData},1)});s("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){wt(t,i,n)})});s("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t},1)});s("rows().ids()","row().id()",function(n){for(var r,f,o,u=[],i=this.context,t=0,s=i.length;t<s;t++)for(r=0,f=this[t].length;r<f;r++)o=i[t].rowIdFn(i[t].aoData[this[t][r]]._aData),u.push((!0===n?"#":"")+o);return new e(i,u)});s("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var o=t.aoData,l=o[i],e,h,f,c,s;for(o.splice(i,1),e=0,h=o.length;e<h;e++)if(f=o[e],s=f.anCells,null!==f.nTr&&(f.nTr._DT_RowIndex=e),null!==s)for(f=0,c=s.length;f<c;f++)s[f]._DT_CellIndex.row=e;si(t.aiDisplayMaster,i);si(t.aiDisplay,i);si(n[u],i,!1);gr(t);i=t.rowIdFn(l._aData);i!==r&&delete t.aIds[i]}),this.iterator("table",function(n){for(var t=0,i=n.aoData.length;t<i;t++)n.aoData[t].idx=t}),this});f("rows.add()",function(t){var r=this.iterator("table",function(n){for(var i,u=[],r=0,f=t.length;r<f;r++)i=t[r],i.nodeName&&"TR"===i.nodeName.toUpperCase()?u.push(ei(n,i)[0]):u.push(rt(n,i));return u},1),i=this.rows(-1);return i.pop(),n.merge(i,r),i});f("row()",function(n,t){return ou(this.rows(n,t))});f("row().data()",function(n){var t=this.context;return n===r?t.length&&this.length?t[0].aoData[this[0]]._aData:r:(t[0].aoData[this[0]]._aData=n,wt(t[0],this[0],"data"),this)});f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null});f("row.add()",function(t){t instanceof n&&t.length&&(t=t[0]);var i=this.iterator("table",function(n){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?ei(n,t)[0]:rt(n,t)});return this.row(i[0])});rr=function(n,t){var i=n.context;i.length&&(i=i[0].aoData[t!==r?t:n[0]])&&i._details&&(i._details.remove(),i._detailsShow=r,i._details=r)};su=function(n,t){var o=n.context,i;if(o.length&&n.length&&(i=o[0].aoData[n[0]],i._details)){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var f=o[0],r=new e(f),u=f.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<p(u,"_details").length&&(r.on("draw.dt.DT_details",function(n,t){f===t&&r.rows({page:"current"}).eq(0).each(function(n){n=u[n];n._detailsShow&&n._details.insertAfter(n.nTr)})}),r.on("column-visibility.dt.DT_details",function(n,t){if(f===t)for(var i,e=pt(t),r=0,o=u.length;r<o;r++)i=u[r],i._details&&i._details.children("td[colspan]").attr("colspan",e)}),r.on("destroy.dt.DT_details",function(n,t){if(f===t)for(var i=0,e=u.length;i<e;i++)u[i]._details&&rr(r,i)}))}};f("row().child()",function(t,i){var u=this.context;if(t===r)return u.length&&this.length?u[0].aoData[this[0]]._details:r;if(!0===t)this.child.show();else if(!1===t)rr(this);else if(u.length&&this.length){var o=u[0],u=u[0].aoData[this[0]],f=[],e=function(t,i){if(n.isArray(t)||t instanceof n)for(var r=0,u=t.length;r<u;r++)e(t[r],i);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?f.push(t):(r=n("<tr><td/><\/tr>").addClass(i),n("td",r).addClass(i).html(t)[0].colSpan=pt(o),f.push(r[0]))};e(t,i);u._details&&u._details.remove();u._details=n(f);u._detailsShow&&u._details.insertAfter(u.nTr)}return this});f(["row().child.show()","row().child().show()"],function(){return su(this,!0),this});f(["row().child.hide()","row().child().hide()"],function(){return su(this,!1),this});f(["row().child.remove()","row().child().remove()"],function(){return rr(this),this});f("row().child.isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1});ae=/^(.+):(name|visIdx|visible)$/;hu=function(n,t,i,r,u){for(var i=[],r=0,f=u.length;r<f;r++)i.push(y(n,u[r],t));return i};f("columns()",function(t,i){t===r?t="":n.isPlainObject(t)&&(i=t,t="");var i=eu(i),u=this.iterator("table",function(r){var o=t,e=i,u=r.aoColumns,s=p(u,"sName"),f=p(u,"nTh");return fu("column",o,function(t){var i=oe(t),c,o,h;if(t==="")return ct(u.length);if(i!==null)return[i>=0?i:u.length+i];if(typeof t=="function")return c=ir(r,e),n.map(u,function(n,i){return t(i,hu(r,i,0,0,c),f[i])?i:null});if(o=typeof t=="string"?t.match(ae):"",o)switch(o[2]){case"visIdx":case"visible":return(i=parseInt(o[1],10),i<0)?(h=n.map(u,function(n,t){return n.bVisible?t:null}),[h[h.length+i]]):[vt(r,i)];case"name":return n.map(s,function(n,t){return n===o[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(i=n(f).filter(t).map(function(){return n.inArray(this,f)}).toArray(),i.length||!t.nodeName)?i:(i=n(t).closest("*[data-dt-column]"),i.length?[i.data("dt-column")]:[])},r,e)},1);return u.selector.cols=t,u.selector.opts=i,u});s("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh},1)});s("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf},1)});s("columns().data()","column().data()",function(){return this.iterator("column-rows",hu,1)});s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].mData},1)});s("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ni(t.aoData,f,"search"===n?"_aFilterData":"_aSortData",i)},1)});s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ni(n.aoData,u,"anCells",t)},1)});s("columns().visible()","column().visible()",function(t,i){return this.iterator("column",function(u,f){var v;if(t===r)return u.aoColumns[f].bVisible;var e=u.aoColumns,l=e[f],h=u.aoData,s,a,c;if(t!==r&&l.bVisible!==t){if(t)for(v=n.inArray(!0,p(e,"bVisible"),f+1),s=0,a=h.length;s<a;s++)c=h[s].nTr,e=h[s].anCells,c&&c.insertBefore(e[f],e[v]||null);else n(p(u.aoData,"anCells",f)).detach();l.bVisible=t;bt(u,u.aoHeader);bt(u,u.aoFooter);(i===r||i)&&st(u);o(u,null,"column-visibility",[u,f,t,i]);bi(u)}})});s("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return"visible"===n?yt(t,i):i},1)});f("columns.adjust()",function(){return this.iterator("table",function(n){st(n)},1)});f("column.index()",function(n,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===n||"toData"===n)return vt(i,t);if("fromData"===n||"toVisible"===n)return yt(i,t)}});f("column()",function(n,t){return ou(this.columns(n,t))});f("cells()",function(t,i,u){if(n.isPlainObject(t)&&(t.row===r?(u=t,t=null):(u=i,i=null)),n.isPlainObject(i)&&(u=i,i=null),null===i||i===r)return this.iterator("table",function(i){var w=t,a=eu(u),v=i.aoData,l=ir(i,a),b=ce(ni(v,l,"anCells")),k=n([].concat.apply([],b)),o,d=i.aoColumns.length,s,h,p,e,c,f;return fu("cell",w,function(t){var u=typeof t=="function";if(t===null||t===r||u){for(s=[],h=0,p=l.length;h<p;h++)for(o=l[h],e=0;e<d;e++)c={row:o,column:e},u?(f=v[o],t(c,y(i,o,e),f.anCells?f.anCells[e]:null)&&s.push(c)):s.push(c);return s}return n.isPlainObject(t)?[t]:(u=k.filter(t).map(function(n,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),u.length||!t.nodeName)?u:(f=n(t).closest("*[data-dt-row]"),f.length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[])},i,a)});var s=this.columns(i,u),h=this.rows(t,u),o,f,c,e,l,a=this.iterator("table",function(n,t){for(o=[],f=0,c=h[t].length;f<c;f++)for(e=0,l=s[t].length;e<l;e++)o.push({row:h[t][f],column:s[t][e]});return o},1);return n.extend(a.selector,{cols:i,rows:t,opts:u}),a});s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,i){return(n=n.aoData[t])&&n.anCells?n.anCells[i]:r},1)});f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return y(n,t,i)},1)});s("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]},1)});s("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,i,r){return y(t,i,r,n)},1)});s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:yt(n,i)}},1)});s("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,i,r){wt(t,i,n,r)})});f("cell()",function(n,t,i){return ou(this.cells(n,t,i))});f("cell().data()",function(n){var i=this.context,t=this[0];return n===r?i.length&&t.length?y(i[0],t[0].row,t[0].column):r:(bu(i[0],t[0].row,t[0].column,n),wt(i[0],t[0].row,"data",t[0].column),this)});f("order()",function(t,i){var u=this.context;return t===r?0!==u.length?u[0].aaSorting:r:("number"==typeof t?t=[[t,i]]:n.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(n){n.aaSorting=t.slice()}))});f("order.listener()",function(n,t,i){return this.iterator("table",function(r){kr(r,n,t,i)})});f("order.fixed()",function(t){if(!t){var i=this.context,i=i.length?i[0].aaSortingFixed:r;return n.isArray(i)?{pre:i}:i}return this.iterator("table",function(i){i.aaSortingFixed=n.extend(!0,{},t)})});f(["columns().order()","column().order()"],function(t){var i=this;return this.iterator("table",function(r,u){var f=[];n.each(i[u],function(n,i){f.push([i,t])});r.aaSorting=f})});f("search()",function(t,i,u,f){var e=this.context;return t===r?0!==e.length?e[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&dt(r,n.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),1)})});s("columns().search()","column().search()",function(t,i,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(t===r)return s[o].sSearch;e.oFeatures.bFilter&&(n.extend(s[o],{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),dt(e,e.oPreviousSearch,1))})});f("state()",function(){return this.context.length?this.context[0].oSavedState:null});f("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})});f("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});f("state.save()",function(){return this.iterator("table",function(n){bi(n)})});u.versionCheck=u.fnVersionCheck=function(n){for(var f=u.version.split("."),n=n.split("."),i,r,t=0,e=n.length;t<e;t++)if(i=parseInt(f[t],10)||0,r=parseInt(n[t],10)||0,i!==r)return i>r;return!0};u.isDataTable=u.fnIsDataTable=function(t){var i=n(t).get(0),r=!1;return n.each(u.settings,function(t,u){var f=u.nScrollHead?n("table",u.nScrollHead)[0]:null,e=u.nScrollFoot?n("table",u.nScrollFoot)[0]:null;(u.nTable===i||f===i||e===i)&&(r=!0)}),r};u.tables=u.fnTables=function(t){var r=!1,i;return n.isPlainObject(t)&&(r=t.api,t=t.visible),i=n.map(u.settings,function(i){if(!t||t&&n(i.nTable).is(":visible"))return i.nTable}),r?new e(i):i};u.util={throttle:pi,escapeRegex:ai};u.camelToHungarian=nt;f("$()",function(t,i){var r=this.rows(i).nodes(),r=n(r);return n([].concat(r.filter(t).toArray(),r.find(t).toArray()))});n.each(["on","one","off"],function(t,i){f(i+"()",function(){var t=Array.prototype.slice.call(arguments),r;return t[0].match(/\.dt\b/)||(t[0]+=".dt"),r=n(this.tables().nodes()),r[i].apply(r,t),this})});f("clear()",function(){return this.iterator("table",function(n){oi(n)})});f("settings()",function(){return new e(this.context,this.context)});f("init()",function(){var n=this.context;return n.length?n[0].oInit:null});f("data()",function(){return this.iterator("table",function(n){return p(n.aoData,"_aData")}).flatten()});f("destroy()",function(i){return i=i||!1,this.iterator("table",function(r){var c=r.nTableWrapper.parentNode,f=r.oClasses,a=r.nTable,l=r.nTBody,s=r.nTHead,v=r.nTFoot,h=n(a),l=n(l),y=n(r.nTableWrapper),p=n.map(r.aoData,function(n){return n.nTr}),w;r.bDestroying=!0;o(r,"aoDestroyCallback","destroy",[r]);i||new e(r).columns().visible(!0);y.unbind(".DT").find(":not(tbody *)").unbind(".DT");n(t).unbind(".DT-"+r.sInstance);a!=s.parentNode&&(h.children("thead").detach(),h.append(s));v&&a!=v.parentNode&&(h.children("tfoot").detach(),h.append(v));r.aaSorting=[];r.aaSortingFixed=[];wi(r);n(p).removeClass(r.asStripeClasses.join(" "));n("th, td",s).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone);r.bJUI&&(n("th span."+f.sSortIcon+", td span."+f.sSortIcon,s).detach(),n("th, td",s).each(function(){var t=n("div."+f.sSortJUIWrapper,this);n(this).append(t.contents());t.detach()}));l.children().detach();l.append(p);s=i?"remove":"detach";h[s]();y[s]();!i&&c&&(c.insertBefore(a,r.nTableReinsertBefore),h.css("width",r.sDestroyWidth).removeClass(f.sTable),(w=r.asDestroyStripes.length)&&l.children().each(function(t){n(this).addClass(r.asDestroyStripes[t%w])}));c=n.inArray(r,u.settings);-1!==c&&u.settings.splice(c,1)})});n.each(["column","row","cell"],function(n,t){f(t+"s().every()",function(n){var i=this.selector.opts,u=this;return this.iterator(t,function(f,e,o,s,h){n.call(u[t](e,"cell"===t?o:i,"cell"===t?i:r),e,o,s,h)})})});f("i18n()",function(t,i,u){var f=this.context[0],t=ft(t)(f.oLanguage);return t===r&&(t=i),u!==r&&n.isPlainObject(t)&&(t=t[u]!==r?t[u]:t._),t.replace("%d",u)});u.version="1.10.11";u.settings=[];u.models={};u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((-1===n.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,t){try{(-1===n.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:n.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};at(u.defaults);u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};at(u.defaults.column);u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==v(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==v(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?!1===f||-1===n?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||-1===n?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};u.ext=c={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version};n.extend(c,{afnFiltering:c.search,aTypes:c.type.detect,ofnSearch:c.type.search,oSort:c.type.order,afnSortData:c.order,aoFeatures:c.feature,oApi:c.internal,oStdClasses:c.classes,oPagination:c.pager});n.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var ur="",ur="",d=ur+"ui-state-default",ii=ur+"css_right ui-icon ui-icon-",ve=ur+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";return n.extend(u.ext.oJUIClasses,u.ext.classes,{sPageButton:"fg-button ui-button "+d,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:d+" sorting_asc",sSortDesc:d+" sorting_desc",sSortable:d+" sorting",sSortableAsc:d+" sorting_asc_disabled",sSortableDesc:d+" sorting_desc_disabled",sSortableNone:d+" sorting_disabled",sSortJUIAsc:ii+"triangle-1-n",sSortJUIDesc:ii+"triangle-1-s",sSortJUI:ii+"carat-2-n-s",sSortJUIAscAllowed:ii+"carat-1-n",sSortJUIDescAllowed:ii+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+d,sScrollFoot:"dataTables_scrollFoot "+d,sHeaderTH:d,sFooterTH:d,sJUIHeader:ve+" ui-corner-tl ui-corner-tr",sJUIFooter:ve+" ui-corner-bl ui-corner-br"}),cu=u.ext.pager,n.extend(cu,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(n,t){return[di(n,t)]},simple_numbers:function(n,t){return["previous",di(n,t),"next"]},full_numbers:function(n,t){return["first","previous",di(n,t),"next","last"]},_numbers:di,numbers_length:7}),n.extend(!0,u.ext.renderer,{pageButton:{_:function(t,r,u,f,e,o){var c=t.oClasses,l=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},s,h,v=0,y=function(i,r){for(var w,f,k=function(n){pr(t,n.data.action,!0)},a=0,b=r.length;a<b;a++)if(f=r[a],n.isArray(f))w=n("<"+(f.DT_el||"div")+"/>").appendTo(i),y(w,f);else{s=null;h="";switch(f){case"ellipsis":i.append('<span class="ellipsis">&#x2026;<\/span>');break;case"first":s=l.sFirst;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"previous":s=l.sPrevious;h=f+(e>0?"":" "+c.sPageButtonDisabled);break;case"next":s=l.sNext;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;case"last":s=l.sLast;h=f+(e<o-1?"":" "+c.sPageButtonDisabled);break;default:s=f+1;h=e===f?c.sPageButtonActive:""}s!==null&&(w=n("<a>",{"class":c.sPageButton+" "+h,"aria-controls":t.sTableId,"aria-label":p[f],"data-dt-idx":v,tabindex:t.iTabIndex,id:u===0&&typeof f=="string"?t.sTableId+"_"+f:null}).html(s).appendTo(i),dr(w,{action:f},k),v++)}},a;try{a=n(r).find(i.activeElement).data("dt-idx")}catch(w){}y(n(r).empty(),f);a&&n(r).find("[data-dt-idx="+a+"]").focus()}}}),n.extend(u.ext.type.detect,[function(n,t){var i=t.oLanguage.sDecimal;return ru(n,i)?"num"+i:null},function(n){if(n&&!(n instanceof Date)&&(!ye.test(n)||!pe.test(n)))return null;var t=Date.parse(n);return null!==t&&!isNaN(t)||it(n)?"date":null},function(n,t){var i=t.oLanguage.sDecimal;return ru(n,i,!0)?"num-fmt"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return he(n,i)?"html-num"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return he(n,i,!0)?"html-num-fmt"+i:null},function(n){return it(n)||"string"==typeof n&&-1!==n.indexOf("<")?"html":null}]),n.extend(u.ext.type.search,{html:function(n){return it(n)?n:"string"==typeof n?n.replace(ee," ").replace(gi,""):""},string:function(n){return it(n)?n:"string"==typeof n?n.replace(ee," "):n}}),ri=function(n,t,i,r){return 0!==n&&(!n||"-"===n)?-Infinity:(t&&(n=se(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),1*n)},n.extend(c.type.order,{"date-pre":function(n){return Date.parse(n)||0},"html-pre":function(n){return it(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return it(n)?"":"string"==typeof n?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),ue(""),n.extend(!0,u.ext.renderer,{header:{_:function(t,i,r,u){n(t.nTable).on("order.dt.DT",function(n,f,e,o){t===f&&(n=r.idx,i.removeClass(r.sSortingClass+" "+u.sSortAsc+" "+u.sSortDesc).addClass(o[n]=="asc"?u.sSortAsc:o[n]=="desc"?u.sSortDesc:r.sSortingClass))})},jqueryui:function(t,i,r,u){n("<div/>").addClass(u.sSortJUIWrapper).append(i.contents()).append(n("<span/>").addClass(u.sSortIcon+" "+r.sSortingClassJUI)).appendTo(i);n(t.nTable).on("order.dt.DT",function(n,f,e,o){t===f&&(n=r.idx,i.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(o[n]=="asc"?u.sSortAsc:o[n]=="desc"?u.sSortDesc:r.sSortingClass),i.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(o[n]=="asc"?u.sSortJUIAsc:o[n]=="desc"?u.sSortJUIDesc:r.sSortingClassJUI))})}}}),lu=function(n){return"string"==typeof n?n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):n},u.render={number:function(n,t,i,r,u){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var o=0>f?"-":"",e=parseFloat(f);return isNaN(e)?lu(f):(f=Math.abs(e),e=parseInt(f,10),f=i?t+(f-e).toFixed(i).substring(2):"",o+(r||"")+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+f+(u||""))}}},text:function(){return{display:lu}}},n.extend(u.ext.internal,{_fnExternApiFunc:fe,_fnBuildAjax:ci,_fnAjaxUpdate:gu,_fnAjaxParameters:nf,_fnAjaxUpdateDraw:tf,_fnAjaxDataSrc:li,_fnAddColumn:er,_fnColumnOptions:ui,_fnAdjustColumnSizing:st,_fnVisibleToColumnIndex:vt,_fnColumnIndexToVisible:yt,_fnVisbleColumns:pt,_fnGetColumns:fi,_fnColumnTypes:or,_fnApplyColumnDefs:wu,_fnHungarianMap:at,_fnCamelToHungarian:nt,_fnLanguageCompat:fr,_fnBrowserDetect:yu,_fnAddData:rt,_fnAddTr:ei,_fnNodeToDataIndex:function(n,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,i,r){return n.inArray(r,t.aoData[i].anCells)},_fnGetCellData:y,_fnSetCellData:bu,_fnSplitObjNotation:sr,_fnGetObjectDataFn:ft,_fnSetObjectDataFn:et,_fnGetDataMaster:hr,_fnClearTable:oi,_fnDeleteIndex:si,_fnInvalidate:wt,_fnGetRowElements:cr,_fnCreateTr:lr,_fnBuildHead:ku,_fnDrawHead:bt,_fnDraw:ut,_fnReDraw:ot,_fnAddOptionsHtml:du,_fnDetectHeader:kt,_fnGetUniqueThs:hi,_fnFeatureHtmlFilter:rf,_fnFilterComplete:dt,_fnFilterCustom:uf,_fnFilterColumn:ff,_fnFilter:ef,_fnFilterCreateSearch:vr,_fnEscapeRegex:ai,_fnFilterData:of,_fnFeatureHtmlInfo:cf,_fnUpdateInfo:lf,_fnInfoMacros:af,_fnInitialise:gt,_fnInitComplete:vi,_fnLengthChange:yr,_fnFeatureHtmlLength:vf,_fnFeatureHtmlPaginate:yf,_fnPageChange:pr,_fnFeatureHtmlProcessing:pf,_fnProcessingDisplay:b,_fnFeatureHtmlTable:wf,_fnScrollDraw:yi,_fnApplyToChildren:g,_fnCalculateColumnWidths:wr,_fnThrottle:pi,_fnConvertToWidth:bf,_fnGetWidestNode:kf,_fnGetMaxLenString:df,_fnStringToCss:h,_fnSortFlatten:ht,_fnSort:gf,_fnSortAria:ne,_fnSortListener:br,_fnSortAttachListener:kr,_fnSortingClasses:wi,_fnSortData:te,_fnSaveState:bi,_fnLoadState:ie,_fnSettingsFromNode:ki,_fnLog:tt,_fnMap:k,_fnBindAction:dr,_fnCallbackReg:a,_fnCallbackFire:o,_fnLengthOverflow:gr,_fnRenderer:nu,_fnDataSource:v,_fnRowAttributes:ar,_fnCalculateEnd:function(){}}),n.fn.dataTable=u,u.$=n,n.fn.dataTableSettings=u.settings,n.fn.dataTableExt=u.ext,n.fn.DataTable=function(t){return n(this).dataTable(t).api()},n.each(u,function(t,i){n.fn.DataTable[t]=i}),n.fn.dataTable}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)}(function(n,t,i){var r=n.fn.dataTable;return n.extend(!0,r.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),n.extend(r.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),r.ext.renderer.pageButton.bootstrap=function(t,u,f,e,o,s){var v=new r.Api(t),w=t.oClasses,l=t.oLanguage.oPaginate,b=t.oLanguage.oAria.paginate||{},h,c,y=0,p=function(i,r){for(var k,u,d=function(t){t.preventDefault();n(t.currentTarget).hasClass("disabled")||v.page()==t.data.action||v.page(t.data.action).draw("page")},e=0,a=r.length;e<a;e++)if(u=r[e],n.isArray(u))p(i,u);else{c=h="";switch(u){case"ellipsis":h="&#x2026;";c="disabled";break;case"first":h=l.sFirst;c=u+(0<o?"":" disabled");break;case"previous":h=l.sPrevious;c=u+(0<o?"":" disabled");break;case"next":h=l.sNext;c=u+(o<s-1?"":" disabled");break;case"last":h=l.sLast;c=u+(o<s-1?"":" disabled");break;default:h=u+1;c=o===u?"active":""}h&&(k=n("<li>",{"class":w.sPageButton+" "+c,id:0===f&&"string"==typeof u?t.sTableId+"_"+u:null}).append(n("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":b[u],"data-dt-idx":y,tabindex:t.iTabIndex}).html(h)).appendTo(i),t.oApi._fnBindAction(k,{action:u},d),y++)}},a;try{a=n(u).find(i.activeElement).data("dt-idx")}catch(k){}p(n(u).empty().html('<ul class="pagination"/>').children("ul"),e);a&&n(u).find("[data-dt-idx="+a+"]").focus()},r}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)}(function(n,t,i,r){var f=n.fn.dataTable,u=function(t,i){if(!f.versionCheck||!f.versionCheck("1.10.3"))throw"DataTables Responsive requires DataTables 1.10.3 or newer";this.s={dt:new f.Api(t),columns:[],current:[]};this.s.dt.settings()[0].responsive||(i&&"string"==typeof i.details?i.details={type:i.details}:i&&!1===i.details?i.details={type:!1}:i&&!0===i.details&&(i.details={type:"inline"}),this.c=n.extend(!0,{},u.defaults,f.defaults.responsive,i),t.responsive=this,this._constructor())},e;n.extend(u.prototype,{_constructor:function(){var i=this,r=this.s.dt,u=r.settings()[0],e=n(t).width();r.settings()[0]._responsive=this;n(t).on("resize.dtr orientationchange.dtr",f.util.throttle(function(){var r=n(t).width();r!==e&&(i._resize(),e=r)}));u.oApi._fnCallbackReg(u,"aoRowCreatedCallback",function(t){-1!==n.inArray(!1,i.s.current)&&n("td, th",t).each(function(t){t=r.column.index("toData",t);!1===i.s.current[t]&&n(this).css("display","none")})});r.on("destroy.dtr",function(){r.off(".dtr");n(r.table().body()).off(".dtr");n(t).off("resize.dtr orientationchange.dtr");n.each(i.s.current,function(n,t){!1===t&&i._setColumnVis(n,!0)})});this.c.breakpoints.sort(function(n,t){return n.width<t.width?1:n.width>t.width?-1:0});this._classLogic();this._resizeAuto();u=this.c.details;!1!==u.type&&(i._detailsInit(),r.on("column-visibility.dtr",function(){i._classLogic();i._resizeAuto();i._resize()}),r.on("draw.dtr",function(){i._redrawChildren()}),n(r.table().node()).addClass("dtr-"+u.type));r.on("column-reorder.dtr",function(){i._classLogic();i._resizeAuto();i._resize()});r.on("column-sizing.dtr",function(){i._resize()});r.on("init.dtr",function(){i._resizeAuto();i._resize();n.inArray(!1,i.s.current)&&r.columns.adjust()});this._resize()},_columnsVisiblity:function(t){for(var o=this.s.dt,r=this.s.columns,s=r.map(function(n,t){return{columnIdx:t,priority:n.priority}}).sort(function(n,t){return n.priority!==t.priority?n.priority-t.priority:n.columnIdx-t.columnIdx}),u=n.map(r,function(i){return i.auto&&null===i.minWidth?!1:!0===i.auto?"-":-1!==n.inArray(t,i.includeIn)}),h=0,e,i=0,f=u.length;i<f;i++)!0===u[i]&&(h+=r[i].minWidth);for(i=o.settings()[0].oScroll,i=i.sY||i.sX?i.iBarWidth:0,o=o.table().container().offsetWidth-i-h,i=0,f=u.length;i<f;i++)r[i].control&&(o-=r[i].minWidth);for(h=!1,i=0,f=s.length;i<f;i++)e=s[i].columnIdx,"-"===u[e]&&!r[e].control&&r[e].minWidth&&(h||0>o-r[e].minWidth?(h=!0,u[e]=!1):u[e]=!0,o-=r[e].minWidth);for(s=!1,i=0,f=r.length;i<f;i++)if(!r[i].control&&!r[i].never&&!u[i]){s=!0;break}for(i=0,f=r.length;i<f;i++)r[i].control&&(u[i]=s);return-1===n.inArray(!0,u)&&(u[0]=!0),u},_classLogic:function(){var f=this,t=this.c.breakpoints,e=this.s.dt,i=e.columns().eq(0).map(function(t){var i=this.column(t),u=i.header().className,t=e.settings()[0].aoColumns[t].responsivePriority;return t===r&&(i=n(i.header()).data("priority"),t=i!==r?1*i:1e4),{className:u,includeIn:[],auto:!1,control:!1,never:u.match(/\bnever\b/)?!0:!1,priority:t}}),u=function(t,r){var u=i[t].includeIn;-1===n.inArray(r,u)&&u.push(r)},o=function(n,r,e,o){if(e){if("max-"===e)for(o=f._find(r).width,r=0,e=t.length;r<e;r++)t[r].width<=o&&u(n,t[r].name);else if("min-"===e)for(o=f._find(r).width,r=0,e=t.length;r<e;r++)t[r].width>=o&&u(n,t[r].name);else if("not-"===e)for(r=0,e=t.length;r<e;r++)-1===t[r].name.indexOf(o)&&u(n,t[r].name)}else i[n].includeIn.push(r)};i.each(function(i,r){for(var f,s=i.className.split(" "),u=!1,e=0,h=s.length;e<h;e++){if(f=n.trim(s[e]),"all"===f){u=!0;i.includeIn=n.map(t,function(n){return n.name});return}if("none"===f||i.never){u=!0;return}if("control"===f){u=!0;i.control=!0;return}n.each(t,function(n,t){var e=t.name.split("-"),i=f.match(RegExp("(min\\-|max\\-|not\\-)?("+e[0]+")(\\-[_a-zA-Z0-9])?"));i&&(u=!0,i[2]===e[0]&&i[3]==="-"+e[1]?o(r,t.name,i[1],i[2]+i[3]):i[2]===e[0]&&!i[3]&&o(r,t.name,i[1],i[2]))})}u||(i.auto=!0)});this.s.columns=i},_detailsDisplay:function(t,i){var e=this,f=this.s.dt,r=this.c.details,u;r&&r.type&&(u=r.display(t,i,function(){return r.renderer(f,t[0],e._detailsObj(t[0]))}),(!0===u||!1===u)&&n(f.table().node()).triggerHandler("responsive-display.dt",[f,t,u,i]))},_detailsInit:function(){var r=this,t=this.s.dt,u=this.c.details,i;"inline"===u.type&&(u.target="td:first-child, th:first-child");t.on("draw.dtr",function(){r._tabIndexes()});r._tabIndexes();n(t.table().body()).on("keyup.dtr","td, th",function(t){t.keyCode===13&&n(this).data("dtr-keyboard")&&n(this).click()});i=u.target;n(t.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"==typeof i?i:"td, th",function(u){if(n(t.table().node()).hasClass("collapsed")&&t.row(n(this).closest("tr")).length){if(typeof i=="number"){var f=i<0?t.columns().eq(0).length+i:i;if(t.cell(this).index().column!==f)return}f=t.row(n(this).closest("tr"));u.type==="click"?r._detailsDisplay(f,!1):u.type==="mousedown"?n(this).css("outline","none"):u.type==="mouseup"&&n(this).blur().css("outline","")}})},_detailsObj:function(t){var r=this,i=this.s.dt;return n.map(this.s.columns,function(n,u){if(!n.never)return{title:i.settings()[0].aoColumns[u].sTitle,data:i.cell(t,u).render(r.c.orthogonal),hidden:i.column(u).visible()&&!r.s.current[u],columnIndex:u,rowIndex:t}})},_find:function(n){for(var i=this.c.breakpoints,t=0,r=i.length;t<r;t++)if(i[t].name===n)return i[t]},_redrawChildren:function(){var t=this,n=this.s.dt;n.rows({page:"current"}).iterator("row",function(i,r){n.row(r);t._detailsDisplay(n.row(r),!0)})},_resize:function(){for(var c=this,f=this.s.dt,e=n(t).width(),r=this.c.breakpoints,h=r[0].name,o=this.s.columns,l=this.s.current.slice(),u,s,i=r.length-1;0<=i;i--)if(e<=r[i].width){h=r[i].name;break}for(u=this._columnsVisiblity(h),this.s.current=u,r=!1,i=0,e=o.length;i<e;i++)if(!1===u[i]&&!o[i].never&&!o[i].control){r=!0;break}n(f.table().node()).toggleClass("collapsed",r);s=!1;f.columns().eq(0).each(function(n,t){u[t]!==l[t]&&(s=!0,c._setColumnVis(n,u[t]))});s&&(this._redrawChildren(),n(f.table().node()).trigger("responsive-resize.dt",[f,this.s.current]))},_resizeAuto:function(){var t=this.s.dt,u=this.s.columns,r,e;if(this.c.auto&&-1!==n.inArray(!0,n.map(u,function(n){return n.auto}))){t.table().node();var i=t.table().node().cloneNode(!1),o=n(t.table().header().cloneNode(!1)).appendTo(i),r=n(t.table().body()).clone(!1,!1).empty().appendTo(i),f=t.columns().header().filter(function(n){return t.column(n).visible()}).to$().clone(!1).css("display","table-cell");n(r).append(n(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");(r=t.table().footer())&&(r=n(r.cloneNode(!1)).appendTo(i),e=t.columns().header().filter(function(n){return t.column(n).visible()}).to$().clone(!1).css("display","table-cell"),n("<tr/>").append(e).appendTo(r));n("<tr/>").append(f).appendTo(o);"inline"===this.c.details.type&&n(i).addClass("dtr-inline collapsed");i=n("<div/>").css({width:1,height:1,overflow:"hidden"}).append(i);i.insertBefore(t.table().node());f.each(function(n){n=t.column.index("fromVisible",n);u[n].minWidth=this.offsetWidth||0});i.remove()}},_setColumnVis:function(t,i){var r=this.s.dt,u=i?"":"none";n(r.column(t).header()).css("display",u);n(r.column(t).footer()).css("display",u);r.column(t).nodes().to$().css("display",u)},_tabIndexes:function(){var t=this.s.dt,r=t.cells({page:"current"}).nodes().to$(),u=t.settings()[0],i=this.c.details.target;r.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");n("number"==typeof i?":eq("+i+")":i,t.rows({page:"current"}).nodes()).attr("tabIndex",u.iTabIndex).data("dtr-keyboard",1)}});u.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];u.display={childRow:function(t,i,r){if(i){if(n(t.node()).hasClass("parent"))return t.child(r(),"child").show(),!0}else return t.child.isShown()?(t.child(!1),n(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),n(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,i,r){return!i&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),n(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),n(t.node()).addClass("parent"),!0)},modal:function(t){return function(r,u,f){if(u)n("div.dtr-modal-content").empty().append(f());else{var e=function(){o.remove();n(i).off("keypress.dtr")},o=n('<div class="dtr-modal"/>').append(n('<div class="dtr-modal-display"/>').append(n('<div class="dtr-modal-content"/>').append(f())).append(n('<div class="dtr-modal-close">&times;<\/div>').click(function(){e()}))).append(n('<div class="dtr-modal-background"/>').click(function(){e()})).appendTo("body");n(i).on("keyup.dtr",function(n){27===n.keyCode&&(n.stopPropagation(),e())})}t&&t.header&&n("div.dtr-modal-content").prepend("<h2>"+t.header(r)+"<\/h2>")}}};u.defaults={breakpoints:u.breakpoints,auto:!0,details:{display:u.display.childRow,renderer:function(t,i,r){return(t=n.map(r,function(n){return n.hidden?'<li data-dtr-index="'+n.columnIndex+'" data-dt-row="'+n.rowIndex+'" data-dt-column="'+n.columnIndex+'"><span class="dtr-title">'+n.title+'<\/span> <span class="dtr-data">'+n.data+"<\/span><\/li>":""}).join(""))?n('<ul data-dtr-index="'+i+'"/>').append(t):!1},target:0,type:"inline"},orthogonal:"display"};e=n.fn.dataTable.Api;e.register("responsive()",function(){return this});e.register("responsive.index()",function(t){return t=n(t),{column:t.data("dtr-index"),row:t.parent().data("dtr-index")}});e.register("responsive.rebuild()",function(){return this.iterator("table",function(n){n._responsive&&n._responsive._classLogic()})});e.register("responsive.recalc()",function(){return this.iterator("table",function(n){n._responsive&&(n._responsive._resizeAuto(),n._responsive._resize())})});e.register("responsive.hasHidden()",function(){var t=this.context[0];return t._responsive?-1!==n.inArray(!1,t._responsive.s.current):!1});u.version="2.0.2";n.fn.dataTable.Responsive=u;n.fn.DataTable.Responsive=u;n(i).on("preInit.dt.dtr",function(t,i){if("dt"===t.namespace&&(n(i.nTable).hasClass("responsive")||n(i.nTable).hasClass("dt-responsive")||i.oInit.responsive||f.defaults.responsive)){var r=i.oInit.responsive;!1!==r&&new u(i,n.isPlainObject(r)?r:{})}});return u}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs","datatables.net-responsive"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net-bs")(t,i).$),i.fn.dataTable.Responsive||require("datatables.net-responsive")(t,i),n(i,t,t.document)}:n(jQuery,window,document)}(function(n){var i=n.fn.dataTable,r=i.Responsive.display,u=r.modal,t=n('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><\/div><div class="modal-body"/><\/div><\/div><\/div>');return r.modal=function(i){return function(r,f,e){n.fn.modal?f||(i&&i.header&&t.find("div.modal-header").empty().append('<h4 class="modal-title">'+i.header(r)+"<\/h4>"),t.find("div.modal-body").empty().append(e()),t.appendTo("body").modal()):u(r,f,e)}},i.Responsive});!function(n,t,i,r){"use strict";function u(n,t,i,u,f){function e(n){var t=n[0].innerHTML;return function(n,i,f,e){function o(n,r){n!==r&&e.render(i,e.buildOptionsPromise(),t)}var s=f.dtDisableDeepWatchers?"$watchCollection":"$watch";r.forEach(["dtColumns","dtColumnDefs","dtOptions"],function(t){n[s].call(n,t,o,!0)});u.showLoading(i);e.render(i,e.buildOptionsPromise(),t)}}function o(e){function h(){var i=n.defer();return n.all([n.when(e.dtOptions),n.when(e.dtColumns),n.when(e.dtColumnDefs)]).then(function(i){var e=i[0],o=i[1],s=i[2],u,h;return f.deleteProperty(e,"$promise"),f.deleteProperty(o,"$promise"),f.deleteProperty(s,"$promise"),r.isDefined(e)&&(u={},r.extend(u,e),r.isArray(o)&&(u.aoColumns=o),r.isArray(s)&&(u.aoColumnDefs=s),u.language&&u.language.url)&&(h=n.defer(),t.get(u.language.url).success(function(n){h.resolve(n)}),u.language=h.promise),f.resolveObjectPromises(u,["data","aaData","fnPromise"])}).then(function(n){i.resolve(n)}),i.promise}function c(n,t,r){t.then(function(t){u.preRender(t);var f=e.datatable&&"ng"===e.datatable;o&&o._renderer?o._renderer.withOptions(t).render(n,e,r).then(function(n){o=n}):i.fromOptions(t,f).render(n,e,r).then(function(n){o=n})})}var o,s=this;s.buildOptionsPromise=h;s.render=c}return e.$inject=["tElm"],o.$inject=["$scope"],{restrict:"A",scope:{dtOptions:"=",dtColumns:"=",dtColumnDefs:"=",datatable:"@"},compile:e,controller:o}}function p(){var n={hasOverrideDom:!1,withOption:function(n,t){return r.isString(n)&&(this[n]=t),this},withSource:function(n){return this.ajax=n,this},withDataProp:function(n){return this.sAjaxDataProp=n,this},withFnServerData:function(n){if(!r.isFunction(n))throw new Error("The parameter must be a function");return this.fnServerData=n,this},withPaginationType:function(n){if(!r.isString(n))throw new Error("The pagination type must be provided");return this.sPaginationType=n,this},withLanguage:function(n){return this.language=n,this},withLanguageSource:function(n){return this.withLanguage({url:n})},withDisplayLength:function(n){return this.iDisplayLength=n,this},withFnPromise:function(n){return this.fnPromise=n,this},withDOM:function(n){return this.dom=n,this}};return{newOptions:function(){return Object.create(n)},fromSource:function(t){var i=Object.create(n);return i.ajax=t,i},fromFnPromise:function(t){var i=Object.create(n);return i.fnPromise=t,i}}}function w(){var n={withOption:function(n,t){return r.isString(n)&&(this[n]=t),this},withTitle:function(n){return this.sTitle=n,this},withClass:function(n){return this.sClass=n,this},notVisible:function(){return this.bVisible=!1,this},notSortable:function(){return this.bSortable=!1,this},renderWith:function(n){return this.mRender=n,this}};return{newColumn:function(t,i){if(r.isUndefined(t))throw new Error('The parameter "mData" is not defined!');var u=Object.create(n);return u.mData=t,u.sTitle=i||"",u},DTColumn:n}}function f(n){return{newColumnDef:function(t){if(r.isUndefined(t))throw new Error('The parameter "targets" must be defined! See https://datatables.net/reference/option/columnDefs.targets');var i=Object.create(n.DTColumn);return i.aTargets=r.isArray(t)?t:[t],i}}}function b(){return{html:'<h3 class="dt-loading">Loading...<\/h3>'}}function e(n){function f(f,e){return f.id=e.id,f.DataTable=e.DataTable,f.dataTable=e.dataTable,r[f.id]=f,u=f,i.resolve(r),t.resolve(u),i=n.defer(),t=n.defer(),i.resolve(r),t.resolve(u),f}function e(){var i=n.defer();return t.promise.then(function(n){i.resolve(n)}),i.promise}function o(){var t=n.defer();return i.promise.then(function(n){t.resolve(n)}),t.promise}var r={},t=n.defer(),u=null,i=n.defer();return{register:f,getLast:e,getList:o}}function k(){function n(n){var t=Object.create(u);return t._renderer=n,t}function t(){this._renderer.reloadData()}function i(n){this._renderer.changeData(n)}function r(){this._renderer.rerender()}var u={reloadData:t,changeData:i,rerender:r};return{newDTInstance:n}}function o(t){i.fn.DataTable.Api&&i.fn.DataTable.Api.register("ngDestroy()",function(r){return r=r||!1,this.iterator("table",function(u){var h,c=u.nTableWrapper.parentNode,f=u.oClasses,o=u.nTable,y=u.nTBody,s=u.nTHead,l=u.nTFoot,e=i(o),p=i(y),v=i(u.nTableWrapper),w=i.map(u.aoData,function(n){return n.nTr}),a;if(u.bDestroying=!0,i.fn.DataTable.ext.internal._fnCallbackFire(u,"aoDestroyCallback","destroy",[u]),r||new i.fn.DataTable.Api(u).columns().visible(!0),v.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(n).unbind(".DT-"+u.sInstance),o!==s.parentNode&&(e.children("thead").detach(),e.append(s)),l&&o!==l.parentNode&&(e.children("tfoot").detach(),e.append(l)),e.detach(),v.detach(),u.aaSorting=[],u.aaSortingFixed=[],i.fn.DataTable.ext.internal._fnSortingClasses(u),i(w).removeClass(u.asStripeClasses.join(" ")),i("th, td",s).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone),u.bJUI&&(i("th span."+f.sSortIcon+", td span."+f.sSortIcon,s).detach(),i("th, td",s).each(function(){var n=i("div."+f.sSortJUIWrapper,this);i(this).append(n.contents());n.detach()})),!r&&c)try{c.insertBefore(o,u.nTableReinsertBefore)}catch(b){t.warn(b);c.appendChild(o)}e.css("width",u.sDestroyWidth).removeClass(f.sTable);h=u.asDestroyStripes.length;h&&p.children().each(function(n){i(this).addClass(u.asDestroyStripes[n%h])});a=i.inArray(u,i.fn.DataTable.settings);-1!==a&&i.fn.DataTable.settings.splice(a,1)})})}function d(){function t(t){return i.extend(i.fn.dataTable.defaults,{oLanguage:{sUrl:t}}),n}function r(t){return i.extend(!0,i.fn.dataTable.defaults,{oLanguage:t}),n}function u(t){return i.extend(i.fn.dataTable.defaults,{iDisplayLength:t}),n}function f(t){return n.bootstrapOptions=t,n}var n={bootstrapOptions:{},setLanguageSource:t,setLanguage:r,setDisplayLength:u,setBootstrapOptions:f};return n}function s(n){function o(){return t}function s(n){n.after(t);n.hide();t.show()}function h(n){n.show();t.hide()}function c(n,t){var f="#"+n.attr("id");i.fn.dataTable.isDataTable(f)&&r.isObject(t)&&(t.destroy=!0);var o=n.DataTable(t),s=n.dataTable(),u={id:n.attr("id"),DataTable:o,dataTable:s};return e(t,u),u}function l(n,t){return f.hideLoading(n),f.renderDataTable(n,t)}function a(n){u.push(n)}function e(n,t){r.forEach(u,function(i){r.isFunction(i.postRender)&&i.postRender(n,t)})}function v(n){r.forEach(u,function(t){r.isFunction(t.preRender)&&t.preRender(n)})}var t=r.element(n.html),u=[],f={getLoadingElem:o,showLoading:s,hideLoading:h,renderDataTable:c,hideLoadingAndRenderDataTable:l,registerPlugin:a,postRender:e,preRender:v};return f}function g(){return{withOptions:function(n){return this.options=n,this}}}function h(n,t,i,r,u){function f(f){function s(t){o=t;var s=r.newDTInstance(e),f=i.hideLoadingAndRenderDataTable(t,e.options);return h=f.DataTable,n.when(u.register(s,f))}function c(){}function l(){}function a(){h.destroy();i.showLoading(o);s(o)}var h,o,e=Object.create(t);return e.name="DTDefaultRenderer",e.options=f,e.render=s,e.reloadData=c,e.changeData=l,e.rerender=a,e}return{create:f}}function c(n,t,i,r,u,f,e,o){function s(s){function w(n,i,u){var s;p=u;c=n;v=i.$parent;a=o.newDTInstance(h);var w=t.defer(),b=n.find("tbody").html(),k=b.match(/^\s*.+?\s+in\s+(\S*)\s*/),d=k[1];if(!k)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got "{0}".',b);return s=!1,v.$watchCollection(d,function(){l&&s&&y();r(function(){s=!0;var n=f.hideLoadingAndRenderDataTable(c,h.options);l=n.DataTable;w.resolve(e.register(a,n))},0,!1)},!0),w.promise}function b(){n.warn("The Angular Renderer does not support reloading data. You need to do it directly on your model")}function k(){n.warn("The Angular Renderer does not support changing the data. You need to change your model directly.")}function d(){y();f.showLoading(c);r(function(){var n=f.hideLoadingAndRenderDataTable(c,h.options);l=n.DataTable;a=e.register(a,n)},0,!1)}function y(){l.ngDestroy();c.html(p);i(c.contents())(v)}var p,l,c,v,a,h=Object.create(u);return h.name="DTNGRenderer",h.options=s,h.render=w,h.reloadData=b,h.changeData=k,h.rerender=d,h}return{create:s}}function l(n,t,i,u,f,e,o){function s(s){function p(t){var i=n.defer();return c=o.newDTInstance(h),v=t,y(h.options.fnPromise,f.renderDataTable).then(function(n){a=n.DataTable;i.resolve(e.register(c,n))}),i.promise}function k(){r.isFunction(h.options.fnPromise)?y(h.options.fnPromise,b):i.warn("In order to use the reloadData functionality with a Promise renderer, you need to provide a function that returns a promise.")}function d(n){h.options.fnPromise=n;y(h.options.fnPromise,b)}function g(){a.destroy();f.showLoading(v);p(v)}function y(t,i){var u=n.defer();if(r.isUndefined(t))throw new Error("You must provide a promise or a function that returns a promise!");return l?l.then(function(){u.resolve(w(t,i))}):u.resolve(w(t,i)),u.promise}function w(t,i){var u=n.defer();return l=r.isFunction(t)?t():t,l.then(function(n){var t=n,r,f;if(h.options.sAjaxDataProp)for(r=h.options.sAjaxDataProp.split(".");r.length;)f=r.shift(),f in t&&(t=t[f]);l=null;u.resolve(nt(h.options,v,t,i))}),u.promise}function nt(i,r,u,e){var o=n.defer();return delete u.$promise,i.aaData=u,t(function(){f.hideLoading(r);i.bDestroy=!0;o.resolve(e(r,i))},0,!1),o.promise}function b(){return a.clear(),a.rows.add(s.aaData).draw(),{id:c.id,DataTable:c.DataTable,dataTable:c.dataTable}}var a,v,c,l=null,h=Object.create(u);return h.name="DTPromiseRenderer",h.options=s,h.render=p,h.reloadData=k,h.changeData=d,h.rerender=g,h}return{create:s}}function a(n,t,i,u,f,e,o){function s(s){function a(t){l=t;var i=n.defer(),u=o.newDTInstance(h);return r.isUndefined(h.options.sAjaxDataProp)&&(h.options.sAjaxDataProp=f.sAjaxDataProp),r.isUndefined(h.options.aoColumns)&&(h.options.aoColumns=f.aoColumns),w(h.options,t).then(function(n){c=n.DataTable;i.resolve(e.register(u,n))}),i.promise}function v(){if(c){var n=h.options.ajax.url||h.options.ajax;c.ajax.url(n).load()}}function y(n){h.options.ajax=n;h.reloadData()}function p(){c.destroy();u.showLoading(l);a(l)}function w(i,r){var f=n.defer();return i.bDestroy=!0,u.hideLoading(r),b(i)?t(function(){f.resolve(u.renderDataTable(r,i))},0,!1):f.resolve(u.renderDataTable(r,i)),f.promise}function b(n){return r.isDefined(n)&&r.isDefined(n.dom)?n.dom.indexOf("S")>=0:!1}var c,l,h=Object.create(i);return h.name="DTAjaxRenderer",h.options=s,h.render=a,h.reloadData=v,h.changeData=y,h.rerender=p,h}return{create:s}}function v(n,t,i,u){function f(f,e){return e?t.create(f):r.isDefined(f)?r.isDefined(f.fnPromise)&&null!==f.fnPromise?i.create(f):r.isDefined(f.ajax)&&null!==f.ajax||r.isDefined(f.ajax)&&null!==f.ajax?u.create(f):n.create(f):n.create()}return{fromOptions:f}}function y(n){function t(n,i){var u=r.copy(n),f;if((r.isUndefined(u)||null===u)&&(u={}),r.isUndefined(i)||null===i)return u;if(r.isObject(i))for(f in i)i.hasOwnProperty(f)&&(u[f]=t(u[f],i[f]));else u=r.copy(i);return u}function e(n,t){r.isObject(n)&&delete n[t]}function u(t,u){var s=n.defer(),h=[],e={},c=u||[],o;if(!r.isObject(t)||r.isArray(t))s.resolve(t);else{e=r.extend(e,t);for(o in e)e.hasOwnProperty(o)&&-1===i.inArray(o,c)&&h.push(r.isArray(e[o])?f(e[o]):n.when(e[o]));n.all(h).then(function(n){var r=0,t;for(t in e)e.hasOwnProperty(t)&&-1===i.inArray(t,c)&&(e[t]=n[r++]);s.resolve(e)})}return s.promise}function f(t){var i=n.defer(),f=[],e=[];return r.isArray(t)?(r.forEach(t,function(t){f.push(r.isObject(t)?u(t):n.when(t))}),n.all(f).then(function(n){r.forEach(n,function(n){e.push(n)});i.resolve(e)})):i.resolve(t),i.promise}return{overrideProperties:t,deleteProperty:e,resolveObjectPromises:u,resolveArrayPromises:f}}r.module("datatables.directive",["datatables.instances","datatables.renderer","datatables.options","datatables.util"]).directive("datatable",u);u.$inject=["$q","$http","DTRendererFactory","DTRendererService","DTPropertyUtil"];r.module("datatables.factory",[]).factory("DTOptionsBuilder",p).factory("DTColumnBuilder",w).factory("DTColumnDefBuilder",f).factory("DTLoadingTemplate",b);f.$inject=["DTColumnBuilder"];r.module("datatables.instances",[]).factory("DTInstances",e).factory("DTInstanceFactory",k);e.$inject=["$q"];r.module("datatables",["datatables.directive","datatables.factory"]).run(o);o.$inject=["$log"];r.module("datatables.options",[]).constant("DT_DEFAULT_OPTIONS",{dom:"lfrtip",sAjaxDataProp:"",aoColumns:[]}).service("DTDefaultOptions",d);r.module("datatables.renderer",["datatables.instances","datatables.factory","datatables.options","datatables.instances"]).factory("DTRendererService",s).factory("DTRenderer",g).factory("DTDefaultRenderer",h).factory("DTNGRenderer",c).factory("DTPromiseRenderer",l).factory("DTAjaxRenderer",a).factory("DTRendererFactory",v);s.$inject=["DTLoadingTemplate"];h.$inject=["$q","DTRenderer","DTRendererService","DTInstanceFactory","DTInstances"];c.$inject=["$log","$q","$compile","$timeout","DTRenderer","DTRendererService","DTInstances","DTInstanceFactory"];l.$inject=["$q","$timeout","$log","DTRenderer","DTRendererService","DTInstances","DTInstanceFactory"];a.$inject=["$q","$timeout","DTRenderer","DTRendererService","DT_DEFAULT_OPTIONS","DTInstances","DTInstanceFactory"];v.$inject=["DTDefaultRenderer","DTNGRenderer","DTPromiseRenderer","DTAjaxRenderer"];r.module("datatables.util",[]).factory("DTPropertyUtil",y);y.$inject=["$q"]}(window,document,jQuery,angular);!function(){"use strict";var n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var i=t.which;switch(i){case n.COMMAND:case n.SHIFT:case n.CTRL:case n.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&123>=n},isVerticalMovement:function(t){return~[n.UP,n.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[n.LEFT,n.RIGHT,n.BACKSPACE,n.DELETE].indexOf(t)}},i,t;void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(n){return angular.element(this[0].querySelectorAll(n))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(n){for(var t=this[0],i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(i.bind(t)(n))return t;t=t.parentElement}return!1});i=0;t=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return i++},appendToBody:!1}).service("uiSelectMinErr",function(){var n=angular.$$minErr("ui.select");return function(){var t=n.apply(this,arguments),i=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(i)}}).directive("uisTranscludeAppend",function(){return{link:function(n,t,i,r,u){u(n,function(n){t.append(n)})}}}).filter("highlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i&&t?t.replace(new RegExp(n(i),"gi"),'<span class="ui-select-highlight">$&<\/span>'):t}}).factory("uisOffset",["$document","$window",function(n,t){return function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}}}]);t.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(n,t,i,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var i=t.parent().attr("theme")||n.theme;return i+"/choices.tpl.html"},compile:function(u,f){if(!f.repeat)throw i("repeat","Expected 'repeat' expression.");return function(u,f,e,o,s){var a=e.groupBy,h,c,l;if(o.parseRepeatAttr(e.repeat,a),o.disableChoiceExpression=e.uiDisableChoice,o.onHighlightCallback=e.onHighlight,a){if(h=f.querySelectorAll(".ui-select-choices-group"),1!==h.length)throw i("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",t.getGroupNgRepeatExpression())}if(c=f.querySelectorAll(".ui-select-choices-row"),1!==c.length)throw i("rows","Expected 1 .ui-select-choices-row but got '{0}'.",c.length);if(c.attr("ng-repeat",t.getNgRepeatExpression(o.parserResult.itemName,"$select.items",o.parserResult.trackByExp,a)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+o.parserResult.itemName+")").attr("ng-click","$select.select("+o.parserResult.itemName+",false,$event)"),l=f.querySelectorAll(".ui-select-choices-row-inner"),1!==l.length)throw i("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",l.length);l.attr("uis-transclude-append","");r(f,s)(u);u.$watch("$select.search",function(n){n&&!o.open&&o.multiple&&o.activate(!1,!0);o.activeIndex=o.tagging.isActivated?-1:0;o.refresh(e.refresh)});e.$observe("refreshDelay",function(){var t=u.$eval(e.refreshDelay);o.refreshDelay=void 0!==t?t:n.refreshDelay})}}}}]);t.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,i,r,u,f,e,o){function c(){(s.resetSearchInput||void 0===s.resetSearchInput&&o.resetSearchInput)&&(s.search=a,s.selected&&s.items.length&&!s.multiple&&(s.activeIndex=s.items.indexOf(s.selected)))}function v(t){var i=!0;switch(t){case n.DOWN:!s.open&&s.multiple?s.activate(!1,!0):s.activeIndex<s.items.length-1&&s.activeIndex++;break;case n.UP:!s.open&&s.multiple?s.activate(!1,!0):(s.activeIndex>0||0===s.search.length&&s.tagging.isActivated&&s.activeIndex>-1)&&s.activeIndex--;break;case n.TAB:(!s.multiple||s.open)&&s.select(s.items[s.activeIndex],!0);break;case n.ENTER:s.open&&s.activeIndex>=0?s.select(s.items[s.activeIndex]):s.activate(!1,!0);break;case n.ESC:s.close();break;default:i=!1}return i}function y(){var n=i.querySelectorAll(".ui-select-choices-content"),u=n.querySelectorAll(".ui-select-choices-row");if(u.length<1)throw e("choices","Expected multiple .ui-select-choices-row but got '{0}'.",u.length);if(!(s.activeIndex<0)){var t=u[s.activeIndex],r=t.offsetTop+t.clientHeight-n[0].scrollTop,f=n[0].offsetHeight;r>f?n[0].scrollTop+=r-f:r<t.clientHeight&&(s.isGrouped&&0===s.activeIndex?n[0].scrollTop=0:n[0].scrollTop-=t.clientHeight-r)}}var s=this,a="",l,h;if(s.placeholder=o.placeholder,s.searchEnabled=o.searchEnabled,s.sortable=o.sortable,s.refreshDelay=o.refreshDelay,s.removeSelected=!1,s.closeOnSelect=!0,s.search=a,s.activeIndex=0,s.items=[],s.open=!1,s.focus=!1,s.disabled=!1,s.selected=void 0,s.focusser=void 0,s.resetSearchInput=!0,s.multiple=void 0,s.disableChoiceExpression=void 0,s.tagging={isActivated:!1,fct:void 0},s.taggingTokens={isActivated:!1,tokens:void 0},s.lockChoiceExpression=void 0,s.clickTriggeredSelect=!1,s.$filter=u,s.searchInput=i.querySelectorAll("input.ui-select-search"),1!==s.searchInput.length)throw e("searchInput","Expected 1 input.ui-select-search but got '{0}'.",s.searchInput.length);s.isEmpty=function(){return angular.isUndefined(s.selected)||null===s.selected||""===s.selected};s.activate=function(n,i){s.disabled||s.open||(i||c(),t.$broadcast("uis:activate"),s.open=!0,s.activeIndex=s.activeIndex>=s.items.length?0:s.activeIndex,-1===s.activeIndex&&s.taggingLabel!==!1&&(s.activeIndex=0),r(function(){s.search=n||s.search;s.searchInput[0].focus()}))};s.findGroupByName=function(n){return s.groups&&s.groups.filter(function(t){return t.name===n})[0]};s.parseRepeatAttr=function(n,i){function r(n){s.groups=[];angular.forEach(n,function(n){var r=t.$eval(i),u=angular.isFunction(r)?r(n):n[r],f=s.findGroupByName(u);f?f.items.push(n):s.groups.push({name:u,items:[n]})});s.items=[];s.groups.forEach(function(n){s.items=s.items.concat(n.items)})}function u(n){s.items=n}s.setItemsFn=i?r:u;s.parserResult=f.parse(n);s.isGrouped=!!i;s.itemProperty=s.parserResult.itemName;s.refreshItems=function(n){var i,r;n=n||s.parserResult.source(t);i=s.selected;(!angular.isArray(i)||i.length)&&s.removeSelected?void 0!==n&&(r=n.filter(function(n){return i.indexOf(n)<0}),s.setItemsFn(r)):s.setItemsFn(n)};t.$watchCollection(s.parserResult.source,function(n){if(void 0===n||null===n)s.items=[];else{if(!angular.isArray(n))throw e("items","Expected an array but got '{0}'.",n);s.refreshItems(n);s.ngModel.$modelValue=null}})};s.refresh=function(n){void 0!==n&&(l&&r.cancel(l),l=r(function(){t.$eval(n)},s.refreshDelay))};s.setActiveItem=function(n){s.activeIndex=s.items.indexOf(n)};s.isActive=function(n){if(!s.open)return!1;var t=s.items.indexOf(n[s.itemProperty]),i=t===s.activeIndex;return!i||0>t&&s.taggingLabel!==!1||0>t&&s.taggingLabel===!1?!1:(i&&!angular.isUndefined(s.onHighlightCallback)&&n.$eval(s.onHighlightCallback),i)};s.isDisabled=function(n){if(s.open){var i,r=s.items.indexOf(n[s.itemProperty]),t=!1;return r>=0&&!angular.isUndefined(s.disableChoiceExpression)&&(i=s.items[r],t=!!n.$eval(s.disableChoiceExpression),i._uiSelectChoiceDisabled=t),t}};s.select=function(n,i,u){if(void 0===n||!n._uiSelectChoiceDisabled){if(!s.items&&!s.search)return;if(!n||!n._uiSelectChoiceDisabled){if(s.tagging.isActivated){if(s.taggingLabel===!1)if(s.activeIndex<0){if(n=void 0!==s.tagging.fct?s.tagging.fct(s.search):s.search,!n||angular.equals(s.items[0],n))return}else n=s.items[s.activeIndex];else if(0===s.activeIndex){if(void 0===n)return;if(void 0!==s.tagging.fct&&"string"==typeof n){if(n=s.tagging.fct(s.search),!n)return}else"string"==typeof n&&(n=n.replace(s.taggingLabel,"").trim())}if(s.selected&&angular.isArray(s.selected)&&s.selected.filter(function(t){return angular.equals(t,n)}).length>0)return s.close(i),void 0}t.$broadcast("uis:select",n);var f={};f[s.parserResult.itemName]=n;r(function(){s.onSelectCallback(t,{$item:n,$model:s.parserResult.modelMapper(t,f)})});s.closeOnSelect&&s.close(i);u&&"click"===u.type&&(s.clickTriggeredSelect=!0)}}};s.close=function(n){s.open&&(s.ngModel&&s.ngModel.$setTouched&&s.ngModel.$setTouched(),c(),s.open=!1,t.$broadcast("uis:close",n))};s.setFocus=function(){s.focus||s.focusInput[0].focus()};s.clear=function(n){s.select(void 0);n.stopPropagation();s.focusser[0].focus()};s.toggle=function(n){s.open?(s.close(),n.preventDefault(),n.stopPropagation()):s.activate()};s.isLocked=function(n,t){var i,r=s.selected[t];return r&&!angular.isUndefined(s.lockChoiceExpression)&&(i=!!n.$eval(s.lockChoiceExpression),r._uiSelectChoiceLocked=i),i};h=null;s.sizeSearchInput=function(){var n=s.searchInput[0],f=s.searchInput.parent().parent()[0],i=function(){return f.clientWidth*!!n.offsetParent},u=function(t){if(0===t)return!1;var i=t-n.offsetLeft-10;return 50>i&&(i=t),s.searchInput.css("width",i+"px"),!0};s.searchInput.css("width","10px");r(function(){null!==h||u(i())||(h=t.$watch(i,function(n){u(n)&&(h(),h=null)}))})};s.searchInput.on("keydown",function(i){var u=i.which;t.$apply(function(){var f=!1,t;if((s.items.length>0||s.tagging.isActivated)&&(v(u),s.taggingTokens.isActivated)){for(t=0;t<s.taggingTokens.tokens.length;t++)s.taggingTokens.tokens[t]===n.MAP[i.keyCode]&&s.search.length>0&&(f=!0);f&&r(function(){s.searchInput.triggerHandler("tagged");var t=s.search.replace(n.MAP[i.keyCode],"").trim();s.tagging.fct&&(t=s.tagging.fct(t));t&&s.select(t,!0)})}});n.isVerticalMovement(u)&&s.items.length>0&&y()});s.searchInput.on("paste",function(n){var i=n.originalEvent.clipboardData.getData("text/plain"),t;i&&i.length>0&&s.taggingTokens.isActivated&&s.tagging.fct&&(t=i.split(s.taggingTokens.tokens[0]),t&&t.length>0&&(angular.forEach(t,function(n){var t=s.tagging.fct(n);t&&s.select(t,!0)}),n.preventDefault(),n.stopPropagation()))});s.searchInput.on("tagged",function(){r(function(){c()})});t.$on("$destroy",function(){s.searchInput.off("keyup keydown tagged blur paste")})}]);t.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(n,t,i,r,u,f,e){return{restrict:"EA",templateUrl:function(n,i){var r=i.theme||t.theme;return r+(angular.isDefined(i.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(u,o){return angular.isDefined(o.multiple)?u.append("<ui-select-multiple/>").removeAttr("multiple"):u.append("<ui-select-single/>"),function(u,o,s,h,c){function p(n){var t;if(l.open){if(t=!1,t=window.jQuery?window.jQuery.contains(o[0],n.target):o[0].contains(n.target),!t&&!l.clickTriggeredSelect){var i=angular.element(n.target).scope(),r=i&&i.$select&&i.$select!==l;r||(r=~["input","button","textarea"].indexOf(n.target.tagName.toLowerCase()));l.close(r);u.$digest()}l.clickTriggeredSelect=!1}}function b(){var t=r(o);a=angular.element('<div class="ui-select-placeholder"><\/div>');a[0].style.width=t.width+"px";a[0].style.height=t.height+"px";o.after(a);y=o[0].style.width;n.find("body").append(o);o[0].style.position="absolute";o[0].style.left=t.left+"px";o[0].style.top=t.top+"px";o[0].style.width=t.width+"px"}function w(){null!==a&&(a.replaceWith(o),a=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=y)}var l=h[0],k=h[1],v,a,y;l.generatedId=t.generateId();l.baseTitle=s.title||"Select box";l.focusserTitle=l.baseTitle+" focus";l.focusserId="focusser-"+l.generatedId;l.closeOnSelect=function(){return angular.isDefined(s.closeOnSelect)?f(s.closeOnSelect)():t.closeOnSelect}();l.onSelectCallback=f(s.onSelect);l.onRemoveCallback=f(s.onRemove);l.ngModel=k;l.choiceGrouped=function(n){return l.isGrouped&&n&&n.name};s.tabindex&&s.$observe("tabindex",function(n){l.focusInput.attr("tabindex",n);o.removeAttr("tabindex")});u.$watch("searchEnabled",function(){var n=u.$eval(s.searchEnabled);l.searchEnabled=void 0!==n?n:t.searchEnabled});u.$watch("sortable",function(){var n=u.$eval(s.sortable);l.sortable=void 0!==n?n:t.sortable});s.$observe("disabled",function(){l.disabled=void 0!==s.disabled?s.disabled:!1});s.$observe("resetSearchInput",function(){var n=u.$eval(s.resetSearchInput);l.resetSearchInput=void 0!==n?n:!0});s.$observe("tagging",function(){if(void 0!==s.tagging){var n=u.$eval(s.tagging);l.tagging={isActivated:!0,fct:n!==!0?n:void 0}}else l.tagging={isActivated:!1,fct:void 0}});s.$observe("taggingLabel",function(){void 0!==s.tagging&&(l.taggingLabel="false"===s.taggingLabel?!1:void 0!==s.taggingLabel?s.taggingLabel:"(new)")});s.$observe("taggingTokens",function(){if(void 0!==s.tagging){var n=void 0!==s.taggingTokens?s.taggingTokens.split("|"):[",","ENTER"];l.taggingTokens={isActivated:!0,tokens:n}}});angular.isDefined(s.autofocus)&&e(function(){l.setFocus()});angular.isDefined(s.focusOn)&&u.$on(s.focusOn,function(){e(function(){l.setFocus()})});n.on("click",p);u.$on("$destroy",function(){n.off("click",p)});c(u,function(n){var u=angular.element("<div>").append(n),r=u.querySelectorAll(".ui-select-match"),t;if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw i("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);if(o.querySelectorAll(".ui-select-match").replaceWith(r),t=u.querySelectorAll(".ui-select-choices"),t.removeAttr("ui-select-choices"),t.removeAttr("data-ui-select-choices"),1!==t.length)throw i("transcluded","Expected 1 .ui-select-choices but got '{0}'.",t.length);o.querySelectorAll(".ui-select-choices").replaceWith(t)});v=u.$eval(s.appendToBody);(void 0!==v?v:t.appendToBody)&&(u.$watch("$select.open",function(n){n?b():w()}),u.$on("$destroy",function(){w()}));a=null;y=""}}}}]);t.directive("uiSelectMatch",["uiSelectConfig",function(n){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var i=t.parent().attr("theme")||n.theme,r=t.parent().attr("multiple");return i+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,i,r,u){function f(n){u.allowClear=angular.isDefined(n)?""===n?!0:"true"===n.toLowerCase():!1}u.lockChoiceExpression=r.uiLockChoice;r.$observe("placeholder",function(t){u.placeholder=void 0!==t?t:n.placeholder});r.$observe("allowClear",f);f(r.allowClear);u.multiple&&u.sizeSearchInput()}}}]);t.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(n,t){var u,r=this,i=n.$select;n.$evalAsync(function(){u=n.ngModel});r.activeMatchIndex=-1;r.updateModel=function(){u.$setViewValue(Date.now());r.refreshComponent()};r.refreshComponent=function(){i.refreshItems();i.sizeSearchInput()};r.removeChoice=function(u){var f=i.selected[u],e;f._uiSelectChoiceLocked||(e={},e[i.parserResult.itemName]=f,i.selected.splice(u,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(n,{$item:f,$model:i.parserResult.modelMapper(n,e)})}),r.updateModel())};r.getPlaceholder=function(){if(!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,u,f,e){function a(n){return angular.isNumber(n.selectionStart)?n.selectionStart:n.value.length}function v(t){function e(){switch(t){case n.LEFT:return~s.activeMatchIndex?f:i;case n.RIGHT:return~s.activeMatchIndex&&r!==i?l:(o.activate(),!1);case n.BACKSPACE:return~s.activeMatchIndex?(s.removeChoice(r),f):i;case n.DELETE:return~s.activeMatchIndex?(s.removeChoice(s.activeMatchIndex),r):!1}}var h=a(o.searchInput[0]),c=o.selected.length,i=c-1,r=s.activeMatchIndex,l=s.activeMatchIndex+1,f=s.activeMatchIndex-1,u=r;return h>0||o.search.length&&t==n.RIGHT?!1:(o.close(),u=e(),s.activeMatchIndex=o.selected.length&&u!==!1?Math.min(i,Math.max(0,u)):-1,!0)}function c(n){if(void 0===n||void 0===o.search)return!1;return n.filter(function(n){return void 0===o.search.toUpperCase()||void 0===n?!1:n.toUpperCase()===o.search.toUpperCase()}).length>0}function l(n,t){var u=-1,r,i,f;if(angular.isArray(n))for(r=angular.copy(n),i=0;i<r.length;i++)void 0===o.tagging.fct?r[i]+" "+o.taggingLabel===t&&(u=i):(f=r[i],f.isTag=!0,angular.equals(f,t)&&(u=i));return u}var o=e[0],h=r.ngModel=e[1],s=r.$selectMultiple;o.multiple=!0;o.removeSelected=!0;o.focusInput=o.searchInput;h.$parsers.unshift(function(){for(var i,n={},u=[],t=o.selected.length-1;t>=0;t--)n={},n[o.parserResult.itemName]=o.selected[t],i=o.parserResult.modelMapper(r,n),u.unshift(i);return u});h.$formatters.unshift(function(n){var u,e=o.parserResult.source(r,{$select:{search:""}}),s={},t,f,i;if(!e)return n;if(t=[],f=function(n,i){var f,e;if(n&&n.length){for(f=n.length-1;f>=0;f--)if((s[o.parserResult.itemName]=n[f],u=o.parserResult.modelMapper(r,s),o.parserResult.trackByExp)&&(e=/\.(.+)/.exec(o.parserResult.trackByExp),e.length>0&&u[e[1]]==i[e[1]])||angular.equals(u,i))return t.unshift(n[f]),!0;return!1}},!n)return t;for(i=n.length-1;i>=0;i--)f(o.selected,n[i])||f(e,n[i])||t.unshift(n[i]);return t});r.$watchCollection(function(){return h.$modelValue},function(n,t){t!=n&&(h.$modelValue=null,s.refreshComponent())});h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!angular.isUndefined(h.$viewValue)&&null!==h.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);o.selected=[]}o.selected=h.$viewValue;r.$evalAsync()};r.$on("uis:select",function(n,t){o.selected.push(t);s.updateModel()});r.$on("uis:activate",function(){s.activeMatchIndex=-1});r.$watch("$select.disabled",function(n,t){t&&!n&&o.sizeSearchInput()});o.searchInput.on("keydown",function(t){var i=t.which;r.$apply(function(){var r=!1;n.isHorizontalMovement(i)&&(r=v(i));r&&i!=n.TAB&&(t.preventDefault(),t.stopPropagation())})});o.searchInput.on("keyup",function(t){if(n.isVerticalMovement(t.which)||r.$evalAsync(function(){o.activeIndex=o.taggingLabel===!1?-1:0}),o.tagging.isActivated&&o.search.length>0){if(t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||n.isVerticalMovement(t.which))return;if(o.activeIndex=o.taggingLabel===!1?-1:0,o.taggingLabel===!1)return;var f,v,e,h,i=angular.copy(o.items),u=angular.copy(o.items),s=!1,a=-1;if(void 0!==o.tagging.fct){if(e=o.$filter("filter")(i,{isTag:!0}),e.length>0&&(h=e[0]),i.length>0&&h&&(s=!0,i=i.slice(1,i.length),u=u.slice(1,u.length)),f=o.tagging.fct(o.search),f.isTag=!0,u.filter(function(n){return angular.equals(n,o.tagging.fct(o.search))}).length>0)return;f.isTag=!0}else{if(e=o.$filter("filter")(i,function(n){return n.match(o.taggingLabel)}),e.length>0&&(h=e[0]),v=i[0],void 0!==v&&i.length>0&&h&&(s=!0,i=i.slice(1,i.length),u=u.slice(1,u.length)),f=o.search+" "+o.taggingLabel,l(o.selected,o.search)>-1)return;if(c(u.concat(o.selected)))return s&&(i=u,r.$evalAsync(function(){o.activeIndex=0;o.items=i})),void 0;if(c(u))return s&&(o.items=u.slice(1,u.length)),void 0}s&&(a=l(o.selected,f));a>-1?i=i.slice(a+1,i.length-1):(i=[],i.push(f),i=i.concat(u));r.$evalAsync(function(){o.activeIndex=0;o.items=i})}});o.searchInput.on("blur",function(){i(function(){s.activeMatchIndex=-1})})}}}]);t.directive("uiSelectSingle",["$timeout","$compile",function(t,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,u,f,e){var o=e[0],h=e[1],s;h.$parsers.unshift(function(n){var i,t={};return t[o.parserResult.itemName]=n,i=o.parserResult.modelMapper(r,t)});h.$formatters.unshift(function(n){var f,i=o.parserResult.source(r,{$select:{search:""}}),e={},u,t;if(i){if(u=function(t){return e[o.parserResult.itemName]=t,f=o.parserResult.modelMapper(r,e),f==n},o.selected&&u(o.selected))return o.selected;for(t=i.length-1;t>=0;t--)if(u(i[t]))return i[t]}return n});r.$watch("$select.selected",function(n){h.$viewValue!==n&&h.$setViewValue(n)});h.$render=function(){o.selected=h.$viewValue};r.$on("uis:select",function(n,t){o.selected=t});r.$on("uis:close",function(n,i){t(function(){o.focusser.prop("disabled",!1);i||o.focusser[0].focus()},0,!1)});r.$on("uis:activate",function(){s.prop("disabled",!0)});s=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");i(s)(r);o.focusser=s;o.focusInput=s;u.parent().append(s);s.bind("focus",function(){r.$evalAsync(function(){o.focus=!0})});s.bind("blur",function(){r.$evalAsync(function(){o.focus=!1})});s.bind("keydown",function(t){return t.which===n.BACKSPACE?(t.preventDefault(),t.stopPropagation(),o.select(void 0),r.$apply(),void 0):(t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||((t.which==n.DOWN||t.which==n.UP||t.which==n.ENTER||t.which==n.SPACE)&&(t.preventDefault(),t.stopPropagation(),o.activate()),r.$digest()),void 0)});s.bind("keyup input",function(t){t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||t.which==n.ENTER||t.which===n.BACKSPACE||(o.activate(s.val()),s.val(""),r.$digest())})}}}]);t.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(n,t,i){return{require:"^uiSelect",link:function(t,r,u,f){if(null===t[u.uiSelectSort])throw i("sort","Expected a list to sort");var y=angular.extend({axis:"horizontal"},t.$eval(u.uiSelectSortOptions)),l=y.axis,s="dragging",h="dropping",e="dropping-before",o="dropping-after";t.$watch(function(){return f.sortable},function(n){n?r.attr("draggable",!0):r.removeAttr("draggable")});r.on("dragstart",function(n){r.addClass(s);(n.dataTransfer||n.originalEvent.dataTransfer).setData("text/plain",t.$index)});r.on("dragend",function(){r.removeClass(s)});var a,p=function(n,t){this.splice(t,0,this.splice(n,1)[0])},v=function(n){n.preventDefault();var t="vertical"===l?n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0):n.offsetX||n.layerX||(n.originalEvent?n.originalEvent.offsetX:0);t<this["vertical"===l?"offsetHeight":"offsetWidth"]/2?(r.removeClass(o),r.addClass(e)):(r.removeClass(e),r.addClass(o))},c=function(t){t.preventDefault();var i=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);n.cancel(a);a=n(function(){w(i)},20)},w=function(n){var i=t.$eval(u.uiSelectSort),s=i[n],f=null;f=r.hasClass(e)?n<t.$index?t.$index-1:t.$index:n<t.$index?t.$index:t.$index+1;p.apply(i,[n,f]);t.$apply(function(){t.$emit("uiSelectSort:change",{array:i,item:s,from:n,to:f})});r.removeClass(h);r.removeClass(e);r.removeClass(o);r.off("drop",c)};r.on("dragenter",function(){r.hasClass(s)||(r.addClass(h),r.on("dragover",v),r.on("drop",c))});r.on("dragleave",function(n){n.target==r&&(r.removeClass(h),r.removeClass(e),r.removeClass(o),r.off("dragover",v),r.off("drop",c))})}}}]);t.service("uisRepeatParser",["uiSelectMinErr","$parse",function(n,t){var i=this;i.parse=function(i){var r=i.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw n("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",i);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}};i.getGroupNgRepeatExpression=function(){return"$group in $select.groups"};i.getNgRepeatExpression=function(n,t,i,r){var u=n+" in "+(r?"$group.items":t);return i&&(u+=" track by "+i),u}}])}();angular.module("ui.select").run(["$templateCache",function(n){n.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"><\/div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"><\/div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"><\/a><\/div><\/li><\/ul>');n.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;<\/span> <span uis-transclude-append=""><\/span><\/span><\/span><\/span>');n.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""><\/span> <i class="caret pull-right" ng-click="$select.toggle($event)"><\/i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"><\/i><\/a><\/span><\/div>');n.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"><\/div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"><\/div><div class="ui-select-choices"><\/div><\/div>');n.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"><\/div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"><\/div><\/div>');n.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"><\/div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"><\/div><\/li><\/ul><\/li><\/ul>');n.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""><\/span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"><\/a><\/li><\/span>');n.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""><\/span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"><\/abbr> <span class="select2-arrow ui-select-toggle"><b><\/b><\/span><\/a>');n.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"><\/span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"><\/li><\/ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"><\/div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"><\/div><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"><\/div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""><\/div><\/div><\/div><\/div><\/div>');n.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""><\/div>');n.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"><\/div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"><\/div><div class="ui-select-choices"><\/div><\/div>')}]);!function(n,t,i){"use strict";t.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(n,r,u){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(f,e,o,s){function a(n,t){return t&&"function"==typeof t?function(i,r){n(i,r);t(i,r)}:n}function v(n){var t=n.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function p(n,t){var i=n.sortable("option","helper");return"clone"===i||"function"==typeof i&&t.item.sortable.isCustomHelperUsed()}function k(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}function d(n,t){for(var u,r=null,i=0;i<n.length;i++)if(u=n[i],u.element[0]===t[0]){r=u.scope;break}return r}function w(n,t){t.item.sortable._destroy()}var h,c={},b={"ui-floating":i},l={receive:null,remove:null,start:null,stop:null,update:null},y={helper:null};return t.extend(c,b,n,f.uiSortable),t.element.fn&&t.element.fn.jquery?(s?(f.$watch("ngModel.length",function(){r(function(){v(e)&&e.sortable("refresh")},0,!1)}),l.start=function(n,r){if("auto"===c["ui-floating"]){var u=r.item.siblings(),f=v(t.element(n.target));f.floating=k(u)}r.item.sortable={model:s.$modelValue[r.item.index()],index:r.item.index(),source:r.item.parent(),sourceModel:s.$modelValue,cancel:function(){r.item.sortable._isCanceled=!0},isCanceled:function(){return r.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!r.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:r.item.sortable._isCustomHelperUsed,_destroy:function(){t.forEach(r.item.sortable,function(n,t){r.item.sortable[t]=i})}}},l.activate=function(n,i){var r,u,s,o;h=e.contents();r=e.sortable("option","placeholder");r&&r.element&&"function"==typeof r.element&&(u=r.element(),u=t.element(u),s=e.find('[class="'+u.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])'),h=h.not(s));o=i.item.sortable._connectedSortables||[];o.push({element:e,scope:f});i.item.sortable._connectedSortables=o},l.update=function(n,t){var i,r;t.item.sortable.received||(t.item.sortable.dropindex=t.item.index(),i=t.item.parent(),t.item.sortable.droptarget=i,r=d(t.item.sortable._connectedSortables,i),t.item.sortable.droptargetModel=r.ngModel,e.sortable("cancel"));p(e,t)&&!t.item.sortable.received&&"parent"===e.sortable("option","appendTo")&&(h=h.not(h.last()));h.appendTo(e);t.item.sortable.received&&(h=null);t.item.sortable.received&&!t.item.sortable.isCanceled()&&f.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},l.stop=function(n,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?f.$apply(function(){s.$modelValue.splice(t.item.sortable.dropindex,0,s.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||p(e,t)||h.appendTo(e);h=null},l.receive=function(n,t){t.item.sortable.received=!0},l.remove=function(n,t){"dropindex"in t.item.sortable||(e.sortable("cancel"),t.item.sortable.cancel());t.item.sortable.isCanceled()||f.$apply(function(){t.item.sortable.moved=s.$modelValue.splice(t.item.sortable.index,1)[0]})},y.helper=function(n){return n&&"function"==typeof n?function(t,i){var r=n(t,i);return i.sortable._isCustomHelperUsed=i!==r,r}:n},f.$watch("uiSortable",function(n){var i=v(e);i&&t.forEach(n,function(n,t){return t in b?("ui-floating"!==t||n!==!1&&n!==!0||(i.floating=n),void(c[t]=n)):(l[t]?("stop"===t&&(n=a(n,function(){f.$apply()}),n=a(n,w)),n=a(l[t],n)):y[t]&&(n=y[t](n)),c[t]=n,void e.sortable("option",t,n))})},!0),t.forEach(l,function(n,t){c[t]=a(n,c[t]);"stop"===t&&(c[t]=a(c[t],w))})):u.info("ui.sortable: ngModel not provided!",e),void e.sortable(c)):void u.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular),function(n,t){function i(){var n=this;n.id=null;n.busy=!1;n.start=function(t,i){n.busy||(n.stop(),n.id=setTimeout(function(){t();n.id=null;n.busy=!1},i),n.busy=!0)};n.stop=function(){null!==n.id&&(clearTimeout(n.id),n.id=null,n.busy=!1)}}function u(r,u,f){var e=this;e.id=f;e.table=r;e.options=u;e.breakpoints=[];e.breakpointNames="";e.columns={};e.plugins=t.footable.plugins.load(e);var h=e.options,o=h.classes,c=h.events,s=h.triggers,l=0;return e.timers={resize:new i,register:function(n){return e.timers[n]=new i,e.timers[n]}},e.init=function(){var u=n(t),i=n(e.table),r;if(t.footable.plugins.init(e),i.hasClass(o.loaded))return e.raise(c.alreadyInitialized),undefined;e.raise(c.initializing);i.addClass(o.loading);i.find(h.columnDataSelector).each(function(){var n=e.getColumnData(this);e.columns[n.index]=n});for(r in h.breakpoints)e.breakpoints.push({name:r,width:h.breakpoints[r]}),e.breakpointNames+=r+" ";e.breakpoints.sort(function(n,t){return n.width-t.width});i.unbind(s.initialize).bind(s.initialize,function(){i.removeData("footable_info");i.data("breakpoint","");i.trigger(s.resize);i.removeClass(o.loading);i.addClass(o.loaded).addClass(o.main);e.raise(c.initialized)}).unbind(s.redraw).bind(s.redraw,function(){e.redraw()}).unbind(s.resize).bind(s.resize,function(){e.resize()}).unbind(s.expandFirstRow).bind(s.expandFirstRow,function(){i.find(h.toggleSelector).first().not("."+o.detailShow).trigger(s.toggleRow)}).unbind(s.expandAll).bind(s.expandAll,function(){i.find(h.toggleSelector).not("."+o.detailShow).trigger(s.toggleRow)}).unbind(s.collapseAll).bind(s.collapseAll,function(){i.find("."+o.detailShow).trigger(s.toggleRow)});i.trigger(s.initialize);u.bind("resize.footable",function(){e.timers.resize.stop();e.timers.resize.start(function(){e.raise(s.resize)},h.delay)})},e.addRowToggle=function(){var t,r,u,i,f;if(h.addRowToggle){t=n(e.table);r=!1;t.find("span."+o.toggle).remove();for(u in e.columns)if(i=e.columns[u],i.toggle)return r=!0,f="> tbody > tr:not(."+o.detail+",."+o.disabled+") > td:nth-child("+(parseInt(i.index,10)+1)+"),> tbody > tr:not(."+o.detail+",."+o.disabled+") > th:nth-child("+(parseInt(i.index,10)+1)+")",t.find(f).not("."+o.detailCell).prepend(n(h.toggleHTMLElement).addClass(o.toggle)),undefined;r||t.find("> tbody > tr:not(."+o.detail+",."+o.disabled+") > td:first-child").add("> tbody > tr:not(."+o.detail+",."+o.disabled+") > th:first-child").not("."+o.detailCell).prepend(n(h.toggleHTMLElement).addClass(o.toggle))}},e.setColumnClasses=function(){var f=n(e.table),u,t,i,r;for(u in e.columns)t=e.columns[u],null!==t.className&&(i="",r=!0,n.each(t.matches,function(n,t){r||(i+=", ");i+="> tbody > tr:not(."+o.detail+") > td:nth-child("+(parseInt(t,10)+1)+")";r=!1}),f.find(i).not("."+o.detailCell).addClass(t.className))},e.bindToggleSelectors=function(){var t=n(e.table);e.hasAnyBreakpointColumn()&&(t.find(h.toggleSelector).unbind(s.toggleRow).bind(s.toggleRow,function(){var t=n(this).is("tr")?n(this):n(this).parents("tr:first");e.toggleDetail(t)}),t.find(h.toggleSelector).unbind("click.footable").bind("click.footable",function(i){t.is(".breakpoint")&&n(i.target).is("td,th,."+o.toggle)&&n(this).trigger(s.toggleRow)}))},e.parse=function(n,t){var i=h.parsers[t.type]||h.parsers.alpha;return i(n)},e.getColumnData=function(t){var i=n(t),o=i.data("hide"),k=i.index(),r,w,y,p,s,u,f,a,v,b;if(o=o||"",o=jQuery.map(o.split(","),function(n){return jQuery.trim(n)}),r={index:k,hide:{},type:i.data("type")||"alpha",name:i.data("name")||n.trim(i.text()),ignore:i.data("ignore")||!1,toggle:i.data("toggle")||!1,className:i.data("class")||null,matches:[],names:{},group:i.data("group")||null,groupName:null,isEditable:i.data("editable")},null!==r.group&&(w=n(e.table).find('> thead > tr.footable-group-row > th[data-group="'+r.group+'"], > thead > tr.footable-group-row > td[data-group="'+r.group+'"]').first(),r.groupName=e.parse(w,{type:"alpha"})),y=parseInt(i.prev().attr("colspan")||0,10),l+=y>1?y-1:0,p=parseInt(i.attr("colspan")||0,10),s=r.index+l,p>1)for(u=i.data("names"),u=u||"",u=u.split(","),f=0;p>f;f++)r.matches.push(f+s),u.length>f&&(r.names[f+s]=u[f]);else r.matches.push(s);r.hide["default"]="all"===i.data("hide")||n.inArray("default",o)>=0;a=!1;for(v in h.breakpoints)r.hide[v]="all"===i.data("hide")||n.inArray(v,o)>=0,a=a||r.hide[v];return r.hasBreakpoint=a,b=e.raise(c.columnData,{column:{data:r,th:t}}),b.column.data},e.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)},e.calculateWidth=function(n,t){return jQuery.isFunction(h.calculateWidthOverride)?h.calculateWidthOverride(n,t):(t.viewportWidth<t.width&&(t.width=t.viewportWidth),t.parentWidth<t.width&&(t.width=t.parentWidth),t)},e.hasBreakpointColumn=function(n){for(var t in e.columns)if(e.columns[t].hide[n]){if(e.columns[t].ignore)continue;return!0}return!1},e.hasAnyBreakpointColumn=function(){for(var n in e.columns)if(e.columns[n].hasBreakpoint)return!0;return!1},e.resize=function(){var t=n(e.table),i,r,u,o,h;if(t.is(":visible")){if(!e.hasAnyBreakpointColumn())return t.trigger(s.redraw),undefined;if(i={width:t.width(),viewportWidth:e.getViewportWidth(),parentWidth:t.parent().width()},i=e.calculateWidth(t,i),r=t.data("footable_info"),t.data("footable_info",i),e.raise(c.resizing,{old:r,info:i}),!r||r&&r.width&&r.width!==i.width){for(o=null,h=0;e.breakpoints.length>h;h++)if(u=e.breakpoints[h],u&&u.width&&i.width<=u.width){o=u;break}var f=null===o?"default":o.name,l=e.hasBreakpointColumn(f),a=t.data("breakpoint");t.data("breakpoint",f).removeClass("default breakpoint").removeClass(e.breakpointNames).addClass(f+(l?" breakpoint":""));f!==a&&(t.trigger(s.redraw),e.raise(c.breakpoint,{breakpoint:f,info:i}))}e.raise(c.resized,{old:r,info:i})}},e.redraw=function(){e.addRowToggle();e.bindToggleSelectors();e.setColumnClasses();var t=n(e.table),i=t.data("breakpoint"),r=e.hasBreakpointColumn(i);t.find("> tbody > tr:not(."+o.detail+")").data("detail_created",!1).end().find("> thead > tr:last-child > th").each(function(){var r=e.columns[n(this).index()],u="",h=!0,f;if(n.each(r.matches,function(n,t){h||(u+=", ");var i=t+1;u+="> tbody > tr:not(."+o.detail+") > td:nth-child("+i+")";u+=", > tfoot > tr:not(."+o.detail+") > td:nth-child("+i+")";u+=", > colgroup > col:nth-child("+i+")";h=!1}),u+=', > thead > tr[data-group-row="true"] > th[data-group="'+r.group+'"]',f=t.find(u).add(this),""!==i&&(r.hide[i]===!1?f.addClass("footable-visible").show():f.removeClass("footable-visible").hide()),1===t.find("> thead > tr.footable-group-row").length){var l=t.find('> thead > tr:last-child > th[data-group="'+r.group+'"]:visible, > thead > tr:last-child > th[data-group="'+r.group+'"]:visible'),c=t.find('> thead > tr.footable-group-row > th[data-group="'+r.group+'"], > thead > tr.footable-group-row > td[data-group="'+r.group+'"]'),s=0;n.each(l,function(){s+=parseInt(n(this).attr("colspan")||1,10)});s>0?c.attr("colspan",s).show():c.hide()}}).end().find("> tbody > tr."+o.detailShow).each(function(){e.createOrUpdateDetailRow(this)});t.find("[data-bind-name]").each(function(){e.toggleInput(this)});t.find("> tbody > tr."+o.detailShow+":visible").each(function(){var t=n(this).next();t.hasClass(o.detail)&&(r?t.show():t.hide())});t.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column");t.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column");t.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column");e.raise(c.redrawn)},e.toggleDetail=function(t){var i=t.jquery?t:n(t),r=i.next();i.hasClass(o.detailShow)?(i.removeClass(o.detailShow),r.hasClass(o.detail)&&r.hide(),e.raise(c.rowCollapsed,{row:i[0]})):(e.createOrUpdateDetailRow(i[0]),i.addClass(o.detailShow).next().show(),e.raise(c.rowExpanded,{row:i[0]}))},e.removeRow=function(t){var i=t.jquery?t:n(t),r;i.hasClass(o.detail)&&(i=i.prev());r=i.next();i.data("detail_created")===!0&&r.remove();i.remove();e.raise(c.rowRemoved)},e.appendRow=function(t){var i=t.jquery?t:n(t);n(e.table).find("tbody").append(i);e.redraw()},e.getColumnFromTdIndex=function(t){var r=null,i;for(i in e.columns)if(n.inArray(t,e.columns[i].matches)>=0){r=e.columns[i];break}return r},e.createOrUpdateDetailRow=function(t){var s,i=n(t),r=i.next(),u=[],l,f;return i.data("detail_created")===!0?!0:i.is(":hidden")?!1:(e.raise(c.rowDetailUpdating,{row:i,detail:r}),i.find("> td:hidden").each(function(){var r=n(this).index(),t=e.getColumnFromTdIndex(r),s=t.name,i,h,f;return t.ignore===!0?!0:(r in t.names&&(s=t.names[r]),i=n(this).attr("data-bind-name"),null!=i&&n(this).is(":empty")&&(h=n("."+o.detailInnerValue+'[data-bind-value="'+i+'"]'),n(this).html(n(h).contents().detach())),t.isEditable!==!1&&(t.isEditable||n(this).find(":input").length>0)&&(null==i&&(i="bind-"+n.now()+"-"+r,n(this).attr("data-bind-name",i)),f=n(this).contents().detach()),f||(f=n(this).contents().clone(!0,!0)),u.push({name:s,value:e.parse(this,t),display:f,group:t.group,groupName:t.groupName,bindName:i}),!0)}),0===u.length)?!1:(l=i.find("> td:visible").length,f=r.hasClass(o.detail),f||(r=n('<tr class="'+o.detail+'"><td class="'+o.detailCell+'"><div class="'+o.detailInner+'"><\/div><\/td><\/tr>'),i.after(r)),r.find("> td:first").attr("colspan",l),s=r.find("."+o.detailInner).empty(),h.createDetail(s,u,h.createGroupedDetail,h.detailSeparator,o),i.data("detail_created",!0),e.raise(c.rowDetailUpdated,{row:i,detail:r}),!f)},e.raise=function(t,i){var u,r;return e.options.debug===!0&&n.isFunction(e.options.log)&&e.options.log(t,"event"),i=i||{},u={ft:e},n.extend(!0,u,i),r=n.Event(t,u),r.ft||n.extend(!0,r,u),n(e.table).trigger(r),r},e.reset=function(){var t=n(e.table);t.removeData("footable_info").data("breakpoint","").removeClass(o.loading).removeClass(o.loaded);t.find(h.toggleSelector).unbind(s.toggleRow).unbind("click.footable");t.find("> tbody > tr").removeClass(o.detailShow);t.find("> tbody > tr."+o.detail).remove();e.raise(c.reset)},e.toggleInput=function(t){var r=n(t).attr("data-bind-name"),i;null!=r&&(i=n("."+o.detailInnerValue+'[data-bind-value="'+r+'"]'),null!=i&&(n(t).is(":visible")?n(i).is(":empty")||n(t).html(n(i).contents().detach()):n(t).is(":empty")||n(i).html(n(t).contents().detach())))},e.init(),e}t.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(t){return n(t).data("value")||n.trim(n(t).text())},numeric:function(t){var i=n(t).data("value")||n(t).text().replace(/[^0-9.\-]/g,"");return i=parseFloat(i),isNaN(i)&&(i=0),i}},addRowToggle:!0,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(n){for(var r,i={_none:{name:null,data:[]}},t=0;n.length>t;t++)r=n[t].group,null!==r?(r in i||(i[r]={name:n[t].groupName||n[t].group,data:[]}),i[r].data.push(n[t])):i._none.data.push(n[t]);return i},createDetail:function(t,i,r,u,f){var o=r(i),e,s,h;for(e in o)if(0!==o[e].data.length)for("_none"!==e&&t.append('<div class="'+f.detailInnerGroup+'">'+o[e].name+"<\/div>"),s=0;o[e].data.length>s;s++)h=o[e].data[s].name?u:"",t.append(n("<div><\/div>").addClass(f.detailInnerRow).append(n("<div><\/div>").addClass(f.detailInnerName).append(o[e].data[s].name+h)).append(n("<div><\/div>").addClass(f.detailInnerValue).attr("data-bind-value",o[e].data[s].bindName).append(o[e].data[s].display)))},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:!1,log:null},version:{major:0,minor:5,toString:function(){return t.footable.version.major+"."+t.footable.version.minor},parse:function(n){var t=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(n);return{major:parseInt(t[1],10)||0,minor:parseInt(t[2],10)||0,patch:parseInt(t[3],10)||0}}},plugins:{_validate:function(i){if(!n.isFunction(i))return t.footable.options.debug===!0&&console.error('Validation failed, expected type "function", received type "{0}".',typeof i),!1;var r=new i;return"string"!=typeof r.name?(t.footable.options.debug===!0&&console.error('Validation failed, plugin does not implement a string property called "name".',r),!1):n.isFunction(r.init)?(t.footable.options.debug===!0&&console.log('Validation succeeded for plugin "'+r.name+'".',r),!0):(t.footable.options.debug===!0&&console.error('Validation failed, plugin "'+r.name+'" does not implement a function called "init".',r),!1)},registered:[],register:function(i,r){t.footable.plugins._validate(i)&&(t.footable.plugins.registered.push(i),"object"==typeof r&&n.extend(!0,t.footable.options,r))},load:function(n){for(var r,u=[],i=0;t.footable.plugins.registered.length>i;i++)try{r=t.footable.plugins.registered[i];u.push(new r(n))}catch(f){t.footable.options.debug===!0&&console.error(f)}return u},init:function(n){for(var i=0;n.plugins.length>i;i++)try{n.plugins[i].init(n)}catch(r){t.footable.options.debug===!0&&console.error(r)}}}};var r=0;n.fn.footable=function(i){i=i||{};var f=n.extend(!0,{},t.footable.options,i);return this.each(function(){r++;var t=new u(this,f,r);n(this).data("footable",t)})}}(jQuery,window),function(n,t,i){function u(t){var i=n("<th>"+t.title+"<\/th>");return n.isPlainObject(t.data)&&i.data(t.data),n.isPlainObject(t.style)&&i.css(t.style),t.className&&i.addClass(t.className),i}function f(t,i){var r=t.find("thead");0===r.size()&&(r=n("<thead>").appendTo(t));for(var e=n("<tr>").appendTo(r),f=0,o=i.cols.length;o>f;f++)e.append(u(i.cols[f]))}function e(t){var i=t.find("tbody");0===i.size()&&(i=n("<tbody>").appendTo(t))}function o(t,i,r){var u,f;r&&(t.attr("data-page-size",r["page-size"]),u=t.find("tfoot"),0===u.size()&&(u=n('<tfoot class="hide-if-no-paging"><\/tfoot>').appendTo(t)),u.append("<tr><td colspan="+i.length+"><\/td><\/tr>"),f=n("<div>").appendTo(u.find("tr:last-child td")),f.addClass(r["pagination-class"]))}function s(t){for(var i,u=t[0],r=0,f=t.length;f>r;r++)if(i=t[r],i.data&&(i.data.toggle===!0||"true"===i.data.toggle))return;u.data=n.extend(u.data,{toggle:!0})}function h(n,t,i){0===n.find("tr.emptyInfo").size()&&n.find("tbody").append('<tr class="emptyInfo"><td colspan="'+t.length+'">'+i+"<\/td><\/tr>")}function r(t,i,r,u){t.find("tr:not(."+r+")").each(function(){var t=n(this),e=i.data("index"),r=parseInt(t.data("index"),0),f=r+u;r>=e&&this!==i.get(0)&&t.attr("data-index",f).data("index",f)})}function c(){function u(t,i,r){var u=n("<td>");return t.formatter?u.html(t.formatter(i,u,r)):u.html(i||""),u}var t=this;t.name="Footable Grid";t.init=function(r){var a=r.options.classes.toggle,l=r.options.classes.detail,u=r.options.grid,c;u.cols&&(t.footable=r,c=n(r.table),c.data("grid",t),n.isPlainObject(u.data)&&c.data(u.data),t._items=[],s(u.cols),u.showCheckbox&&(u.multiSelect=!0,u.cols.unshift({title:u.checkboxFormatter(!0),name:"",data:{"sort-ignore":!0},formatter:u.checkboxFormatter})),u.showIndex&&u.cols.unshift({title:"#",name:"index",data:{"sort-ignore":!0},formatter:u.indexFormatter}),f(c,u),e(c),o(c,u.cols,u.pagination),c.off(".grid").on({"footable_initialized.grid":function(){u.url||u.ajax?n.ajax(u.ajax||{url:u.url}).then(function(n){t.newItem(n);r.raise(u.events.loaded)},function(){throw"load data from "+(u.url||u.ajax.url)+" fail";}):(t.newItem(u.items||[]),r.raise(u.events.loaded))},"footable_sorted.grid footable_grid_created.grid footable_grid_removed.grid":function(){u.showIndex&&t.getItem().length>0&&c.find("tbody tr:not(."+l+")").each(function(t){var i=n(this).find("td:first");i.html(u.indexFormatter(null,i,t))})},"footable_redrawn.grid footable_row_removed.grid":function(){0===t.getItem().length&&u.showEmptyInfo&&h(c,u.cols,u.emptyInfo)}}).on({"click.grid":function(t){if(n(t.target).closest("td").find(">."+a).size()>0)return!0;var f=n(t.currentTarget);return f.hasClass(l)?!0:(u.multiSelect||f.hasClass(u.activeClass)||c.find("tbody tr."+u.activeClass).removeClass(u.activeClass),f.toggleClass(u.activeClass),u.showCheckbox&&f.find("input:checkbox.check").prop("checked",function(n,i){return t.target===this?i:!i}),r.toggleDetail(f),i)}},"tbody tr").on("click.grid","thead input:checkbox.checkAll",function(n){var t=!!n.currentTarget.checked;t?c.find("tbody tr").addClass(u.activeClass):c.find("tbody tr").removeClass(u.activeClass);c.find("tbody input:checkbox.check").prop("checked",t)}))};t.getSelected=function(){var i=t.footable.options.grid,r=n(t.footable.table).find("tbody>tr."+i.activeClass);return r.map(function(){return n(this).data("index")})};t.getItem=function(r){return r!==i?n.isArray(r)?n.map(r,function(n){return t._items[n]}):t._items[r]:t._items};t._makeRow=function(i,r){var f,e=t.footable.options.grid,o,h,s;if(n.isFunction(e.template))f=n(e.template(n.extend({},{__index:r},i)));else for(f=n("<tr>"),o=0,h=e.cols.length;h>o;o++)s=e.cols[o],f.append(u(s,i[s.name]||"",r));return f.attr("data-index",r),f};t.newItem=function(u,f,e){var s=n(t.footable.table).find("tbody"),a=t.footable.options.classes.detail,l,o,c,h;if(s.find("tr.emptyInfo").remove(),n.isArray(u)){for(;l=u.pop();)t.newItem(l,f,!0);return t.footable.redraw(),t.footable.raise(t.footable.options.grid.events.created,{item:u,index:f}),i}n.isPlainObject(u)&&(c=t._items.length,f===i||0>f||f>c?(o=t._makeRow(u,c++),t._items.push(u),s.append(o)):((o=t._makeRow(u,f),0===f)?(t._items.unshift(u),s.prepend(o)):(h=s.find("tr[data-index="+(f-1)+"]"),t._items.splice(f,0,u),h.data("detail_created")===!0&&(h=h.next()),h.after(o)),r(s,o,a,1)),e||(t.footable.redraw(),t.footable.raise(t.footable.options.grid.events.created,{item:u,index:f})))};t.setItem=function(i,r){var u,f,e;n.isPlainObject(i)&&(u=n(t.footable.table).find("tbody"),f=t._makeRow(i,r),n.extend(t._items[r],i),e=u.find("tr").eq(r),e.html(f.html()),t.footable.redraw(),t.footable.raise(t.footable.options.grid.events.updated,{item:i,index:r}))};t.removeItem=function(u){var e=n(t.footable.table).find("tbody"),h=t.footable.options.classes.detail,f=[],s,o;if(n.isArray(u)){for(;s=u.pop();)f.push(t.removeItem(s));return t.footable.raise(t.footable.options.grid.events.removed,{item:f,index:u}),f}return u===i?e.find("tr").each(function(){f.push(t._items.shift());t.footable.removeRow(this)}):(o=e.find("tr[data-index="+u+"]"),f=t._items.splice(u,1)[0],t.footable.removeRow(o),r(e,o,h,-1)),t.footable.raise(t.footable.options.grid.events.removed,{item:f,index:u}),f}}if(t.footable===i||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var l={grid:{enabled:!0,data:null,template:null,cols:null,items:null,url:null,ajax:null,activeClass:"active",multiSelect:!1,showIndex:!1,showCheckbox:!1,showEmptyInfo:!1,emptyInfo:'<p class="text-center text-warning">No Data<\/p>',pagination:{"page-size":20,"pagination-class":"pagination pagination-centered"},indexFormatter:function(n,t,i){return i+1},checkboxFormatter:function(n){return'<input type="checkbox" class="'+(n?"checkAll":"check")+'">'},events:{loaded:"footable_grid_loaded",created:"footable_grid_created",removed:"footable_grid_removed",updated:"footable_grid_updated"}}};t.footable.plugins.register(c,l)}(jQuery,window),function(n,t,i){function r(){var t=this;t.name="Footable Filter";t.init=function(i){if(t.footable=i,i.options.filter.enabled===!0){if(n(i.table).data("filter")===!1)return;i.timers.register("filter");n(i.table).unbind(".filtering").bind({"footable_initialized.filtering":function(){var u=n(i.table),r={input:u.data("filter")||i.options.filter.input,timeout:u.data("filter-timeout")||i.options.filter.timeout,minimum:u.data("filter-minimum")||i.options.filter.minimum,disableEnter:u.data("filter-disable-enter")||i.options.filter.disableEnter};r.disableEnter&&n(r.input).keypress(function(n){return window.event?13!==window.event.keyCode:13!==n.which});u.bind("footable_clear_filter",function(){n(r.input).val("");t.clearFilter()});u.bind("footable_filter",function(n,i){t.filter(i.filter)});n(r.input).keyup(function(u){i.timers.filter.stop();27===u.which&&n(r.input).val("");i.timers.filter.start(function(){var i=n(r.input).val()||"";t.filter(i)},r.timeout)})},"footable_redrawn.filtering":function(){var u=n(i.table),r=u.data("filter-string");r&&t.filter(r)}}).data("footable-filter",t)}};t.filter=function(i){var u=t.footable,f=n(u.table),s=f.data("filter-minimum")||u.options.filter.minimum,h=!i,r=u.raise("footable_filtering",{filter:i,clear:h}),o,e;r&&r.result===!1||r.filter&&s>r.filter.length||(r.clear?t.clearFilter():(o=r.filter.split(" "),f.find("> tbody > tr").hide().addClass("footable-filtered"),e=f.find("> tbody > tr:not(.footable-row-detail)"),n.each(o,function(n,t){t&&t.length>0&&(f.data("current-filter",t),e=e.filter(u.options.filter.filterFunction))}),e.each(function(){t.showRow(this,u);n(this).removeClass("footable-filtered")}),f.data("filter-string",r.filter),u.raise("footable_filtered",{filter:r.filter,clear:!1})))};t.clearFilter=function(){var i=t.footable,r=n(i.table);r.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){t.showRow(this,i)});r.removeData("filter-string");i.raise("footable_filtered",{clear:!0})};t.showRow=function(t,i){var r=n(t),u=r.next(),f=n(i.table);r.is(":visible")||(f.hasClass("breakpoint")&&r.hasClass("footable-detail-show")&&u.hasClass("footable-row-detail")?(r.add(u).show(),i.createOrUpdateDetailRow(t)):r.show())}}if(t.footable===i||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var u={filter:{enabled:!0,input:".footable-filter",timeout:300,minimum:2,disableEnter:!1,filterFunction:function(){var t=n(this),i=t.parents("table:first"),u=i.data("current-filter").toUpperCase(),r=t.find("td").text();return i.data("filter-text-only")||t.find("td[data-value]").each(function(){r+=n(this).data("value")}),r.toUpperCase().indexOf(u)>=0}}};t.footable.plugins.register(r,u)}(jQuery,window),function(n,t,i){function u(t){var u=n(t.table),i=u.data();this.pageNavigation=i.pageNavigation||t.options.pageNavigation;this.pageSize=i.pageSize||t.options.pageSize;this.firstText=i.firstText||t.options.firstText;this.previousText=i.previousText||t.options.previousText;this.nextText=i.nextText||t.options.nextText;this.lastText=i.lastText||t.options.lastText;this.limitNavigation=parseInt(i.limitNavigation||t.options.limitNavigation||r.limitNavigation,10);this.limitPreviousText=i.limitPreviousText||t.options.limitPreviousText;this.limitNextText=i.limitNextText||t.options.limitNextText;this.limit=this.limitNavigation>0;this.currentPage=i.currentPage||0;this.pages=[];this.control=!1}function f(){var t=this;t.name="Footable Paginate";t.init=function(i){if(i.options.paginate===!0){if(n(i.table).data("page")===!1)return;t.footable=i;n(i.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){t.setupPaging()}}).data("footable-paging",t)}};t.setupPaging=function(){var i=t.footable,r=n(i.table).find("> tbody");i.pageInfo=new u(i);t.createPages(i,r);t.createNavigation(i,r);t.fillPage(i,r,i.pageInfo.currentPage)};t.createPages=function(t,i){var f=1,r=t.pageInfo,s=f*r.pageSize,e=[],o=[],u;r.pages=[];u=i.find("> tr:not(.footable-filtered,.footable-row-detail)");u.each(function(n,t){e.push(t);n===s-1?(r.pages.push(e),f++,s=f*r.pageSize,e=[]):n>=u.length-u.length%r.pageSize&&o.push(t)});o.length>0&&r.pages.push(o);r.currentPage>=r.pages.length&&(r.currentPage=r.pages.length-1);0>r.currentPage&&(r.currentPage=0);1===r.pages.length?n(t.table).addClass("no-paging"):n(t.table).removeClass("no-paging")};t.createNavigation=function(i){var r=n(i.table).find(i.pageInfo.pageNavigation),u;if(0===r.length){if(r=n(i.pageInfo.pageNavigation),r.parents("table:first").length>0&&r.parents("table:first")!==n(i.table))return;r.length>1&&i.options.debug===!0&&console.error("More than one pagination control was found!")}0!==r.length&&(r.is("ul")||(0===r.find("ul:first").length&&r.append("<ul />"),r=r.find("ul")),r.find("li").remove(),u=i.pageInfo,u.control=r,u.pages.length>0&&(r.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+i.pageInfo.firstText+"<\/a>"),r.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+i.pageInfo.previousText+"<\/a><\/li>"),u.limit&&r.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+i.pageInfo.limitPreviousText+"<\/a><\/li>"),u.limit||n.each(u.pages,function(n,t){t.length>0&&r.append('<li class="footable-page"><a data-page="'+n+'" href="#">'+(n+1)+"<\/a><\/li>")}),u.limit&&(r.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+i.pageInfo.limitNextText+"<\/a><\/li>"),t.createLimited(r,u,0)),r.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+i.pageInfo.nextText+"<\/a><\/li>"),r.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+i.pageInfo.lastText+"<\/a><\/li>")),r.off("click","a[data-page]").on("click","a[data-page]",function(f){var o,e,h,c,s;if(f.preventDefault(),o=n(this).data("page"),e=u.currentPage,"first"===o?e=0:"prev"===o?e>0&&e--:"next"===o?u.pages.length-1>e&&e++:"last"===o?e=u.pages.length-1:"limit-prev"===o?(e=-1,h=r.find(".footable-page:first a").data("page"),t.createLimited(r,u,h-u.limitNavigation),t.setPagingClasses(r,u.currentPage,u.pages.length)):"limit-next"===o?(e=-1,c=r.find(".footable-page:last a").data("page"),t.createLimited(r,u,c+1),t.setPagingClasses(r,u.currentPage,u.pages.length)):e=o,e>=0){if(u.limit&&u.currentPage!=e){for(s=e;0!=s%u.limitNavigation;)s-=1;t.createLimited(r,u,s)}t.paginate(i,e)}}),t.setPagingClasses(r,u.currentPage,u.pages.length))};t.createLimited=function(n,t,i){i=i||0;n.find("li.footable-page").remove();for(var f,u=n.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),e=n.find('li.footable-page-arrow > a[data-page="limit-next"]').parent(),r=t.pages.length-1;r>=0;r--)f=t.pages[r],r>=i&&i+t.limitNavigation>r&&f.length>0&&u.after('<li class="footable-page"><a data-page="'+r+'" href="#">'+(r+1)+"<\/a><\/li>");0===i?u.hide():u.show();i+t.limitNavigation>=t.pages.length?e.hide():e.show()};t.paginate=function(i,r){var u=i.pageInfo,e,f;if(u.currentPage!==r){if(e=n(i.table).find("> tbody"),f=i.raise("footable_paging",{page:r,size:u.pageSize}),f&&f.result===!1)return;t.fillPage(i,e,r);u.control.find("li").removeClass("active disabled");t.setPagingClasses(u.control,u.currentPage,u.pages.length)}};t.setPagingClasses=function(n,t,i){n.find("li.footable-page > a[data-page="+t+"]").parent().addClass("active");t>=i-1&&(n.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled"),n.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled"));1>t&&(n.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled"),n.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled"))};t.fillPage=function(i,r,u){i.pageInfo.currentPage=u;n(i.table).data("currentPage",u);r.find("> tr").hide();n(i.pageInfo.pages[u]).each(function(){t.showRow(this,i)});i.raise("footable_page_filled")};t.showRow=function(t,i){var r=n(t),u=r.next(),f=n(i.table);f.hasClass("breakpoint")&&r.hasClass("footable-detail-show")&&u.hasClass("footable-row-detail")?(r.add(u).show(),i.createOrUpdateDetailRow(t)):r.show()}}if(t.footable===i||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r={paginate:!0,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};t.footable.plugins.register(f,r)}(jQuery,window),function(n,t,i){function r(){var t=this;t.name="Footable Sortable";t.init=function(r){t.footable=r;r.options.sort===!0&&n(r.table).unbind(".sorting").bind({"footable_initialized.sorting":function(){var u,e,f=n(r.table),i=(f.find("> tbody"),r.options.classes.sort),o,s,h;if(f.data("sort")!==!1){f.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){var t=n(this),u=r.columns[t.index()];u.sort.ignore===!0||t.hasClass(i.sortable)||(t.addClass(i.sortable),n("<span />").addClass(i.indicator).appendTo(t))});f.find("> thead > tr:last-child > th."+i.sortable+", > thead > tr:last-child > td."+i.sortable).unbind("click.footable").bind("click.footable",function(r){r.preventDefault();e=n(this);var u=!e.hasClass(i.sorted);return t.doSort(e.index(),u),!1});o=!1;for(s in r.columns)if(u=r.columns[s],u.sort.initial){h="descending"!==u.sort.initial;t.doSort(u.index,h);break}o&&r.bindToggleSelectors()}},"footable_redrawn.sorting":function(){var u=n(r.table),f=r.options.classes.sort;u.data("sorted")>=0&&u.find("> thead > tr:last-child > th").each(function(r){var u=n(this);return u.hasClass(f.sorted)||u.hasClass(f.descending)?(t.doSort(r),i):i})},"footable_column_data.sorting":function(t){var i=n(t.column.th),r;t.column.data.sort=t.column.data.sort||{};t.column.data.sort.initial=i.data("sort-initial")||!1;t.column.data.sort.ignore=i.data("sort-ignore")||!1;t.column.data.sort.selector=i.data("sort-selector")||null;r=i.data("sort-match")||0;r>=t.column.data.matches.length&&(r=0);t.column.data.sort.match=t.column.data.matches[r]}}).data("footable-sort",t)};t.doSort=function(r,u){var f=t.footable,c;if(n(f.table).data("sort")!==!1){var h=n(f.table),a=h.find("> tbody"),s=f.columns[r],o=h.find("> thead > tr:last-child > th:eq("+r+")"),e=f.options.classes.sort,l=f.options.events.sort;if(u=u===i?o.hasClass(e.sorted):"toggle"===u?!o.hasClass(e.sorted):u,s.sort.ignore===!0)return!0;c=f.raise(l.sorting,{column:s,direction:u?"ASC":"DESC"});c&&c.result===!1||(h.data("sorted",s.index),h.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(o).removeClass(e.sorted+" "+e.descending),u===i&&(u=o.hasClass(e.sorted)),u?o.removeClass(e.descending).addClass(e.sorted):o.removeClass(e.sorted).addClass(e.descending),t.sort(f,a,s,u),f.bindToggleSelectors(),f.raise(l.sorted,{column:s,direction:u?"ASC":"DESC"}))}};t.rows=function(t,r,u){var f=[];return r.find("> tr").each(function(){var r=n(this),o=null,e;return r.hasClass(t.options.classes.detail)?!0:(r.next().hasClass(t.options.classes.detail)&&(o=r.next().get(0)),e={row:r,detail:o},u!==i&&(e.value=t.parse(this.cells[u.sort.match],u)),f.push(e),!0)}).detach(),f};t.sort=function(n,i,r,u){var e=t.rows(n,i,r),o=n.options.sorters[r.type]||n.options.sorters.alpha,f;for(e.sort(function(n,t){return u?o(n.value,t.value):o(t.value,n.value)}),f=0;e.length>f;f++)i.append(e[f].row),null!==e[f].detail&&i.append(e[f].detail)}}if(t.footable===i||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var u={sort:!0,sorters:{alpha:function(n,t){return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof t&&(t=t.toLowerCase()),n===t?0:t>n?-1:1},numeric:function(n,t){return n-t}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}};t.footable.plugins.register(r,u)}(jQuery,window),function(n,t,i){function r(){var t=this;t.name="Footable Striping";t.init=function(i){t.footable=i;n(i.table).unbind("striping").bind({"footable_initialized.striping footable_row_removed.striping footable_redrawn.striping footable_sorted.striping footable_filtered.striping":function(){n(this).data("striping")!==!1&&t.setupStriping(i)}})};t.setupStriping=function(t){var i=0;n(t.table).find("> tbody > tr:not(.footable-row-detail)").each(function(){var r=n(this);r.removeClass(t.options.classes.striping.even).removeClass(t.options.classes.striping.odd);0==i%2?r.addClass(t.options.classes.striping.even):r.addClass(t.options.classes.striping.odd);i++})}}if(t.footable===i||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(r,{striping:{enabled:!0},classes:{striping:{odd:"footable-odd",even:"footable-even"}}})}(jQuery,window),function(n,t,i){function r(n,t){t=t?t:location.hash;var r=RegExp("&"+n+"(?:=([^&]*))?(?=&|$)","i");return(t=t.replace(/^\#/,"&").match(r))?t[1]===i?"":decodeURIComponent(t[1]):i}function u(t,i){var a=n(t.table).find("tbody").find("tr:not(.footable-row-detail, .footable-filtered)").length,c,l,e,o,f,u,r,s,h;n(t.table).data("status_num_total",a);c=n(t.table).find("tbody").find("tr:not(.footable-row-detail)").filter(":visible").length;n(t.table).data("status_num_shown",c);var v=n(t.table).data("sorted"),y=n(t.table).find("th")[v],p=n(y).hasClass("footable-sorted-desc");if((n(t.table).data("status_descending",p),t.pageInfo)&&(l=t.pageInfo.currentPage,n(t.table).data("status_pagenum",l)),e="",o=n(t.table).data("filter"),n(o).length&&(e=n(o).val()),n(t.table).data("status_filter_val",e),"footable_row_expanded"==i.type&&(f=i.row,f&&(u=n(t.table).data("expanded_rows"),r=[],u&&(r=u.split(",")),r.push(f.rowIndex),n(t.table).data("expanded_rows",r.join(",")))),"footable_row_collapsed"==i.type&&(f=i.row)){u=n(t.table).data("expanded_rows");r=[];u&&(r=u.split(","));s=[];for(h in r)if(r[h]==f.rowIndex){s=r.splice(h,1);break}n(t.table).data("expanded_rows",s.join(","))}}function f(){var t=this;t.name="Footable LucidBookmarkable";t.init=function(t){t.options.bookmarkable.enabled&&n(t.table).bind({footable_initialized:function(){var u=t.table.id,f=r(u+"_f"),s=r(u+"_p"),h=r(u+"_s"),p=r(u+"_d"),c=r(u+"_e"),l,a,e,o,v,y;if(f&&(l=n(t.table).data("filter"),n(l).val(f),n(t.table).trigger("footable_filter",{filter:f})),(s&&n(t.table).data("currentPage",s),h!==i)?(a=n(t.table).data("footable-sort"),e=!0,"true"==p&&(e=!1),a.doSort(h,e)):n(t.table).trigger("footable_setup_paging"),c){o=c.split(",");for(v in o)y=n(t.table.rows[o[v]]),y.find("> td:first").trigger("footable_toggle_row")}t.lucid_bookmark_read=!0},"footable_page_filled footable_redrawn footable_filtered footable_sorted footable_row_expanded footable_row_collapsed":function(r){var w,b,f,s,h;if(u(t,r),t.lucid_bookmark_read){var e=t.table.id,c=e+"_f",l=e+"_p",a=e+"_s",v=e+"_d",y=e+"_e",o=location.hash.replace(/^\#/,"&"),p=[c,l,a,v,y];for(w in p)b=RegExp("&"+p[w]+"=([^&]*)","g"),o=o.replace(b,"");f={};f[c]=n(t.table).data("status_filter_val");f[l]=n(t.table).data("status_pagenum");f[a]=n(t.table).data("sorted");f[v]=n(t.table).data("status_descending");f[y]=n(t.table).data("expanded_rows");s=[];for(h in f)f[h]!==i&&s.push(h+"="+encodeURIComponent(f[h]));o.length&&s.push(o);location.hash=s.join("&")}}})}}if(t.footable===i||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(f,{bookmarkable:{enabled:!1}})}(jQuery,window);!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);t.angularFootable=n()}}(function(){return function n(t,i,r){function u(f,o){var h,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);throw new Error("Cannot find module '"+f+"'");}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(){"use strict";angular.module("ui.footable",[]).directive("footable",function(){var n={beforeFiltering:"footable_filtering"},t=function(t,i){var r,u={};for(r in t)"filter"===r||angular.isUndefined(n[r])||angular.isFunction(scope.$eval(i[r]))||(u[r]=i[r]);return u},i=function(t,i,r){var u,f;for(u in r)"filter"===u||angular.isUndefined(n[u])||(f=n[u],angular.isFunction(i.$eval(r[u]))&&t.bind(f,i.$eval(r[u])))};return{restrict:"C",link:function(n,r,u){var f={"event-filtering":null},e;angular.extend(f,footable.options);angular.extend(f,t(f,u));e=r.footable(f);i(e,n,u)}}})},{}]},{},[1])(1)}),function(){"use strict";angular.module("permission",["ui.router"]).run(["$rootScope","Permission","$state","$q",function(n,t,i,r){n.$on("$stateChangeStart",function(u,f,e,o,s){if(!f.$$finishAuthorize){var h;if(f.data&&f.data.permissions?h=f.data.permissions:f.permissions&&(console.log("Deprecation Warning: permissions should be set inside the `data` key "),console.log("Setting permissions for a state outside `data` will be depracated in version 1"),h=f.permissions),h){if(u.preventDefault(),f=angular.extend({$$finishAuthorize:!0},f),n.$broadcast("$stateChangePermissionStart",f,e).defaultPrevented)return;t.authorize(h,e).then(function(){n.$broadcast("$stateChangeStart",f,e,o,s).defaultPrevented||(n.$broadcast("$stateChangePermissionAccepted",f,e),i.go(f.name,e,{notify:!1}).then(function(){n.$broadcast("$stateChangeSuccess",f,e,o,s)}))},function(){if(!n.$broadcast("$stateChangeStart",f,e,o,s).defaultPrevented){n.$broadcast("$stateChangePermissionDenied",f,e);var t=h.redirectTo;angular.isFunction(t)?(t=t(),r.when(t).then(function(n){n&&i.go(n,e)})):t&&i.go(t,e)}})}}})}])}(),function(){"use strict";angular.module("permission").provider("Permission",function(){var t={},n=function(n,t){if(!angular.isString(n))throw new Error("Role name must be a string");if(!angular.isFunction(t))throw new Error("Validation function not provided correctly");},i=function(t,i){if(angular.isArray(t))for(var r=0;r<t.length;r++)n(t[r],i);else throw new Error("Roles must be an array");};this.defineRole=function(i,r){return n(i,r),t[i]=r,this};this.$get=["$q",function(r){var u={_promiseify:function(n){if(n&&angular.isFunction(n.then))return n;var t=r.defer();return n?t.resolve():t.reject(),t.promise},_validateRoleMap:function(n){if(typeof n!="object"||n instanceof Array)throw new Error("Role map has to be an object");if(n.only===undefined&&n.except===undefined)throw new Error('Either "only" or "except" keys must me defined');if(n.only){if(!(n.only instanceof Array))throw new Error("Array of roles expected");}else if(n.except&&!(n.except instanceof Array))throw new Error("Array of roles expected");},_findMatchingRole:function(n,t){var o=angular.copy(n),i=r.defer(),f=o.shift(),e;if(!f)return i.reject(),i.promise;if(!angular.isFunction(u.roleValidations[f]))throw new Error("undefined role or invalid role validation");return e=u.roleValidations[f](t,f),e=u._promiseify(e),e.then(function(){i.resolve()},function(){u._findMatchingRole(o,t).then(function(){i.resolve()},function(){i.reject()})}),i.promise},defineRole:function(t,i){return n(t,i),u.roleValidations[t]=i,u},defineManyRoles:function(n,t){var r,f;for(i(n,t),r=u,f=0;f<n.length;f++)r=r.defineRole(n[f],t);return r},resolveIfMatch:function(n,t){var f=angular.copy(n),i=r.defer();return u._findMatchingRole(f,t).then(function(){i.resolve()},function(){i.reject()}),i.promise},rejectIfMatch:function(n,t){var i=r.defer();return u._findMatchingRole(n,t).then(function(){i.reject()},function(){i.resolve()}),i.promise},roleValidations:t,authorize:function(n,t){return u._validateRoleMap(n),n.only?u.resolveIfMatch(n.only,t):u.rejectIfMatch(n.except,t)}};return u}]})}();timerModule=angular.module("timer",[]).directive("timer",["$compile",function(n){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",language:"@?",fallback:"@?",maxTimeUnit:"=",seconds:"=?",minutes:"=?",hours:"=?",days:"=?",months:"=?",years:"=?",secondsS:"=?",minutesS:"=?",hoursS:"=?",daysS:"=?",monthsS:"=?",yearsS:"=?"},controller:["$scope","$element","$attrs","$timeout","I18nService","$interpolate","progressBarService",function(t,i,r,u,f,e,o){function s(){t.timeoutId&&clearTimeout(t.timeoutId)}function h(){var n={};void 0!==r.startTime&&(t.millis=moment().diff(moment(t.startTimeAttr)));n=c.getTimeUnits(t.millis);t.maxTimeUnit&&"day"!==t.maxTimeUnit?"second"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3),t.minutes=0,t.hours=0,t.days=0,t.months=0,t.years=0):"minute"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4),t.hours=0,t.days=0,t.months=0,t.years=0):"hour"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5),t.days=0,t.months=0,t.years=0):"month"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/864e5%30),t.months=Math.floor(t.millis/2592e6),t.years=0):"year"===t.maxTimeUnit&&(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/864e5%30),t.months=Math.floor(t.millis/2592e6%12),t.years=Math.floor(t.millis/31536e6)):(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/864e5),t.months=0,t.years=0);t.secondsS=1===t.seconds?"":"s";t.minutesS=1===t.minutes?"":"s";t.hoursS=1===t.hours?"":"s";t.daysS=1===t.days?"":"s";t.monthsS=1===t.months?"":"s";t.yearsS=1===t.years?"":"s";t.secondUnit=n.seconds;t.minuteUnit=n.minutes;t.hourUnit=n.hours;t.dayUnit=n.days;t.monthUnit=n.months;t.yearUnit=n.years;t.sseconds=t.seconds<10?"0"+t.seconds:t.seconds;t.mminutes=t.minutes<10?"0"+t.minutes:t.minutes;t.hhours=t.hours<10?"0"+t.hours:t.hours;t.ddays=t.days<10?"0"+t.days:t.days;t.mmonths=t.months<10?"0"+t.months:t.months;t.yyears=t.years<10?"0"+t.years:t.years}var c,l;"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});t.autoStart=r.autoStart||r.autostart;t.language=t.language||"en";t.fallback=t.fallback||"en";t.$watch("language",function(n){void 0!==n&&c.init(n,t.fallback)});c=new f;c.init(t.language,t.fallback);t.displayProgressBar=0;t.displayProgressActive="active";0===i.html().trim().length?i.append(n("<span>"+e.startSymbol()+"millis"+e.endSymbol()+"<\/span>")(t)):i.append(n(i.contents())(t));t.startTime=null;t.endTime=null;t.timeoutId=null;t.countdown=angular.isNumber(t.countdownattr)&&parseInt(t.countdownattr,10)>=0?parseInt(t.countdownattr,10):void 0;t.isRunning=!1;t.$on("timer-start",function(){t.start()});t.$on("timer-resume",function(){t.resume()});t.$on("timer-stop",function(){t.stop()});t.$on("timer-clear",function(){t.clear()});t.$on("timer-reset",function(){t.reset()});t.$on("timer-set-countdown",function(n,i){t.countdown=i});t.$watch("startTimeAttr",function(n,i){n!==i&&t.isRunning&&t.start()});t.$watch("endTimeAttr",function(n,i){n!==i&&t.isRunning&&t.start()});t.start=i[0].start=function(){t.startTime=t.startTimeAttr?moment(t.startTimeAttr):moment();t.endTime=t.endTimeAttr?moment(t.endTimeAttr):null;angular.isNumber(t.countdown)||(t.countdown=angular.isNumber(t.countdownattr)&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0);s();l();t.isRunning=!0};t.resume=i[0].resume=function(){s();t.countdownattr&&(t.countdown+=1);t.startTime=moment().diff(moment(t.stoppedTime).diff(moment(t.startTime)));l();t.isRunning=!0};t.stop=t.pause=i[0].stop=i[0].pause=function(){var n=t.timeoutId;t.clear();t.$emit("timer-stopped",{timeoutId:n,millis:t.millis,seconds:t.seconds,minutes:t.minutes,hours:t.hours,days:t.days})};t.clear=i[0].clear=function(){t.stoppedTime=moment();s();t.timeoutId=null;t.isRunning=!1};t.reset=i[0].reset=function(){t.startTime=t.startTimeAttr?moment(t.startTimeAttr):moment();t.endTime=t.endTimeAttr?moment(t.endTimeAttr):null;t.countdown=angular.isNumber(t.countdownattr)&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0;s();l();t.isRunning=!1;t.clear()};i.bind("$destroy",function(){s();t.isRunning=!1});t.countdownattr?(t.millis=1e3*t.countdownattr,t.addCDSeconds=i[0].addCDSeconds=function(n){t.countdown+=n;t.$digest();t.isRunning||t.start()},t.$on("timer-add-cd-seconds",function(n,i){u(function(){t.addCDSeconds(i)})}),t.$on("timer-set-countdown-seconds",function(n,i){t.isRunning||t.clear();t.countdown=i;t.millis=1e3*i;h()})):t.millis=0;h();l=function a(){var n=null,r;return t.millis=moment().diff(t.startTime),r=t.millis%1e3,t.endTimeAttr&&(n=t.endTimeAttr,t.millis=moment(t.endTime).diff(moment()),r=t.interval-t.millis%1e3),t.countdownattr&&(n=t.countdownattr,t.millis=1e3*t.countdown),t.millis<0?(t.stop(),t.millis=0,h(),void(t.finishCallback&&t.$eval(t.finishCallback))):(h(),t.timeoutId=setTimeout(function(){a();t.$digest()},t.interval-r),t.$emit("timer-tick",{timeoutId:t.timeoutId,millis:t.millis,timerElement:i[0]}),t.countdown>0?t.countdown--:t.countdown<=0&&(t.stop(),t.finishCallback&&t.$eval(t.finishCallback)),void(null!==n&&(t.progressBar=o.calculateProgressBar(t.startTime,t.millis,t.endTime,t.countdownattr),100===t.progressBar&&(t.displayProgressActive=""))))};(void 0===t.autoStart||t.autoStart===!0)&&t.start()}]}}]);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=timerModule);app=angular.module("timer");app.factory("I18nService",function(){var n=function(){};return n.prototype.language="en",n.prototype.fallback="en",n.prototype.timeHumanizer={},n.prototype.init=function(n,t){var i=humanizeDuration.getSupportedLanguages();this.fallback=void 0!==t?t:"en";-1===i.indexOf(t)&&(this.fallback="en");this.language=n;-1===i.indexOf(n)&&(this.language=this.fallback);moment.locale(this.language);this.timeHumanizer=humanizeDuration.humanizer({language:this.language,halfUnit:!1})},n.prototype.getTimeUnits=function(n){var t=1e3*Math.round(n/1e3),i={};return"undefined"!=typeof this.timeHumanizer?i={millis:this.timeHumanizer(t,{units:["milliseconds"]}),seconds:this.timeHumanizer(t,{units:["seconds"]}),minutes:this.timeHumanizer(t,{units:["minutes","seconds"]}),hours:this.timeHumanizer(t,{units:["hours","minutes","seconds"]}),days:this.timeHumanizer(t,{units:["days","hours","minutes","seconds"]}),months:this.timeHumanizer(t,{units:["months","days","hours","minutes","seconds"]}),years:this.timeHumanizer(t,{units:["years","months","days","hours","minutes","seconds"]})}:console.error('i18nService has not been initialized. You must call i18nService.init("en") for example'),i},n});app=angular.module("timer");app.factory("progressBarService",function(){var n=function(){};return n.prototype.calculateProgressBar=function(n,t,i,r){var f,e,u=0;return t/=1e3,null!==i?(f=moment(i),e=f.diff(n,"seconds"),u=100*t/e):u=100*t/r,u=100-u,u=Math.round(10*u)/10,u>100&&(u=100),u},new n}),function(){function f(n){var t=function(n,i){var r=s({},t,i||{});return h(n,r)};return s(t,{language:"en",delimiter:", ",spacer:" ",units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},n)}function r(){return e.apply(e,arguments)}function h(n,t){var r,f,h,s,i,e,c;if(n=Math.abs(n),r=t.languages[t.language]||u[t.language],!r)throw new Error("No language "+r+".");for(f=[],e=0,c=t.units.length;e<c;e++){if(h=t.units[e],s=t.unitMeasures[h],e+1===c?(i=n/s,t.round&&(i=Math.round(i))):i=Math.floor(n/s),i&&f.push(o(i,h,r,t)),t.largest&&t.largest<=f.length)break;n-=i*s}return f.length?f.join(t.delimiter):o(0,t.units[t.units.length-1],r,t)}function o(n,t,i,r){var f,e,u,o;return f=r.decimal===void 0?i.decimal:r.decimal,e=n.toString().replace(".",f),u=i[t],o=typeof u=="function"?u(n):u,e+r.spacer+o}function s(n){for(var t,r,i=1;i<arguments.length;i++){t=arguments[i];for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r])}return n}function t(n){return n===1?0:Math.floor(n)!==n?1:n%10>=2&&n%10<=4&&n%100<10?2:3}function i(n){return n===1?0:Math.floor(n)!==n?1:n%10>=2&&n%10<=4&&!(n%100>10&&n%100<20)?2:3}function n(n){return Math.floor(n)!==n?2:n>=5&&n<=20||n%10>=5&&n%10<=9||n%10==0?0:n%10==1?1:n>1?2:0}function c(){var t=[],n;for(n in u)u.hasOwnProperty(n)&&t.push(n);return t}var u={ar:{y:function(n){return n===1?"":""},mo:function(n){return n===1?"":""},w:function(n){return n===1?"":""},d:function(n){return n===1?"":""},h:function(n){return n===1?"":""},m:function(n){return n===1?"":""},s:function(n){return n===1?"":""},ms:function(n){return n===1?"  ":"  "},decimal:","},ca:{y:function(n){return"any"+(n!==1?"s":"")},mo:function(n){return"mes"+(n!==1?"os":"")},w:function(n){return"setman"+(n!==1?"es":"a")},d:function(n){return"di"+(n!==1?"es":"a")},h:function(n){return"hor"+(n!==1?"es":"a")},m:function(n){return"minut"+(n!==1?"s":"")},s:function(n){return"segon"+(n!==1?"s":"")},ms:function(n){return"milisegon"+(n!==1?"s":"")},decimal:","},cs:{y:function(n){return["rok","roku","roky","let"][t(n)]},mo:function(n){return["msc","msce","msce","msc"][t(n)]},w:function(n){return["tden","tdne","tdny","tdn"][t(n)]},d:function(n){return["den","dne","dny","dn"][t(n)]},h:function(n){return["hodina","hodiny","hodiny","hodin"][t(n)]},m:function(n){return["minuta","minuty","minuty","minut"][t(n)]},s:function(n){return["sekunda","sekundy","sekundy","sekund"][t(n)]},ms:function(n){return["milisekunda","milisekundy","milisekundy","milisekund"][t(n)]},decimal:","},da:{y:"r",mo:function(n){return"mned"+(n!==1?"er":"")},w:function(n){return"uge"+(n!==1?"r":"")},d:function(n){return"dag"+(n!==1?"e":"")},h:function(n){return"time"+(n!==1?"r":"")},m:function(n){return"minut"+(n!==1?"ter":"")},s:function(n){return"sekund"+(n!==1?"er":"")},ms:function(n){return"millisekund"+(n!==1?"er":"")},decimal:","},de:{y:function(n){return"Jahr"+(n!==1?"e":"")},mo:function(n){return"Monat"+(n!==1?"e":"")},w:function(n){return"Woche"+(n!==1?"n":"")},d:function(n){return"Tag"+(n!==1?"e":"")},h:function(n){return"Stunde"+(n!==1?"n":"")},m:function(n){return"Minute"+(n!==1?"n":"")},s:function(n){return"Sekunde"+(n!==1?"n":"")},ms:function(n){return"Millisekunde"+(n!==1?"n":"")},decimal:","},en:{y:function(n){return"year"+(n!==1?"s":"")},mo:function(n){return"month"+(n!==1?"s":"")},w:function(n){return"week"+(n!==1?"s":"")},d:function(n){return"day"+(n!==1?"s":"")},h:function(n){return"hour"+(n!==1?"s":"")},m:function(n){return"minute"+(n!==1?"s":"")},s:function(n){return"second"+(n!==1?"s":"")},ms:function(n){return"millisecond"+(n!==1?"s":"")},decimal:"."},es:{y:function(n){return"ao"+(n!==1?"s":"")},mo:function(n){return"mes"+(n!==1?"es":"")},w:function(n){return"semana"+(n!==1?"s":"")},d:function(n){return"da"+(n!==1?"s":"")},h:function(n){return"hora"+(n!==1?"s":"")},m:function(n){return"minuto"+(n!==1?"s":"")},s:function(n){return"segundo"+(n!==1?"s":"")},ms:function(n){return"milisegundo"+(n!==1?"s":"")},decimal:","},fi:{y:function(n){return n===1?"vuosi":"vuotta"},mo:function(n){return n===1?"kuukausi":"kuukautta"},w:function(n){return"viikko"+(n!==1?"a":"")},d:function(n){return"piv"+(n!==1?"":"")},h:function(n){return"tunti"+(n!==1?"a":"")},m:function(n){return"minuutti"+(n!==1?"a":"")},s:function(n){return"sekunti"+(n!==1?"a":"")},ms:function(n){return"millisekunti"+(n!==1?"a":"")},decimal:","},fr:{y:function(n){return"an"+(n!==1?"s":"")},mo:"mois",w:function(n){return"semaine"+(n!==1?"s":"")},d:function(n){return"jour"+(n!==1?"s":"")},h:function(n){return"heure"+(n!==1?"s":"")},m:function(n){return"minute"+(n!==1?"s":"")},s:function(n){return"seconde"+(n!==1?"s":"")},ms:function(n){return"milliseconde"+(n!==1?"s":"")},decimal:","},gr:{y:function(n){return n===1?"":""},mo:function(n){return n===1?"":""},w:function(n){return n===1?"":""},d:function(n){return n===1?"":""},h:function(n){return n===1?"":""},m:function(n){return n===1?"":""},s:function(n){return n===1?"":""},ms:function(n){return n===1?"  ":"  "},decimal:","},hu:{y:"v",mo:"hnap",w:"ht",d:"nap",h:"ra",m:"perc",s:"msodperc",ms:"ezredmsodperc",decimal:","},it:{y:function(n){return"ann"+(n!==1?"i":"o")},mo:function(n){return"mes"+(n!==1?"i":"e")},w:function(n){return"settiman"+(n!==1?"e":"a")},d:function(n){return"giorn"+(n!==1?"i":"o")},h:function(n){return"or"+(n!==1?"e":"a")},m:function(n){return"minut"+(n!==1?"i":"o")},s:function(n){return"second"+(n!==1?"i":"o")},ms:function(n){return"millisecond"+(n!==1?"i":"o")},decimal:","},ja:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:"",decimal:"."},ko:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:" ",decimal:"."},nl:{y:"jaar",mo:function(n){return n===1?"maand":"maanden"},w:function(n){return n===1?"week":"weken"},d:function(n){return n===1?"dag":"dagen"},h:"uur",m:function(n){return n===1?"minuut":"minuten"},s:function(n){return n===1?"seconde":"seconden"},ms:function(n){return n===1?"milliseconde":"milliseconden"},decimal:","},no:{y:"r",mo:function(n){return"mned"+(n!==1?"er":"")},w:function(n){return"uke"+(n!==1?"r":"")},d:function(n){return"dag"+(n!==1?"er":"")},h:function(n){return"time"+(n!==1?"r":"")},m:function(n){return"minutt"+(n!==1?"er":"")},s:function(n){return"sekund"+(n!==1?"er":"")},ms:function(n){return"millisekund"+(n!==1?"er":"")},decimal:","},pl:{y:function(n){return["rok","roku","lata","lat"][i(n)]},mo:function(n){return["miesic","miesica","miesice","miesicy"][i(n)]},w:function(n){return["tydzie","tygodnia","tygodnie","tygodni"][i(n)]},d:function(n){return["dzie","dnia","dni","dni"][i(n)]},h:function(n){return["godzina","godziny","godziny","godzin"][i(n)]},m:function(n){return["minuta","minuty","minuty","minut"][i(n)]},s:function(n){return["sekunda","sekundy","sekundy","sekund"][i(n)]},ms:function(n){return["milisekunda","milisekundy","milisekundy","milisekund"][i(n)]},decimal:","},pt:{y:function(n){return"ano"+(n!==1?"s":"")},mo:function(n){return n!==1?"meses":"ms"},w:function(n){return"semana"+(n!==1?"s":"")},d:function(n){return"dia"+(n!==1?"s":"")},h:function(n){return"hora"+(n!==1?"s":"")},m:function(n){return"minuto"+(n!==1?"s":"")},s:function(n){return"segundo"+(n!==1?"s":"")},ms:function(n){return"milissegundo"+(n!==1?"s":"")},decimal:","},ru:{y:function(t){return["","",""][n(t)]},mo:function(t){return["","",""][n(t)]},w:function(t){return["","",""][n(t)]},d:function(t){return["","",""][n(t)]},h:function(t){return["","",""][n(t)]},m:function(t){return["","",""][n(t)]},s:function(t){return["","",""][n(t)]},ms:function(t){return["","",""][n(t)]},decimal:","},uk:{y:function(t){return["","",""][n(t)]},mo:function(t){return["","",""][n(t)]},w:function(t){return["","",""][n(t)]},d:function(t){return["","",""][n(t)]},h:function(t){return["","",""][n(t)]},m:function(t){return["","",""][n(t)]},s:function(t){return["","",""][n(t)]},ms:function(t){return["","",""][n(t)]},decimal:","},sv:{y:"r",mo:function(n){return"mnad"+(n!==1?"er":"")},w:function(n){return"veck"+(n!==1?"or":"a")},d:function(n){return"dag"+(n!==1?"ar":"")},h:function(n){return"timm"+(n!==1?"ar":"e")},m:function(n){return"minut"+(n!==1?"er":"")},s:function(n){return"sekund"+(n!==1?"er":"")},ms:function(n){return"millisekund"+(n!==1?"er":"")},decimal:","},tr:{y:"yl",mo:"ay",w:"hafta",d:"gn",h:"saat",m:"dakika",s:"saniye",ms:"milisaniye",decimal:","},zh_CN:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:"",decimal:"."},zh_TW:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:"",decimal:"."}},e=f({});r.humanizer=f;r.getSupportedLanguages=c;typeof define=="function"&&define.amd?define(function(){return r}):typeof module!="undefined"&&module.exports?module.exports=r:this.humanizeDuration=r}(),function(n){function it(n,t,i){switch(arguments.length){case 2:return n!=null?n:t;case 3:return n!=null?n:t!=null?t:i;default:throw new Error("Implement me");}}function g(n,t){return dr.call(n,t)}function vt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function pi(n){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function o(n,t){var i=!0;return nt(function(){return i&&(pi(n),i=!1),t.apply(this,arguments)},t)}function bu(n,t){vi[n]||(pi(t),vi[n]=!0)}function wi(n,t){return function(i){return r(n.call(this,i),t)}}function ku(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function du(n,t){var r=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(r,"months"),u,f;return t-i<0?(u=n.clone().add(r-1,"months"),f=(t-i)/(i-u)):(u=n.clone().add(r+1,"months"),f=(t-i)/(u-i)),-(r+f)}function gu(n,t,i){var r;return i==null?t:n.meridiemHour!=null?n.meridiemHour(t,i):n.isPM!=null?(r=n.isPM(i),r&&t<12&&(t+=12),r||t!==12||(t=0),t):t}function bi(){}function et(n,i){i!==!1&&er(n);ki(this,n);this._d=new Date(+n._d);at===!1&&(at=!0,t.updateOffset(this),at=!1)}function yt(n){var i=ir(n),r=i.year||0,u=i.quarter||0,f=i.month||0,e=i.week||0,o=i.day||0,s=i.hour||0,h=i.minute||0,c=i.second||0,l=i.millisecond||0;this._milliseconds=+l+c*1e3+h*6e4+s*36e5;this._days=+o+e*7;this._months=+f+u*3+r*12;this._data={};this._locale=t.localeData();this._bubble()}function nt(n,t){for(var i in t)g(t,i)&&(n[i]=t[i]);return g(t,"toString")&&(n.toString=t.toString),g(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ki(n,t){var u,i,r;if(typeof t._isAMomentObject!="undefined"&&(n._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(n._i=t._i),typeof t._f!="undefined"&&(n._f=t._f),typeof t._l!="undefined"&&(n._l=t._l),typeof t._strict!="undefined"&&(n._strict=t._strict),typeof t._tzm!="undefined"&&(n._tzm=t._tzm),typeof t._isUTC!="undefined"&&(n._isUTC=t._isUTC),typeof t._offset!="undefined"&&(n._offset=t._offset),typeof t._pf!="undefined"&&(n._pf=t._pf),typeof t._locale!="undefined"&&(n._locale=t._locale),ut.length>0)for(u in ut)i=ut[u],r=t[i],typeof r!="undefined"&&(n[i]=r);return n}function h(n){return n<0?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function di(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function nf(n,t){var i;return t=bt(t,n),n.isBefore(t)?i=di(n,t):(i=di(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function gi(n,i){return function(r,u){var f,e;return u===null||isNaN(+u)||(bu(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),e=r,r=u,u=e),r=typeof r=="string"?+r:r,f=t.duration(r,u),nr(this,f,n),this}}function nr(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months;u=u==null?!0:u;o&&n._d.setTime(+n._d+o*r);f&&pr(n,"Date",ii(n,"Date")+f*r);e&&yr(n,ii(n,"Month")+e*r);u&&t.updateOffset(n,f||e)}function ot(n){return Object.prototype.toString.call(n)==="[object Array]"}function pt(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function tr(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;u<e;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function e(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=pu[n]||wu[t]||t}return n}function ir(n){var r={},i,t;for(t in n)g(n,t)&&(i=e(t),i&&(r[i]=n[t]));return r}function tf(i){var r,u;if(i.indexOf("week")===0)r=7,u="day";else if(i.indexOf("month")===0)r=12,u="month";else return;t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if(typeof f=="number"&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t._locale,i,f||"")},e!=null)return s(e);for(o=0;o<r;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return t!==0&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function wt(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function rr(n,i,r){return tt(t([n,11,31+i-r]),i,r).week}function ur(n){return fr(n)?366:365}function fr(n){return n%4==0&&n%100!=0||n%400==0}function er(n){var t;n._a&&n._pf.overflow===-2&&(t=n._a[l]<0||n._a[l]>11?l:n._a[s]<1||n._a[s]>wt(n._a[c],n._a[l])?s:n._a[f]<0||n._a[f]>24||n._a[f]===24&&(n._a[w]!==0||n._a[b]!==0||n._a[k]!==0)?f:n._a[w]<0||n._a[w]>59?w:n._a[b]<0||n._a[b]>59?b:n._a[k]<0||n._a[k]>999?k:-1,n._pf._overflowDayOfYear&&(t<c||t>s)&&(t=s),n._pf.overflow=t)}function or(t){return t._isValid==null&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&t._pf.charsLeftOver===0&&t._pf.unusedTokens.length===0&&t._pf.bigHour===n)),t._isValid}function sr(n){return n?n.toLowerCase().replace("_","-"):n}function rf(n){for(var r=0,i,t,f,u;r<n.length;){for(u=sr(n[r]).split("-"),i=u.length,t=sr(n[r+1]),t=t?t.split("-"):null;i>0;){if(f=hr(u.slice(0,i).join("-")),f)return f;if(t&&t.length>=i&&tr(u,t,!0)>=i-1)break;i--}r++}return null}function hr(n){var i=null;if(!d[n]&&ui)try{i=t.locale();require("./locale/"+n);t.locale(i)}catch(r){}return d[n]}function bt(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(t.isMoment(n)||pt(n)?+n:+t(n))-+r,r._d.setTime(+r._d+u),t.updateOffset(r,!1),r):t(n).local()}function uf(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ff(n){for(var i=n.match(fi),t=0,r=i.length;t<r;t++)i[t]=a[i[t]]?a[i[t]]:uf(i[t]);return function(u){var f="";for(t=0;t<r;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function kt(n,t){return n.isValid()?(t=cr(t,n.localeData()),lt[t]||(lt[t]=ff(t)),lt[t](n)):n.localeData().invalidDate()}function cr(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ft.lastIndex=0;i>=0&&ft.test(n);)n=n.replace(ft,r),ft.lastIndex=0,i-=1;return n}function ef(n,t){var i=t._strict;switch(n){case"Q":return oi;case"DDDD":return hi;case"YYYY":case"GGGG":case"gggg":return i?cu:ru;case"Y":case"G":case"g":return au;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?lu:uu;case"S":if(i)return oi;case"SS":if(i)return si;case"SSS":if(i)return hi;case"DDD":return iu;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return eu;case"a":case"A":return t._locale._meridiemParse;case"x":return su;case"X":return hu;case"Z":case"ZZ":return st;case"T":return ou;case"SSSS":return fu;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?si:ei;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ei;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(af(lf(n.replace("\\","")),"i"))}}function dt(n){n=n||"";var r=n.match(st)||[],f=r[r.length-1]||[],t=(f+"").match(yu)||["-",0,0],u=+(t[1]*60)+i(t[2]);return t[0]==="+"?u:-u}function of(n,r,u){var o,e=u._a;switch(n){case"Q":r!=null&&(e[l]=(i(r)-1)*3);break;case"M":case"MM":r!=null&&(e[l]=i(r)-1);break;case"MMM":case"MMMM":o=u._locale.monthsParse(r,n,u._strict);o!=null?e[l]=o:u._pf.invalidMonth=r;break;case"D":case"DD":r!=null&&(e[s]=i(r));break;case"Do":r!=null&&(e[s]=i(parseInt(r.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":r!=null&&(u._dayOfYear=i(r));break;case"YY":e[c]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":e[c]=i(r);break;case"a":case"A":u._meridiem=r;break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":e[f]=i(r);break;case"m":case"mm":e[w]=i(r);break;case"s":case"ss":e[b]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":e[k]=i(("0."+r)*1e3);break;case"x":u._d=new Date(i(r));break;case"X":u._d=new Date(parseFloat(r)*1e3);break;case"Z":case"ZZ":u._useUTC=!0;u._tzm=dt(r);break;case"dd":case"ddd":case"dddd":o=u._locale.weekdaysParse(r);o!=null?(u._w=u._w||{},u._w.d=o):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2);r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{};u._w[n]=t.parseTwoDigitYear(r)}}function sf(n){var i,o,f,u,r,e,s;i=n._w;i.GG!=null||i.W!=null||i.E!=null?(r=1,e=4,o=it(i.GG,n._a[c],tt(t(),1,4).year),f=it(i.W,1),u=it(i.E,1)):(r=n._locale._week.dow,e=n._locale._week.doy,o=it(i.gg,n._a[c],tt(t(),r,e).year),f=it(i.w,1),i.d!=null?(u=i.d,u<r&&++f):u=i.e!=null?i.e+r:r);s=ne(o,f,u,e,r);n._a[c]=s.year;n._dayOfYear=s.dayOfYear}function gt(n){var t,i,r=[],u,e;if(!n._d){for(u=cf(n),n._w&&n._a[s]==null&&n._a[l]==null&&sf(n),n._dayOfYear&&(e=it(n._a[c],u[c]),n._dayOfYear>ur(e)&&(n._pf._overflowDayOfYear=!0),i=ti(e,0,n._dayOfYear),n._a[l]=i.getUTCMonth(),n._a[s]=i.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=r[t]=u[t];for(;t<7;t++)n._a[t]=r[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[f]===24&&n._a[w]===0&&n._a[b]===0&&n._a[k]===0&&(n._nextDay=!0,n._a[f]=0);n._d=(n._useUTC?ti:bf).apply(null,r);n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[f]=24)}}function hf(n){var t;n._d||(t=ir(n._i),n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],gt(n))}function cf(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ni(i){if(i._f===t.ISO_8601){lr(i);return}i._a=[];i._pf.empty=!0;for(var r=""+i._i,u,e,h,l=r.length,c=0,s=cr(i._f,i._locale).match(fi)||[],o=0;o<s.length;o++)e=s[o],u=(r.match(ef(e,i))||[])[0],u&&(h=r.substr(0,r.indexOf(u)),h.length>0&&i._pf.unusedInput.push(h),r=r.slice(r.indexOf(u)+u.length),c+=u.length),a[e]?(u?i._pf.empty=!1:i._pf.unusedTokens.push(e),of(e,u,i)):i._strict&&!u&&i._pf.unusedTokens.push(e);i._pf.charsLeftOver=l-c;r.length>0&&i._pf.unusedInput.push(r);i._pf.bigHour===!0&&i._a[f]<=12&&(i._pf.bigHour=n);i._a[f]=gu(i._locale,i._a[f],i._meridiem);gt(i);er(i)}function lf(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function af(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function vf(n){var t,f,u,r,i;if(n._f.length===0){n._pf.invalidFormat=!0;n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)(i=0,t=ki({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._pf=vt(),t._f=n._f[r],ni(t),or(t))&&(i+=t._pf.charsLeftOver,i+=t._pf.unusedTokens.length*10,t._pf.score=i,(u==null||i<u)&&(u=i,f=t));nt(n,f||t)}function lr(n){var t,i,r=n._i,u=vu.exec(r);if(u){for(n._pf.iso=!0,t=0,i=ht.length;t<i;t++)if(ht[t][1].exec(r)){n._f=ht[t][0]+(u[6]||" ");break}for(t=0,i=ct.length;t<i;t++)if(ct[t][1].exec(r)){n._f+=ct[t][0];break}r.match(st)&&(n._f+="Z");ni(n)}else n._isValid=!1}function yf(n){lr(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function pf(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function wf(i){var r=i._i,u;r===n?i._d=new Date:pt(r)?i._d=new Date(+r):(u=gr.exec(r))!==null?i._d=new Date(+u[1]):typeof r=="string"?yf(i):ot(r)?(i._a=pf(r.slice(0),function(n){return parseInt(n,10)}),gt(i)):typeof r=="object"?hf(i):typeof r=="number"?i._d=new Date(r):t.createFromInputFallback(i)}function bf(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<1970&&o.setFullYear(n),o}function ti(n){var t=new Date(Date.UTC.apply(null,arguments));return n<1970&&t.setUTCFullYear(n),t}function kf(n,t){if(typeof n=="string")if(isNaN(n)){if(n=t.weekdaysParse(n),typeof n!="number")return null}else n=parseInt(n,10);return n}function df(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function gf(n,i,r){var u=t.duration(n).abs(),c=p(u.as("s")),e=p(u.as("m")),o=p(u.as("h")),s=p(u.as("d")),h=p(u.as("M")),l=p(u.as("y")),f=c<y.s&&["s",c]||e===1&&["m"]||e<y.m&&["mm",e]||o===1&&["h"]||o<y.h&&["hh",o]||s===1&&["d"]||s<y.d&&["dd",s]||h===1&&["M"]||h<y.M&&["MM",h]||l===1&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,df.apply({},f)}function tt(n,i,r){var e=r-i,u=r-n.day(),f;return u>e&&(u-=7),u<e-7&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function ne(n,t,i,r,u){var f=ti(n,0,1).getUTCDay(),o,e;return f=f===0?7:f,i=i!=null?i:u,o=u-f+(f>r?7:0)-(f<u?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:ur(n-1)+e}}function ar(i){var r=i._i,f=i._f,u;return(i._locale=i._locale||t.localeData(i._l),r===null||f===n&&r==="")?t.invalid({nullInput:!0}):(typeof r=="string"&&(i._i=r=i._locale.preparse(r)),t.isMoment(r))?new et(r,!0):(f?ot(f)?vf(i):ni(i):wf(i),u=new et(i),u._nextDay&&(u.add(1,"d"),u._nextDay=n),u)}function vr(n,i){var u,r;if(i.length===1&&ot(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function yr(n,t){var i;return typeof t=="string"&&(t=n.localeData().monthsParse(t),typeof t!="number")?n:(i=Math.min(n.date(),wt(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function ii(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function pr(n,t,i){return t==="Month"?yr(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function v(n,i){return function(r){return r!=null?(pr(this,n,r),t.updateOffset(this,i),this):ii(this,n)}}function wr(n){return n*400/146097}function br(n){return n*146097/400}function te(n){t.duration.fn[n]=function(){return this._data[n]}}function kr(n){typeof ender=="undefined"&&(ri=rt.moment,rt.moment=n?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,rt=typeof global!="undefined"&&(typeof window=="undefined"||window===global.window)?global:this,ri,p=Math.round,dr=Object.prototype.hasOwnProperty,u,c=0,l=1,s=2,f=3,w=4,b=5,k=6,d={},ut=[],ui=typeof module!="undefined"&&module&&module.exports,gr=/^\/?Date\((\-?\d+)/i,nu=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,tu=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,fi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ft=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ei=/\d\d?/,iu=/\d{1,3}/,ru=/\d{1,4}/,uu=/[+\-]?\d{1,6}/,fu=/\d+/,eu=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,st=/Z|[\+\-]\d\d:?\d\d/gi,ou=/T/i,su=/[\+\-]?\d+/,hu=/[\+\-]?\d+(\.\d{1,3})?/,oi=/\d/,si=/\d\d/,hi=/\d{3}/,cu=/\d{4}/,lu=/[+-]?\d{6}/,au=/[+-]?\d+/,vu=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ct=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yu=/([\+\-]|\d\d)/gi,ie="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ci={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},pu={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},wu={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lt={},y={s:45,m:45,h:22,d:26,M:11},li="DDD w W M D d".split(" "),ai="M D H h m s w W".split(" "),a={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vi={},yi=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],at=!1;li.length;)u=li.pop(),a[u+"o"]=ku(a[u],u);while(ai.length)u=ai.pop(),a[u+u]=wi(a[u],2);for(a.DDDD=wi(a.DDD,3),nt(bi.prototype,{set:function(n){var t,i;for(i in n)t=n[i],typeof t=="function"?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n,i,r){var u,f,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++)if((f=t.utc([2e3,u]),r&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),r||this._monthsParse[u]||(e="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[u]=new RegExp(e.replace(".",""),"i")),r&&i==="MMMM"&&this._longMonthsParse[u].test(n))||r&&i==="MMM"&&this._shortMonthsParse[u].test(n)||!r&&this._monthsParse[u].test(n))return u},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;i<7;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return(n+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t,i){var r=this._calendar[n];return typeof r=="function"?r.apply(t,[i]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(n){return n},postformat:function(n){return n},week:function(n){return tt(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=vt(),ar(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.min=function(){var n=[].slice.call(arguments,0);return vr("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return vr("isAfter",n)},t.utc=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=vt(),ar(f).utc()},t.unix=function(n){return t(n*1e3)},t.duration=function(n,r){var u=n,e=null,o,c,h,l;return t.isDuration(n)?u={ms:n._milliseconds,d:n._days,M:n._months}:typeof n=="number"?(u={},r?u[r]=n:u.milliseconds=n):(e=nu.exec(n))?(o=e[1]==="-"?-1:1,u={y:0,d:i(e[s])*o,h:i(e[f])*o,m:i(e[w])*o,s:i(e[b])*o,ms:i(e[k])*o}):(e=tu.exec(n))?(o=e[1]==="-"?-1:1,h=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*o},u={y:h(e[2]),M:h(e[3]),d:h(e[4]),h:h(e[5]),m:h(e[6]),s:h(e[7]),w:h(e[8])}):u==null?u={}:typeof u=="object"&&("from"in u||"to"in u)&&(l=nf(t(u.from),t(u.to)),u={},u.ms=l.milliseconds,u.M=l.months),c=new yt(u),t.isDuration(n)&&g(n,"_locale")&&(c._locale=n._locale),c},t.version="2.9.0",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=ut,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r=typeof i!="undefined"?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return i!==null?(i.abbr=n,d[n]||(d[n]=new bi),d[n].set(i),t.locale(n),d[n]):(delete d[n],null)},t.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ot(n)){if(i=hr(n),i)return i;n=[n]}return rf(n)},t.isMoment=function(n){return n instanceof et||n!=null&&g(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof yt},u=yi.length-1;u>=0;--u)tf(yi[u]);t.normalizeUnits=function(n){return e(n)};t.invalid=function(n){var i=t.utc(NaN);return n!=null?nt(i._pf,n):i._pf.userInvalidated=!0,i};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)};t.isDate=pt;nt(t.fn=et.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():kt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):kt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return or(this)},isDSTShifted:function(){return this._a?this.isValid()&&tr(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return nt({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.utcOffset(0,n)},local:function(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(n){var i=kt(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:gi(1,"add"),subtract:gi(-1,"subtract"),diff:function(n,t,i){var f=bt(n,this),o=(f.utcOffset()-this.utcOffset())*6e4,u,r;return t=e(t),t==="year"||t==="month"||t==="quarter"?(r=du(this,f),t==="quarter"?r=r/3:t==="year"&&(r=r/12)):(u=this-f,r=t==="second"?u/1e3:t==="minute"?u/6e4:t==="hour"?u/36e5:t==="day"?(u-o)/864e5:t==="week"?(u-o)/6048e5:u),i?r:h(r)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),u=bt(r,this).startOf("day"),i=this.diff(u,"days",!0),f=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(f,this,t(r)))},isLeapYear:function(){return fr(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=kf(n,this.localeData()),this.add(n-t,"d")):t},month:v("Month",!0),startOf:function(n){n=e(n);switch(n){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"?this.weekday(0):n==="isoWeek"&&this.isoWeekday(1),n==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(t){return(t=e(t),t===n||t==="millisecond")?this:this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")},isAfter:function(n,i){var r;return i=e(typeof i!="undefined"?i:"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this>+n):(r=t.isMoment(n)?+n:+t(n),r<+this.clone().startOf(i))},isBefore:function(n,i){var r;return i=e(typeof i!="undefined"?i:"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this<+n):(r=t.isMoment(n)?+n:+t(n),+this.clone().endOf(i)<r)},isBetween:function(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)},isSame:function(n,i){var r;return i=e(i||"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this==+n):(r=+t(n),+this.clone().startOf(i)<=r&&r<=+this.clone().endOf(i))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n<this?this:n}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}),utcOffset:function(n,i){var r=this._offset||0,u;return n!=null?(typeof n=="string"&&(n=dt(n)),Math.abs(n)<16&&(n=n*60),!this._isUTC&&i&&(u=this._dateUtcOffset()),this._offset=n,this._isUTC=!0,u!=null&&this.add(u,"m"),r!==n&&(!i||this._changeInProgress?nr(this,t.duration(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(dt(this._i)),this},hasAlignedHourOffset:function(n){return n=n?t(n).utcOffset():0,(this.utcOffset()-n)%60==0},daysInMonth:function(){return wt(this.year(),this.month())},dayOfYear:function(n){var i=p((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return n==null?i:this.add(n-i,"d")},quarter:function(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)},weekYear:function(n){var t=tt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return n==null?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=tt(this,1,4).year;return n==null?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")},isoWeek:function(n){var t=tt(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")},isoWeekday:function(n){return n==null?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return rr(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return rr(this.year(),n.dow,n.doy)},get:function(n){return n=e(n),this[n]()},set:function(n,t){var i;if(typeof n=="object")for(i in n)this.set(i,n[i]);else n=e(n),typeof this[n]=="function"&&this[n](t);return this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),r!=null&&(this._locale=r),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});t.fn.millisecond=t.fn.milliseconds=v("Milliseconds",!1);t.fn.second=t.fn.seconds=v("Seconds",!1);t.fn.minute=t.fn.minutes=v("Minutes",!1);t.fn.hour=t.fn.hours=v("Hours",!0);t.fn.date=v("Date",!0);t.fn.dates=o("dates accessor is deprecated. Use date instead.",v("Date",!0));t.fn.year=v("FullYear",!0);t.fn.years=o("years accessor is deprecated. Use year instead.",v("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;t.fn.isUTC=t.fn.isUtc;nt(t.duration.fn=yt.prototype,{_bubble:function(){var o=this._milliseconds,t=this._days,i=this._months,n=this._data,u,f,e,r=0;n.milliseconds=o%1e3;u=h(o/1e3);n.seconds=u%60;f=h(u/60);n.minutes=f%60;e=h(f/60);n.hours=e%24;t+=h(e/24);r=h(wr(t));t-=h(br(r));i+=h(t/30);t%=30;r+=h(i/12);i%=12;n.days=t;n.months=i;n.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+i(this._months/12)*31536e6},humanize:function(n){var t=gf(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=e(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=e(n),n==="month"||n==="year")return t=this._days+this._milliseconds/864e5,i=this._months+wr(t)*12,n==="month"?i:i/12;t=this._days+Math.round(br(this._months/12));switch(n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return t*24+this._milliseconds/36e5;case"minute":return t*1440+this._milliseconds/6e4;case"second":return t*86400+this._milliseconds/1e3;case"millisecond":return Math.floor(t*864e5)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});t.duration.fn.toString=t.duration.fn.toISOString;for(u in ci)g(ci,u)&&te(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,r=i(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+r}});ui?module.exports=t:typeof define=="function"&&define.amd?(define(function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(rt.moment=ri),t}),kr(!0)):kr()}.call(this);angular.module("bcherny/formatAsCurrency",[]).service("formatAsCurrencyUtilities",function(){this.occurrences=function(n,t){if(!angular.isString(n))throw new TypeError("formatAsCurrencyUtilities#occurences expects its 1st argument to be a String, but was given "+n);if(!angular.isArray(t))throw new TypeError("formatAsCurrencyUtilities#occurences expects its 2nd argument to be an Array, but was given "+t);return t.forEach(function(n,t){if(!angular.isString(n))throw new TypeError("formatAsCurrencyUtilities#occurences expects needles to be Strings, but needle #"+t+" is "+n);}),t.map(function(t){return _needle=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),(n.match(new RegExp("["+_needle+"]","g"))||[]).length}).reduce(function(n,t){return n+t})};this.toFloat=function(n){if(!angular.isString(n))throw new TypeError("formatAsCurrencyUtilities#toFloat expects its 1st argument to be a String, but was given "+n);return parseFloat(n.replace(/(\$|\,)+/g,""),10)}}).directive("formatAsCurrency",function(n,t,i){const u=t.NUMBER_FORMATS.CURRENCY_SYM;var r=i;return{require:"ngModel",restrict:"A",link:function(t,i,f,e){e.$formatters.push(function(t){return n("currency")(t)});e.$parsers.push(function(t){var f=r.toFloat(t).toFixed(2);if(e.$validators.currency(f)){var o=n("currency")(f),h=[",",u],c=[t,o].map(function(n){return r.occurrences(n,h)}).reduce(function(n,t){return t-n}),s=[i[0].selectionStart,i[0].selectionEnd].map(function(n){return n+c});e.$setViewValue(o);e.$render();i[0].setSelectionRange(s[0],s[1])}return f});e.$validators.currency=function(n){return!isNaN(n)}}}});!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]);angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]);angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(n){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,i,r,u,f,e){function c(){r.cancel(l);e.complete();s=0;o=0}function h(t){var u,e=i.get("$http"),f=n.defaults,r;return(t.cache||f.cache)&&t.cache!==!1&&("GET"===t.method||"JSONP"===t.method)&&(u=angular.isObject(t.cache)?t.cache:angular.isObject(f.cache)?f.cache:e),r=void 0!==u?void 0!==u.get(t.url):!1,void 0!==t.cached&&r!==t.cached?t.cached:(t.cached=r,r)}var l,o=0,s=0,a=e.latencyThreshold;return{request:function(n){return n.ignoreLoadingBar||h(n)||(u.$broadcast("cfpLoadingBar:loading",{url:n.url}),0===o&&(l=r(function(){e.start()},a)),o++,e.set(s/o)),n},response:function(n){return n&&n.config?(n.config.ignoreLoadingBar||h(n.config)||(s++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url,result:n}),s>=o?c():e.set(s/o)),n):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),n)},responseError:function(n){return n&&n.config?(n.config.ignoreLoadingBar||h(n.config)||(s++,u.$broadcast("cfpLoadingBar:loaded",{url:n.config.url,result:n}),s>=o?c():e.set(s/o)),t.reject(n)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(n))}}}];n.interceptors.push(t)}]);angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0;this.includeSpinner=!0;this.includeBar=!0;this.latencyThreshold=100;this.startSize=.02;this.parentSelector="body";this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"><\/div><\/div>';this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"><\/div><\/div><\/div>';this.$get=["$injector","$document","$timeout","$rootScope",function(n,t,i,r){function p(){u||(u=n.get("$animate"));var e=t.find(b).eq(0);i.cancel(s);o||(r.$broadcast("cfpLoadingBar:started"),o=!0,nt&&u.enter(h,e,angular.element(e[0].lastChild)),g&&u.enter(y,e,angular.element(e[0].lastChild)),f(tt))}function f(n){if(o){var t=100*n+"%";k.css("width",t);c=n;d&&(i.cancel(v),v=i(function(){l()},250))}}function l(){var t,n,i;e()>=1||(t=0,n=e(),t=n>=0&&.25>n?(3*Math.random()+3)/100:n>=.25&&.65>n?3*Math.random()/100:n>=.65&&.9>n?Math.random()/50:n>=.9&&.99>n?.005:0,i=e()+t,f(i))}function e(){return c}function a(){c=0;o=!1}function w(){u||(u=n.get("$animate"));r.$broadcast("cfpLoadingBar:completed");f(1);i.cancel(s);s=i(function(){var n=u.leave(h,a);n&&n.then&&n.then(a);u.leave(y)},500)}var u,v,s,b=this.parentSelector,h=angular.element(this.loadingBarTemplate),k=h.find("div").eq(0),y=angular.element(this.spinnerTemplate),o=!1,c=0,d=this.autoIncrement,g=this.includeSpinner,nt=this.includeBar,tt=this.startSize;return{start:p,set:f,status:e,inc:l,complete:w,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();!function(){"use strict";angular.module("base64",[]).constant("$base64",function(){function t(t,i){var r=n.indexOf(t.charAt(i));if(-1==r)throw"Cannot decode base64";return r}function u(n){var o,i,u,f,e;if(n=""+n,f=n.length,0==f)return n;if(0!=f%4)throw"Cannot decode base64";for(o=0,n.charAt(f-1)==r&&(o=1,n.charAt(f-2)==r&&(o=2),f-=4),e=[],i=0;f>i;i+=4)u=t(n,i)<<18|t(n,i+1)<<12|t(n,i+2)<<6|t(n,i+3),e.push(String.fromCharCode(u>>16,255&u>>8,255&u));switch(o){case 1:u=t(n,i)<<18|t(n,i+1)<<12|t(n,i+2)<<6;e.push(String.fromCharCode(u>>16,255&u>>8));break;case 2:u=t(n,i)<<18|t(n,i+1)<<12;e.push(String.fromCharCode(u>>16))}return e.join("")}function i(n,t){var i=n.charCodeAt(t);if(i>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return i}function f(t){var f,u,e,o;if(1!=arguments.length)throw"SyntaxError: Not enough arguments";if(e=[],t=""+t,o=t.length-t.length%3,0==t.length)return t;for(f=0;o>f;f+=3)u=i(t,f)<<16|i(t,f+1)<<8|i(t,f+2),e.push(n.charAt(u>>18)),e.push(n.charAt(63&u>>12)),e.push(n.charAt(63&u>>6)),e.push(n.charAt(63&u));switch(t.length-o){case 1:u=i(t,f)<<16;e.push(n.charAt(u>>18)+n.charAt(63&u>>12)+r+r);break;case 2:u=i(t,f)<<16|i(t,f+1)<<8;e.push(n.charAt(u>>18)+n.charAt(63&u>>12)+n.charAt(63&u>>6)+r)}return e.join("")}var r="=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:f,decode:u}}())}(),function(n){"use strict";n._arrayBufferToBase64=function(t){for(var r="",u=new Uint8Array(t),f=u.byteLength,i=0;i<f;i++)r+=String.fromCharCode(u[i]);return n.btoa(r)};var t=n.angular.module("naif.base64",[]);t.directive("baseSixtyFourInput",["$window","$q",function(n,t){for(var u={onChange:"&",onAfterValidate:"&",parser:"&"},i=["onabort","onerror","onloadstart","onloadend","onprogress","onload"],f,r=i.length-1;r>=0;r--)f=i[r],u[f]="&";return{restrict:"A",require:"ngModel",scope:u,link:function(r,u,f,e){function h(){for(var f=[],i=o.length-1;i>=0;i--)o[i].deferredObj=t.defer(),f.push(o[i].deferredObj.promise);for(t.all(f).then(p),i=o.length-1;i>=0;i--){var e=new n.FileReader,r=o[i],u={};u.filetype=r.type;u.filename=r.name;u.filesize=r.size;a(e,r,u);e.readAsArrayBuffer(r)}}function c(n){f.onChange&&r.onChange()(n,o)}function l(n){var u,i;if(f.onAfterValidate){for(u=[],i=o.length-1;i>=0;i--)u.push(o[i].deferredObj.promise);t.all(u).then(function(){r.onAfterValidate()(n,s,o)})}}function a(n,t,u){for(var e,o=i.length-1;o>=0;o--)e=i[o],f[e]&&e!=="onload"&&v(e,r[e],n,t,u);n.onload=y(n,t,u)}function v(n,t,i,r,u){i[n]=function(n){t()(n,i,r,o,s,u)}}function y(i,u,e){return function(h){var l=h.target.result,c;e.base64=n._arrayBufferToBase64(l);c=f.parser?t.when(r.parser()(u,e)):t.when(e);c.then(function(n){s.push(n);u.deferredObj.resolve()});f.onload&&r.onload()(h,i,u,o,s,e)}}function p(){var n=f.multiple?s:s[0];e.$setViewValue(n);k(n);d(n);w(n);b(n);g(n)}function w(n){if(f.maxnum&&f.multiple&&n){var t=n.length<=parseInt(f.maxnum);e.$setValidity("maxnum",t)}return n}function b(n){if(f.minnum&&f.multiple&&n){var t=n.length>=parseInt(f.minnum);e.$setValidity("minnum",t)}return n}function k(n){var i=!0,r,t,u;if(f.maxsize&&n){if(r=parseFloat(f.maxsize)*1e3,f.multiple){for(t=0;t<n.length;t++)if(u=n[t],u.filesize>r){i=!1;break}}else i=n.filesize<=r;e.$setValidity("maxsize",i)}return n}function d(n){var i=!0,r=parseFloat(f.minsize)*1e3,t,u;if(f.minsize&&n){if(f.multiple){for(t=0;t<n.length;t++)if(u=n[t],u.filesize<r){i=!1;break}}else i=n.filesize>=r;e.$setValidity("minsize",i)}return n}function g(n){var i=!0,t,s,r,u,o;if(f.accept&&(s=f.accept.trim().replace(/[,\s]+/gi,"|").replace(/\./g,"\\.").replace(/\/\*/g,"/.*"),t=new RegExp(s)),f.accept&&n){if(f.multiple){for(u=0;u<n.length;u++)if(o=n[u],r="."+o.filename.split(".").pop(),i=t.test(o.filetype)||t.test(r),!i)break}else r="."+n.filename.split(".").pop(),i=t.test(n.filetype)||t.test(r);e.$setValidity("accept",i)}return n}if(e){var o=[],s=[];u.on("change",function(n){n.target.files.length&&(s=[],s=angular.copy(s),o=n.target.files,h(),c(n),l(n))});e.$isEmpty=function(n){return!n||(angular.isArray(n)?n.length===0:!n.base64)};r._clearInput=function(){u[0].value=""};r.$watch(function(){return e.$viewValue},function(n,t){e.$isEmpty(t)||e.$isEmpty(n)&&r._clearInput()})}}}}])}(window),function(n,t){"use strict";typeof define=="function"&&define.amd?define(["jquery"],t):typeof exports=="object"?module.exports=t(require("jquery")):n.bootbox=t(n.jQuery)}(this,function init(n,t){"use strict";function a(n){var t=f[e.locale];return t?t[n]:f.en[n]}function o(t,i,r){t.stopPropagation();t.preventDefault();var u=n.isFunction(r)&&r.call(i,t)===!1;u||i.modal("hide")}function v(n){var i,t=0;for(i in n)t++;return t}function r(t,i){var r=0;n.each(t,function(n,t){i(n,t,r++)})}function y(t){var i,u;if(typeof t!="object")throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=n.extend({},e,t),t.buttons||(t.buttons={}),i=t.buttons,u=v(i),r(i,function(t,r,f){if(n.isFunction(r)&&(r=i[t]={callback:r}),n.type(r)!=="object")throw new Error("button with key "+t+" must be an object");r.label||(r.label=t);r.className||(r.className=u<=2&&f===u-1?"btn-primary":"btn-default")}),t}function p(n,t){var r=n.length,i={};if(r<1||r>2)throw new Error("Invalid argument length");return r===2||typeof n[0]=="string"?(i[t[0]]=n[0],i[t[1]]=n[1]):i=n[0],i}function s(t,i,r){return n.extend(!0,{},t,p(i,r))}function h(n,t,i,r){var u={className:"bootbox-"+n,buttons:c.apply(null,t)};return l(s(u,r,i),t)}function c(){for(var t={},n=0,i=arguments.length;n<i;n++){var r=arguments[n],u=r.toLowerCase(),f=r.toUpperCase();t[u]={label:a(f)}}return t}function l(n,i){var u={};return r(i,function(n,t){u[t]=!0}),r(n.buttons,function(n){if(u[n]===t)throw new Error("button key "+n+" is not allowed (options are "+i.join("\n")+")");}),n}var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'><\/div><\/div><\/div><\/div><\/div>",header:"<div class='modal-header'><h4 class='modal-title'><\/h4><\/div>",footer:"<div class='modal-footer'><\/div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;<\/button>",form:"<form class='bootbox-form'><\/form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'><\/textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'><\/select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /><\/label><\/div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},e={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},i={},f;return i.alert=function(){var t;if(t=h("alert",["ok"],["message","callback"],arguments),t.callback&&!n.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return n.isFunction(t.callback)?t.callback.call(this):!0},i.dialog(t)},i.confirm=function(){var t;if(t=h("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!n.isFunction(t.callback))throw new Error("confirm requires a callback");return i.dialog(t)},i.prompt=function(){var f,y,h,v,e,p,o,a,w;if(v=n(u.form),y={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},f=l(s(y,arguments,["title","callback"]),["cancel","confirm"]),p=f.show===t?!0:f.show,f.message=v,f.buttons.cancel.callback=f.onEscape=function(){return f.callback.call(this,null)},f.buttons.confirm.callback=function(){var t,i;switch(f.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":t=e.val();break;case"checkbox":i=e.find("input:checked");t=[];r(i,function(i,r){t.push(n(r).val())})}return f.callback.call(this,t)},f.show=!1,!f.title)throw new Error("prompt requires a title");if(!n.isFunction(f.callback))throw new Error("prompt requires a callback");if(!u.inputs[f.inputType])throw new Error("invalid prompt type");e=n(u.inputs[f.inputType]);switch(f.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":e.val(f.value);break;case"select":if(a={},o=f.inputOptions||[],!n.isArray(o))throw new Error("Please pass an array of input options");if(!o.length)throw new Error("prompt with select requires options");r(o,function(i,r){var u=e;if(r.value===t||r.text===t)throw new Error("given options in wrong format");r.group&&(a[r.group]||(a[r.group]=n("<optgroup/>").attr("label",r.group)),u=a[r.group]);u.append("<option value='"+r.value+"'>"+r.text+"<\/option>")});r(a,function(n,t){e.append(t)});e.val(f.value);break;case"checkbox":if(w=n.isArray(f.value)?f.value:[f.value],o=f.inputOptions||[],!o.length)throw new Error("prompt with checkbox requires options");if(!o[0].value||!o[0].text)throw new Error("given options in wrong format");e=n("<div/>");r(o,function(t,i){var o=n(u.inputs[f.inputType]);o.find("input").attr("value",i.value);o.find("label").append(i.text);r(w,function(n,t){t===i.value&&o.find("input").prop("checked",!0)});e.append(o)})}f.placeholder&&e.attr("placeholder",f.placeholder);f.pattern&&e.attr("pattern",f.pattern);f.maxlength&&e.attr("maxlength",f.maxlength);v.append(e);v.on("submit",function(n){n.preventDefault();n.stopPropagation();h.find(".btn-primary").click()});h=i.dialog(f);h.off("shown.bs.modal");h.on("shown.bs.modal",function(){e.focus()});return p===!0&&h.modal("show"),h},i.dialog=function(i){var c;i=y(i);var f=n(u.dialog),l=f.find(".modal-dialog"),s=f.find(".modal-body"),a=i.buttons,h="",e={onEscape:i.onEscape};if(n.fn.modal===t)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");r(a,function(n,t){h+="<button data-bb-handler='"+n+"' type='button' class='btn "+t.className+"'>"+t.label+"<\/button>";e[n]=t.callback});s.find(".bootbox-body").html(i.message);i.animate===!0&&f.addClass("fade");i.className&&f.addClass(i.className);i.size==="large"?l.addClass("modal-lg"):i.size==="small"&&l.addClass("modal-sm");i.title&&s.before(u.header);i.closeButton&&(c=n(u.closeButton),i.title?f.find(".modal-header").prepend(c):c.css("margin-top","-10px").prependTo(s));i.title&&f.find(".modal-title").html(i.title);h.length&&(s.after(u.footer),f.find(".modal-footer").html(h));f.on("hidden.bs.modal",function(n){n.target===this&&f.remove()});f.on("shown.bs.modal",function(){f.find(".btn-primary:first").focus()});if(i.backdrop!=="static")f.on("click.dismiss.bs.modal",function(n){(f.children(".modal-backdrop").length&&(n.currentTarget=f.children(".modal-backdrop").get(0)),n.target===n.currentTarget)&&f.trigger("escape.close.bb")});f.on("escape.close.bb",function(n){e.onEscape&&o(n,f,e.onEscape)});f.on("click",".modal-footer button",function(t){var i=n(this).data("bb-handler");o(t,f,e[i])});f.on("click",".bootbox-close-button",function(n){o(n,f,e.onEscape)});f.on("keyup",function(n){n.which===27&&f.trigger("escape.close.bb")});return n(i.container).append(f),f.modal({backdrop:i.backdrop?"static":!1,keyboard:!1,show:!1}),i.show&&f.modal("show"),f},i.setDefaults=function(){var t={};arguments.length===2?t[arguments[0]]=arguments[1]:t=arguments[0];n.extend(e,t)},i.hideAll=function(){return n(".bootbox").modal("hide"),i},f={ar:{OK:"",CANCEL:"",CONFIRM:""},bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"Confirmer"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}},i.addLocale=function(t,r){return n.each(["OK","CANCEL","CONFIRM"],function(n,t){if(!r[t])throw new Error("Please supply a translation for '"+t+"'");}),f[t]={OK:r.OK,CANCEL:r.CANCEL,CONFIRM:r.CONFIRM},i},i.removeLocale=function(n){return delete f[n],i},i.setLocale=function(n){return i.setDefaults("locale",n)},i.init=function(t){return init(t||n)},i}),function(){"use strict";var f=this,n={},i;typeof define=="function"&&define.amd?define(function(){return n}):typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports.timezoneJS=n):f.timezoneJS=n;n.VERSION="0.4.11";var o=f.$||f.jQuery||f.Zepto,r=f.fleegix,s=n.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=n.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],e={},h={},t={};for(i=0;i<c.length;i++)e[c[i].substr(0,3)]=i;for(i=0;i<s.length;i++)h[s[i].substr(0,3)]=i;var l=Array.prototype.indexOf||function(n){var u,r,t,i;if(this===null)throw new TypeError;if((u=Object(this),r=u.length>>>0,r===0)||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:t!==0&&t!==Infinity&&t!==-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1},u=function(n,t){if(typeof n!="number")throw"not a number: "+n;var u=n>1e3,i=n.toString(),r=i.length;if(u&&r>t)return i.substr(r-t,r);for(i=[i];r<t;)i.unshift("0"),r++;return i.join("")},a=function(n){if(n){if(!n.url)throw new Error("URL must be specified");if("async"in n||(n.async=!0),typeof window=="undefined"&&typeof require=="function"){var t=require("fs");return n.async?typeof n.success!="function"?void 0:(n.error=n.error||console.error,t.readFile(n.url,"utf8",function(t,i){return t?n.error(t):n.success(i)})):t.readFileSync(n.url,"utf8")}if((!r||typeof r.xhr=="undefined")&&(!o||typeof o.ajax=="undefined"))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return n.async?r&&r.xhr?r.xhr.send({url:n.url,method:"get",handleSuccess:n.success,handleErr:n.error}):o.ajax({url:n.url,dataType:"text",method:"GET",error:n.error,success:n.success}):r&&r.xhr?r.xhr.doReq({url:n.url,async:!1}):o.ajax({url:n.url,async:!1,dataType:"text"}).responseText}};n.Date=function(){var u,f;if(this===n)throw"timezoneJS.Date object must be constructed with 'new'";var t=Array.prototype.slice.apply(arguments),r=null,e=null,i=[],o=!1;Object.prototype.toString.call(t[0])==="[object Array]"&&(t=t[0]);typeof t[t.length-1]=="string"&&(o=Date.parse(t[t.length-1].replace(/GMT[\+\-]\d+/,"")),(isNaN(o)||o===null)&&(e=t.pop()));u=!1;switch(t.length){case 0:r=new Date;break;case 1:r=new Date(t[0]);typeof t[0]=="string"&&t[0].search(/[+-][0-9]{4}/)==-1&&t[0].search(/Z/)==-1&&t[0].search(/T/)==-1&&(u=!0);break;case 2:r=new Date(t[0],t[1]);u=!0;break;default:for(f=0;f<7;f++)i[f]=t[f]||0;r=new Date(i[0],i[1],i[2],i[3],i[4],i[5],i[6]);u=!0}if(isNaN(r.getTime()))throw new Error("Invalid date");this._useCache=!1;this._tzInfo={};this._day=0;this.year=0;this.month=0;this.date=0;this.hours=0;this.minutes=0;this.seconds=0;this.milliseconds=0;this.timezone=e||null;u?this.setFromDateObjProxy(r):this.setFromTimeProxy(r.getTime(),e)};n.Date.prototype={getDate:function(){return this.date},getDay:function(){return this._day},getFullYear:function(){return this.year},getMonth:function(){return this.month},getYear:function(){return this.year-1900},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return this._timeProxy+this.getTimezoneOffset()*6e4},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){if(this._useCache)return this._tzInfo;var t;return t=this.timezone?this.timezone==="Etc/UTC"||this.timezone==="Etc/GMT"?{tzOffset:0,tzAbbr:"UTC"}:n.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=t,this._useCache=!0,t},getUTCDateProxy:function(){var n=new Date(this._timeProxy);return n.setUTCMinutes(n.getUTCMinutes()+this.getTimezoneOffset()),n},setDate:function(n){return this.setAttribute("date",n),this.getTime()},setFullYear:function(n,t,i){return i!==undefined&&this.setAttribute("date",1),this.setAttribute("year",n),t!==undefined&&this.setAttribute("month",t),i!==undefined&&this.setAttribute("date",i),this.getTime()},setMonth:function(n,t){return this.setAttribute("month",n),t!==undefined&&this.setAttribute("date",t),this.getTime()},setYear:function(n){return n=Number(n),0<=n&&n<=99&&(n+=1900),this.setUTCAttribute("year",n),this.getTime()},setHours:function(n,t,i,r){return this.setAttribute("hours",n),t!==undefined&&this.setAttribute("minutes",t),i!==undefined&&this.setAttribute("seconds",i),r!==undefined&&this.setAttribute("milliseconds",r),this.getTime()},setMinutes:function(n,t,i){return this.setAttribute("minutes",n),t!==undefined&&this.setAttribute("seconds",t),i!==undefined&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(n,t){return this.setAttribute("seconds",n),t!==undefined&&this.setAttribute("milliseconds",t),this.getTime()},setMilliseconds:function(n){return this.setAttribute("milliseconds",n),this.getTime()},setTime:function(n){if(isNaN(n))throw new Error("Units must be a number.");return this.setFromTimeProxy(n,this.timezone),this.getTime()},setUTCFullYear:function(n,t,i){return i!==undefined&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",n),t!==undefined&&this.setUTCAttribute("month",t),i!==undefined&&this.setUTCAttribute("date",i),this.getTime()},setUTCMonth:function(n,t){return this.setUTCAttribute("month",n),t!==undefined&&this.setUTCAttribute("date",t),this.getTime()},setUTCDate:function(n){return this.setUTCAttribute("date",n),this.getTime()},setUTCHours:function(n,t,i,r){return this.setUTCAttribute("hours",n),t!==undefined&&this.setUTCAttribute("minutes",t),i!==undefined&&this.setUTCAttribute("seconds",i),r!==undefined&&this.setUTCAttribute("milliseconds",r),this.getTime()},setUTCMinutes:function(n,t,i){return this.setUTCAttribute("minutes",n),t!==undefined&&this.setUTCAttribute("seconds",t),i!==undefined&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(n,t){return this.setUTCAttribute("seconds",n),t!==undefined&&this.setUTCAttribute("milliseconds",t),this.getTime()},setUTCMilliseconds:function(n){return this.setUTCAttribute("milliseconds",n),this.getTime()},setFromDateObjProxy:function(n){this.year=n.getFullYear();this.month=n.getMonth();this.date=n.getDate();this.hours=n.getHours();this.minutes=n.getMinutes();this.seconds=n.getSeconds();this.milliseconds=n.getMilliseconds();this._day=n.getDay();this._dateProxy=n;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!1},setFromTimeProxy:function(t,i){var r=new Date(t),u=i?n.timezone.getTzInfo(t,i,!0).tzOffset:r.getTimezoneOffset();r.setTime(t+(r.getTimezoneOffset()-u)*6e4);this.setFromDateObjProxy(r)},setAttribute:function(n,t){if(isNaN(t))throw new Error("Units must be a number.");var i=this._dateProxy,r=n==="year"?"FullYear":n.substr(0,1).toUpperCase()+n.substr(1);i["set"+r](t);this.setFromDateObjProxy(i)},setUTCAttribute:function(n,t){if(isNaN(t))throw new Error("Units must be a number.");var r=n==="year"?"FullYear":n.substr(0,1).toUpperCase()+n.substr(1),i=this.getUTCDateProxy();i["setUTC"+r](t);i.setUTCMinutes(i.getUTCMinutes()-this.getTimezoneOffset());this.setFromTimeProxy(i.getTime()+this.getTimezoneOffset()*6e4,this.timezone)},setTimezone:function(n){var t=this.getTimezoneInfo().tzOffset;this.timezone=n;this._useCache=!1;this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+t)},removeTimezone:function(){this.timezone=null;this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new n.Date(this.getTime(),this.timezone):new n.Date(this.getTime())},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleString:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z"},toJSON:function(){return this.toISOString()},toDateString:function(){return this.toString("EEE MMM dd yyyy")},toTimeString:function(){return this.toString("H:mm k")},toString:function(t,i){var f;t||(t="yyyy-MM-ddTHH:mm:ss.SSS");var e=t,o=i?n.timezone.getTzInfo(this.getTime(),i):this.getTimezoneInfo(),r=this;return i&&(r=this.clone(),r.setTimezone(i)),f=r.getHours(),e.replace(/a+/g,function(){return"k"}).replace(/y+/g,function(n){return u(r.getFullYear(),n.length)}).replace(/d+/g,function(n){return u(r.getDate(),n.length)}).replace(/m+/g,function(n){return u(r.getMinutes(),n.length)}).replace(/s+/g,function(n){return u(r.getSeconds(),n.length)}).replace(/S+/g,function(n){return u(r.getMilliseconds(),n.length)}).replace(/h+/g,function(n){return u(f%12==0?12:f%12,n.length)}).replace(/M+/g,function(t){var f=r.getMonth(),i=t.length;return i>3?n.Months[f]:i>2?n.Months[f].substring(0,i):u(f+1,i)}).replace(/k+/g,function(){return f>=12?(f>12&&(f-=12),"PM"):"AM"}).replace(/H+/g,function(n){return u(f,n.length)}).replace(/E+/g,function(n){return s[r.getDay()].substring(0,n.length)}).replace(/Z+/gi,function(){return o.tzAbbr})},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(n,t,i){var r,u,f;return t++,t>12&&(r=parseInt(t/12,10),t=t%12,n+=r),t<=2&&(n-=1,t+=12),r=Math.floor(n/100),u=2-r+Math.floor(r/4),f=Math.floor(365.25*(n+4716))+Math.floor(30.6001*(t+1))+i+u-1524,f},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}};n.timezone=new function(){function f(n){throw new Error("Timezone '"+n+"' is either incorrect, or not loaded in the timezone registry.");}function y(t,i){var r=n.zoneFileBasePath+"/"+t;return!i||!i.async?n.parseZones(n.transport({url:r,async:!1})):n.transport({async:!0,url:r,success:function(t){return n.parseZones(t)&&typeof i.callback=="function"&&i.callback()},error:function(){throw new Error("Error retrieving '"+r+"' zoneinfo files");}})}function i(t){var e=v[t],o,r,u;if(e)return e;if(o=t.split("/")[0],r=c[o],r)return r;if(u=n.zones[t],typeof u=="string")return i(u);if(!n.loadedZones.backward)return n.loadZoneFile("backward"),i(t);f(t)}function r(n){var t=n.match(/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/);return t[1]=parseInt(t[1],10),t[2]=t[2]?parseInt(t[2],10):0,t[3]=t[3]?parseInt(t[3],10):0,t.slice(1,5)}function p(n){var t;if(n[3]){var f=parseInt(n[3],10),i=11,u=31;return n[4]&&(i=e[n[4].substr(0,3)],u=parseInt(n[5],10)||1),t=n[6]?r(n[6]):[0,0,0],[f,i,u,t[0],t[1],t[2]]}}function u(t,i){for(var h=typeof t=="number"?t:new Date(t).getTime(),r=i,e=n.zones[r],o,s;typeof e=="string";)r=e,e=n.zones[r];if(!e){if(n.loadedZones.backward){if(r&&r!==i)return n.lazyLoadZoneFiles(r),u(t,r)}else return n.loadZoneFile("backward"),u(t,i);f(r)}if(e.length===0)throw new Error("No Zone found for '"+i+"' on "+t);for(o=e.length-1;o>=0;o--)if(s=e[o],s[3]&&h>s[3])break;return e[o+1]}function o(n){var t=r(n),i=n.charAt(0)==="-"?-1:1;return t=i*((t[0]*60+t[1])*60+t[2])*1e3,t/6e4}function s(n,t){return-Math.ceil(t-n)}function w(i,r,u){var c=typeof i=="number"?new Date(i):i,v=r[1],w=r[0],y=v.match(/^([0-9]):([0-9][0-9])$/),o;if(y)return[-1e6,"max","-","Jan",1,[0,0,0],parseInt(y[1],10)*60+parseInt(y[2],10),"-"];var p=function(n,t,i){var r=0;if(t==="u"||t==="g"||t==="z")r=0;else if(t==="s")r=w;else if(t!=="w"&&t)throw new Error("unknown type "+t);else r=s(w,i[6]);return r*=6e4,new Date(n.getTime()+r)},b=function(n,i){var o=n[0],r=n[1],f=r[5],u,s,l,c;return t[o]||(t[o]={}),t[o][r]?u=t[o][r]:(isNaN(r[4])?(r[4].substr(0,4)==="last"?(u=new Date(Date.UTC(o,e[r[3]]+1,1,f[0]-24,f[1],f[2],0)),s=h[r[4].substr(4,3)],l="<="):(u=new Date(Date.UTC(o,e[r[3]],r[4].substr(5),f[0],f[1],f[2],0)),s=h[r[4].substr(0,3)],l=r[4].substr(3,2)),c=u.getUTCDay(),l===">="?u.setUTCDate(u.getUTCDate()+(s-c+(s<c?7:0))):u.setUTCDate(u.getUTCDate()+(s-c-(s>c?7:0)))):u=new Date(Date.UTC(o,e[r[3]],r[4],f[0],f[1],f[2],0)),t[o][r]=u),i&&(u=p(u,f[3],i)),u},k=function(n,t){for(var r=[],i=0;t&&i<t.length;i++)t[i][0]<=n&&(t[i][1]>=n||t[i][0]===n&&t[i][1]==="only"||t[i][1]==="max")&&r.push([n,t[i]]);return r},a=function(n,i,r){var f,e;return n instanceof Date?r&&(n=p(n,u?"u":"w",r)):(f=n[0],e=n[1],n=!r&&t[f]&&t[f][e]?t[f][e]:b(n,r)),i instanceof Date?r&&(i=p(i,u?"u":"w",r)):(f=i[0],e=i[1],i=!r&&t[f]&&t[f][e]?t[f][e]:b(i,r)),n=Number(n),i=Number(i),n-i},d=c.getUTCFullYear(),f;return(f=k(d,n.rules[v]),f.push(c),f.sort(a),l.call(f,c)<2&&(f=f.concat(k(d-1,n.rules[v])),f.sort(a)),o=l.call(f,c),o>1&&a(c,f[o-1],f[o-2][1])<0)?f[o-2][1]:o>0&&o<f.length-1&&a(c,f[o+1],f[o-1][1])>0?f[o+1][1]:o===0?null:f[o-1][1]}function b(n,t){var i=n[2],r;return i.indexOf("%s")>-1?(r=t?t[7]==="-"?"":t[7]:"S",i.replace("%s",r)):i.indexOf("/")>-1?i.split("/",2)[t?t[6]?1:0:0]:i}var n=this,c={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},v={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"};this.zoneFileBasePath=null;this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"];this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"};this.getRegionForTimezone=i;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};this.zones={};this.rules={};this.init=function(n){var i={async:!0},r=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",t;for(t in n)i[t]=n[t];return this.loadZoneFiles(r,i)};this.loadZoneFiles=function(n,t){var r,u=0,i;if(typeof n=="string")return this.loadZoneFile(n,t);for(t=t||{},r=t.callback,t.callback=function(){u++;u===n.length&&typeof r=="function"&&r()},i=0;i<n.length;i++)this.loadZoneFile(n[i],t)};this.loadZoneFile=function(n,t){if(typeof this.zoneFileBasePath=="undefined")throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(!this.loadedZones[n])return this.loadedZones[n]=!0,y(n,t)};this.loadZoneJSONData=function(t,i){var r=function(data){var z,r;data=eval("("+data+")");for(z in data.zones)n.zones[z]=data.zones[z];for(r in data.rules)n.rules[r]=data.rules[r]};return i?r(n.transport({url:t,async:!1})):n.transport({url:t,success:r})};this.loadZoneDataFromObject=function(t){var i,r;if(t){for(i in t.zones)n.zones[i]=t.zones[i];for(r in t.rules)n.rules[r]=t.rules[r]}};this.getAllZones=function(){var n=[],t;for(t in this.zones)n.push(t);return n.sort()};this.parseZones=function(t){var s;if(!t)return!1;var h=t.split("\n"),i=[],c="",u,f=null,e=null;for(s=0;s<h.length;s++)if(u=h[s],u.match(/^\s/)&&(u="Zone "+f+u),u=u.split("#")[0],u.length>3){i=u.split(/\s+/);c=i.shift();switch(c){case"Zone":if(f=i.shift(),n.zones[f]||(n.zones[f]=[]),i.length<3)break;i.splice(3,i.length,p(i));i[3]&&(i[3]=Date.UTC.apply(null,i[3]));i[0]=-o(i[0]);n.zones[f].push(i);break;case"Rule":e=i.shift();n.rules[e]||(n.rules[e]=[]);i[0]=parseInt(i[0],10);i[1]=parseInt(i[1],10)||i[1];i[5]=r(i[5]);i[6]=o(i[6]);n.rules[e].push(i);break;case"Link":if(n.zones[i[1]])throw new Error("Error with Link "+i[1]+". Cannot create link of a preexisted zone.");n.zones[i[1]]=isNaN(i[0])?i[0]:parseInt(i[0],10)}}return!0};this.transport=a;this.getTzInfo=function(n,t,i){var o;this.lazyLoadZoneFiles(t);var r=u(n,t),f=+r[0],e=w(n,r,i);return e&&(f=s(f,e[6])),o=b(r,e),{tzOffset:f,tzAbbr:o}};this.lazyLoadZoneFiles=function(n){if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){var t=i(n);if(!t)throw new Error("Not a valid timezone ID.");this.loadZoneFiles(t)}}}}.call(typeof window!="undefined"?window:this);!function(n){"use strict";n.module("vcRecaptcha",[])}(angular),function(n){"use strict";var t=n.module("vcRecaptcha");t.service("vcRecaptchaService",["$window","$q",function(t,i){function e(){return r?i.when(r):o}function u(){if(!r)throw new Error("reCaptcha has not been loaded yet.");}var r,f=i.defer(),o=f.promise;return t.vcRecaptchaApiLoaded=function(){r=t.grecaptcha;f.resolve(r)},n.isDefined(t.grecaptcha)&&t.vcRecaptchaApiLoaded(),{create:function(n,t,i,r){return r.callback=i,r.sitekey=t,e().then(function(t){return t.render(n,r)})},reload:function(n){u();r.reset(n)},getResponse:function(n){return u(),r.getResponse(n)}}}])}(angular),function(n){"use strict";function t(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create');}var i=n.module("vcRecaptcha");i.directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(n,i,r){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=",theme:"=?",tabindex:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(u,f,e,o){function s(){angular.element(n[0].querySelectorAll(".pls-container")).parent().remove()}e.hasOwnProperty("key")||t();u.widgetId=null;var h=u.$watch("key",function(n){if(n){40!==n.length&&t();var c=function(n){i(function(){o&&o.$setValidity("recaptcha",!0);u.response=n;u.onSuccess({response:n,widgetId:u.widgetId})});i(function(){o&&o.$setValidity("recaptcha",!1);u.response="";u.onExpire({widgetId:u.widgetId})},12e4)};r.create(f[0],n,c,{theme:u.theme||e.theme||null,tabindex:u.tabindex||e.tabindex||null}).then(function(n){o&&o.$setValidity("recaptcha",!1);u.widgetId=n;u.onCreate({widgetId:n});u.$on("$destroy",s)});h()}})}}}])}(angular);apiBasePath="https://mycourierbuddy.com/apis/index.php/";clientId="P600Us6Y476QiK331u5yEzb22dpX_y6NS75!9I-a",function(){angular.module("courier",["ui.router","ngSanitize","ui.bootstrap","ngAnimate","ui.calendar","ngGrid","datatables","ui.select","ui.sortable","ui.footable","ui.autocomplete","permission","timer","bcherny/formatAsCurrency","angular-loading-bar","base64","naif.base64","vcRecaptcha"]).constant("RESOURCES",function(){return{searchcriteria:{datefrom:"",dateto:"",locationfrom:"",locationto:"",type:"Transporter"},tripid:"",parcelid:"",sendersearchcriteria:{TransporterID:"",departureat:"",status:""},tripsearchcriteria:{TransporterID:"",departureat:"",status:""},API_BASE_PATH:apiBasePath,CLIENT_ID:clientId}}()).config(["cfpLoadingBarProvider",function(n){n.includeSpinner=!0;n.includeBar=!1;n.spinnerTemplate='<div id="outer" style="width:100%;position: absolute; top:0px;background:rgba(0, 0, 0, 0.6);height:200%;z-index: 9999999999; "><div class="progress" style=" margin: 30% auto;  width: 200px; height: 10px; z-index: 9999999999;"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><span class="sr-only"><\/span><\/div><\/div><\/div>'}])}();angular.module("courier").directive("pageTitle",pageTitle).directive("sideNavigation",sideNavigation).directive("minimalizaMenu",minimalizaMenu).directive("sparkline",sparkline).directive("icheck",icheck).directive("panelTools",panelTools).directive("panelToolsFullscreen",panelToolsFullscreen).directive("smallHeader",smallHeader).directive("animatePanel",animatePanel).directive("landingScrollspy",landingScrollspy).directive("ngEnter",ngEnterHandler).directive("customOnChange",fileUploadHandler).directive("back",backHandler).directive("pwCheck",pwCheck).directive("validNumber",validNumber).directive("noSpecialChar",noSpecialChar).directive("slider",function(){var n=function(n,t,i){var r=i.sliderClassSelector,u=i.sliderRefreshOnWatch;n.$watch(u,function(){$("."+r).responsiveSlides({auto:!0,pager:!1,speed:800,timeout:2e3,maxwidth:1800})})};return{restrict:"A",link:n}}).directive("scroll",function(n){return{restrict:"A",link:function(t,i,r){t.$watchCollection(r.scroll,function(){n(function(){i[0].scrollTop=i[0].scrollHeight})})}}});angular.module("courier").config(configState).run(function(n,t,i,r,u){n.numberWithCommas=function(n){var t=n.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")};u.fillAuthData();n.$state=t;i.defineRole("anonymous",function(){return sessionStorage.getItem("ValiDatedTokenObject")?(r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject"))),!r.getValiDatedTokenObject())?!0:!1:!0}).defineRole("User",function(){if(u.authentication.isUser)return!0;if(!sessionStorage.getItem("ValiDatedTokenObject"))return!1;if(r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject"))),r.getValiDatedTokenObject()){console.log(r);var n=r.getValiDatedTokenObject().roles;if(n=="User")return!0}return!1}).defineRole("Admin",function(){if(u.authentication.isAdministrator)return!0;if(r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject"))),r.getValiDatedTokenObject()){var n=r.getValiDatedTokenObject().roles;if(n=="Admin")return!0}return!1})});angular.isUndefinedOrNull=function(n){return angular.isUndefined(n)||n===null};angular.module("courier").service("locationHistoryService",function(){return{previousLocation:null,store:function(n){this.previousLocation=n},get:function(){return this.previousLocation}}}).run(["$rootScope","locationHistoryService",function(n,t){n.$on("$locationChangeSuccess",function(n,i,r){t.store(r)})}]);angular.module("courier").service("ValiDatedTokenObject",function(){var n={},t=function(){return n},i=function(t){n=angular.copy(t)};return{getValiDatedTokenObject:t,setValiDatedTokenObject:i}});angular.module("courier").factory("AuthService",["$http","$q","ValiDatedTokenObject","RESOURCES",function(n,t,i,r){var e=r.API_BASE_PATH,f={},u={isAuth:!1,userName:"",isUser:!1,isAdministrator:!1,UserId:"",isActive:!1},c=function(){var t=sessionStorage.getItem("reference_friend_ids"),n=[];return t!=null&&(n=JSON.parse(t),n==null&&(n=[])),n},s=function(){sessionStorage.removeItem("reference_friend_ids")},l=function(){var t={};t.referenceIds=c();u.isUser&&t.referenceIds.length>0?n.post(e+"tracking/references",t,{headers:{"Content-Type":"application/json",Authorization:i.getValiDatedTokenObject().token_type+" "+i.getValiDatedTokenObject().access_token}}).then(function(n){return s(),n}):s()},a=function(){var t=sessionStorage.getItem("referrals"),n=[];return t!=null&&(n=JSON.parse(t),n==null&&(n=[])),n},h=function(){sessionStorage.removeItem("referrals")},v=function(){var t={};t.referralIds=a();u.isUser&&t.referralIds.length>0?n.post(e+"tracking/referrals",t,{headers:{"Content-Type":"application/json",Authorization:i.getValiDatedTokenObject().token_type+" "+i.getValiDatedTokenObject().access_token}}).then(function(n){return h(),n}):h()},y=function(r){o();var f=t.defer();return n.post(e+"api/registeruser",r).then(function(n){return n.data.status=="success"?(i.setValiDatedTokenObject(n.data.response),sessionStorage.setItem("ValiDatedTokenObject",JSON.stringify(i.getValiDatedTokenObject())),u.isAuth=!0,u.userName=n.data.response[0].name,u.isUser=parseInt(n.data.response[0].role_id)==2,u.isAdministrator=parseInt(n.data.response[0].role_id)==1,u.UserId=n.data.response[0].id,u.isActive=!1,sessionStorage.setItem("UserId",n.data.response[0].id),f.resolve(n),n):(f.resolve(n),n)})},p=function(i){var r=t.defer();return n.post(e+"api/verifyuser",i).then(function(n){return n})},w=function(i){var r=t.defer();return n.post(e+"api/sendinvite",i).then(function(n){return n})},b=function(r){var f=t.defer();return n({method:"POST",url:e+"api/getloginuser",data:{email:r.userName,password:r.password},headers:{"Content-Type":"application/json"}}).success(function(n){n.status=="success"?(i.setValiDatedTokenObject(n.response),sessionStorage.setItem("ValiDatedTokenObject",JSON.stringify(i.getValiDatedTokenObject())),u.isAuth=!0,u.userName=n.response[0].name,u.isUser=parseInt(n.response[0].role_id)==2,u.isAdministrator=parseInt(n.response[0].role_id)==1,u.UserId=n.response[0].id,u.isActive=n.response[0].status=="Y",sessionStorage.setItem("UserId",n.response[0].id),f.resolve(n)):f.resolve(n)}).error(function(){o();f.reject(err)}),f.promise},o=function(){sessionStorage.removeItem("ValiDatedTokenObject");u.isAuth=!1;u.userName="";u.isUser=!1;u.isAdministrator=!1;u.UserId="";u.isActive=!1;sessionStorage.removeItem("UserId")},k=function(){var n=sessionStorage.getItem("ValiDatedTokenObject");n&&(i.setValiDatedTokenObject(JSON.parse(n)),n=i.getValiDatedTokenObject(),u.isAuth=!0,u.isUser=parseInt(n[0].role_id)==2,u.isAdministrator=parseInt(n[0].role_id)==1,u.UserId=n[0].id,u.isActive=n[0].status=="Y",sessionStorage.setItem("UserId",n[0].id),u.userName=n[0].name)},d=function(r){var f=t.defer();return n.get(e+"account/ObtainLocalAccessToken",{params:{provider:r.provider,externalAccessToken:r.externalAccessToken}}).success(function(n){var t=n.roles=="User",r=n.roles=="Admin";n.isUser=t;n.isAdministrator=r;i.setValiDatedTokenObject(n);sessionStorage.setItem("ValiDatedTokenObject",JSON.stringify(i.getValiDatedTokenObject()));u.isAuth=!0;u.userName=n.userName;u.isUser=t;u.isAdministrator=r;v();l();f.resolve(n)}).error(function(n){o();f.reject(n)}),f.promise},g=function(t){return n.get(e+"api/getuserdetails/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},nt=function(t){return n.get(e+"api/getunreadchannellist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},tt=function(){return n.get(e+"api/getuserslist",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},it=function(t){return n.get(e+"api/getchannelmessageslist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},rt=function(t){return n.post(e+"account/resetpasswordtoken",t).then(function(n){return n})},ut=function(t){return n.post(e+"api/forgetpassword",t).then(function(n){return n})},ft=function(t){return n.post(e+"api/updateuserdetails",t).then(function(n){return n})},et=function(t){return n.post(e+"api/changepassword",t).then(function(n){return n})};return f.saveRegistration=y,f.login=b,f.logOut=o,f.fillAuthData=k,f.authentication=u,f.obtainAccessToken=d,f.externalAuthData={provider:"",userName:"",externalAccessToken:"",email:"",firstName:"",lastName:""},f.getuserdetails=g,f.getchannelslist=nt,f.getuserslist=tt,f.getchatlist=it,f.resetPasswordToken=rt,f.resetPassword=ut,f.changepassword=et,f.updateuserdetails=ft,f.verifyuser=p,f.inviteuser=w,f}]);angular.module("courier").factory("searchService",["$http","$q","RESOURCES","ValiDatedTokenObject",function(n,t,i,r){r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject")));var f=i.API_BASE_PATH,u={},e=function(t,i,r,u,e){var o;return params={},typeof t!="undefined"&&t!==""&&t!=null?(o=new Date(t),params.dateFrom=moment(o).format("YYYY/MM/DD")):params.dateFrom="",typeof i!="undefined"&&i!==""&&i!=null?(o=new Date(i),params.dateTo=moment(o).format("YYYY/MM/DD")):params.dateTo="",params.locationfrom=typeof r!="undefined"&&r!==""&&r!=null?r:"",params.locationto=typeof u!="undefined"&&u!==""&&u!=null?u:"",params.type=typeof e!="undefined"&&e!==""&&e!=null?e:"Transporter",n.post(f+"api/searchhome",{headers:{"Content-Type":"application/json"},params:params}).then(function(n){return n})},o=function(t){return n.get(f+"api/gettransporterdetail/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},s=function(t,i,r){return params={},params.mobile=typeof t!="undefined"&&t!==""&&t!=null?t:"",params.email=typeof i!="undefined"&&i!==""&&i!=null?i:"",params.UserId=r,n.post(f+"api/searchuser",{headers:{"Content-Type":"application/json"},params:params}).then(function(n){return n})},h=function(t){return n.post(f+"api/createpaymentrequest",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},c=function(t){return n.get(f+"api/paymentrequestlist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})};return u.searchuser=s,u.searchAdvanced=e,u.gettransporterdetails=o,u.paymentrequestlist=c,u.createpaymentrequest=h,u}]);angular.module("courier").factory("AddTripsService",["$http","$q","RESOURCES","ValiDatedTokenObject",function(n,t,i,r){r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject")));var f=i.API_BASE_PATH,u={},e=function(t){return n.post(f+"api/addtrip",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},o=function(t){return n.post(f+"api/updatetrip",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},s=function(t){return n.post(f+"api/updatetripticket",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},h=function(t){return n.post(f+"api/cancelparcelbytransporter",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},c=function(t){return n.post(f+"api/updatetripstatus",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},l=function(t){return n.post(f+"api/usrupdatetripstatus",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},a=function(t){return n.post(f+"api/deletesingletrip",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},v=function(t){return n.get(f+"api/triplist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},y=function(t,i){return n.get(f+"api/senderbookingrequest/"+t+"/"+i,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},p=function(){return n.get(f+"api/triplistall/",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},w=function(t){return n.get(f+"api/canceltripslist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})};return u.AddTripsData=e,u.updateticketTripsData=s,u.updateTripsData=o,u.getTripsList=v,u.getTripsListall=p,u.getcalcelledTripsList=w,u.updatestatus=c,u.cancelparcelbytransporter=h,u.usrupdatestatus=l,u.deletetrip=a,u.senderbookingrequest=y,u}]);angular.module("courier").factory("ParcelService",["$http","$q","RESOURCES","ValiDatedTokenObject",function(n,t,i,r){r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject")));var f=i.API_BASE_PATH,u={},e=function(t){return n.post(f+"api/addparcel",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},o=function(t){return n.post(f+"api/calculateamount",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},s=function(t){return n.post(f+"api/addcontacts",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},h=function(t){return n.post(f+"api/updateparcel",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},c=function(t){return n.post(f+"api/updateparcelweight",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},l=function(t){return n.post(f+"api/updateParceltatus",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},a=function(t){return n.post(f+"api/usrupdateParceltatus",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},v=function(t){return n.post(f+"api/generateordernumber",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},y=function(t){return n.post(f+"api/deletesingleparcel",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},p=function(t){return n.get(f+"api/parcellist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},w=function(t){return n.post(f+"api/parcellistall",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},b=function(t){return n.post(f+"api/allbookinglist",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},k=function(){return n.get(f+"api/contactslist",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},d=function(t){return n.get(f+"api/cancelparcellist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},g=function(t){return n.get(f+"api/getwalletstatement/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},nt=function(t){return n.get(f+"api/refundedparcellist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},tt=function(t){return n.get(f+"api/getparceldetail/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})};return u.addcontacts=s,u.AddParcelData=e,u.calculateamount=o,u.updateParcelData=h,u.updateparcelweight=c,u.getParcelList=p,u.getParcelListall=w,u.getallbookinglist=b,u.contactslist=k,u.getcalcelledParcelList=d,u.getrefundedParcelList=nt,u.getwalletstatement=g,u.updatestatus=l,u.usrupdatestatus=a,u.deletetrip=y,u.getparceldetail=tt,u.generateordernumber=v,u}]);angular.module("courier").factory("AirportService",["$http","$q","RESOURCES","ValiDatedTokenObject",function(n,t,i,r){r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject")));var f=i.API_BASE_PATH,u={},e=function(){return n.get(f+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},o=function(){return n.get(f+"api/getzonelist",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},s=function(){return n.get(f+"api/getseolist",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},h=function(){return n.get(f+"api/getweightrangelist",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},c=function(t){return n.post(f+"api/savezonepricelist",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return console.log(n),n})},l=function(t){return n.post(f+"api/saveairportlist",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return console.log(n),n})},a=function(t){return n.post(f+"api/saveseolist",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return console.log(n),n})},v=function(t){return n.get(f+"api/deleteairportlist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},y=function(t){return n.get(f+"api/deleteseolist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},p=function(){return n.get(f+"api/getzonepricelist",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},w=function(t){return n.get(f+"api/deleteairportlist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})};return u.getzonelist=o,u.getseolist=s,u.getweightrangelist=h,u.getairportslist=e,u.saveairportdate=l,u.saveseolist=a,u.savezonepricelist=c,u.deleteairportlist=v,u.deleteseolist=y,u.getpricelist=p,u.deletepricelist=w,u}]);angular.module("courier").factory("ReceiverService",["$http","$q","RESOURCES","ValiDatedTokenObject",function(n,t,i,r){r.setValiDatedTokenObject(JSON.parse(sessionStorage.getItem("ValiDatedTokenObject")));var f=i.API_BASE_PATH,u={},e=function(t){return n.post(f+"api/addparcel",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},o=function(t){return n.post(f+"api/updateparcel",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},s=function(t){return n.post(f+"api/updateParceltatus",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},h=function(t){return n.post(f+"api/chatsubmit",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},c=function(t){return n.post(f+"api/usrupdateParceltatus",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},l=function(t){return n.post(f+"api/generateordernumber",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},a=function(t){return n.post(f+"api/deletesingleparcel",t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},v=function(t){return n.get(f+"api/receiverlist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},y=function(){return n.get(f+"api/parcellistall/",{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},p=function(t){return n.get(f+"api/cancelparcellist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},w=function(t){return n.get(f+"api/refundedparcellist/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})},b=function(t){return n.get(f+"api/getparceldetail/"+t,{headers:{"Content-Type":"application/json"}}).then(function(n){return n})};return u.AddParcelData=e,u.updateParcelData=o,u.getreceiverlist=v,u.getParcelListall=y,u.getcalcelledParcelList=p,u.getrefundedParcelList=w,u.updatestatus=s,u.submitchat=h,u.usrupdatestatus=c,u.deletetrip=a,u.getparceldetail=b,u.generateordernumber=l,u}]);angular.module("courier").controller("HeaderController",function(n,t,r,u){angular.element(".chatmessagepopup").scope().updatechat();n.isAuth=t.authentication.isAuth;n.userName=t.authentication.userName;n.isAdministrator=t.authentication.isAdministrator;n.isUser=t.authentication.isUser;n.totalmessages=0;n.chatchannelslist=[];n.isAuth&&(t.getuserdetails(t.authentication.UserId).then(function(t){t.data.status=="success"&&(t.data.response[0].status=="Y"||(n.verificationmessage="Verification link send on your Email please verify."))}),t.getchannelslist(t.authentication.UserId).then(function(t){for(n.chatchannelslist=t.data,i=0;i<n.chatchannelslist.length;i++)n.totalmessages=n.totalmessages+parseInt(n.chatchannelslist[i].messagecount)}));n.isActive=function(n){return n===r.path()};u.getseolist().then(function(t){for(n.list=t.data.response,i=0;i<n.list.length;i++)n.list[i].location==r.path()&&($("head").append('<meta name="description" content="'+n.list[i].description+'">'),$("head").append('<meta name="keywords" content="'+n.list[i].keyword+'">'),$("head").append("<title>"+n.list[i].title+"<\/title> "))});n.showchatopen=function(t,i,r){n.chatchannelslist.splice(r,1);angular.element(".chatmessagepopup").scope().showchat(t,i)}});angular.module("courier").controller("Login",function(n,t,i,r,u,f,e,o){f.authentication.isAuth&&i.path("/home");n.loginData={userName:"",password:""};n.errorLoginDescription="";n.login=function(t){if(n.errorLoginDescription="",!t){n.errorLoginDescription="Please, fill out all fields!";return}f.login(n.loginData).then(function(t){if(t.status=="success"){var r=sessionStorage.getItem("return_url");r!=null?(sessionStorage.removeItem("return_url"),i.path(r)):i.path("/home")}else t.errorMessage=="Your Acoount is not verified."&&(n.id=t.response,bootbox.prompt("Enter Otp Sent on Your Email?",function(t){var r={id:n.id,code:t};f.verifyuser(r).then(function(t){console.log(t);t.data.status=="success"?f.login(n.loginData).then(function(n){if(n.status=="success"){var t=sessionStorage.getItem("return_url");t!=null?(sessionStorage.removeItem("return_url"),i.path(t)):i.path("/home")}}):bootbox.alert("Error ! Opt is not Matched",function(){i.path("/login")})})})),n.errorLoginDescription=t.errorMessage},function(t){n.errorLoginDescription=t!=null?t.error_description:"Internal Server Error"})};n.authExternalProvider=function(t){var i=location.protocol+"//"+location.host+"/authcomplete.html",r,u;location.pathname.indexOf("Development2")!=-1&&(i=location.protocol+"//"+location.host+"/Development2/authcomplete.html");r=e.API_BASE_PATH+"Account/ExternalLogin?provider="+t+"&response_type=token&client_id="+e.CLIENT_ID+"&redirect_uri="+i;window.$windowScope=n;u=window.open(r,"Authenticate Account","location=0,status=0,width=600,height=750")};n.authCompletedCB=function(t){n.$apply(function(){if(t.haslocalaccount=="False")f.logOut(),f.externalAuthData={provider:t.provider,userName:t.external_user_name,externalAccessToken:t.external_access_token,email:t.email,firstName:t.first_name,lastName:t.last_name};else{var r={provider:t.provider,externalAccessToken:t.external_access_token};f.obtainAccessToken(r).then(function(){var n=sessionStorage.getItem("return_url");n!=null?(sessionStorage.removeItem("return_url"),i.path(n)):i.path("/dashboard")},function(t){n.message=t.error_description})}})};var s=function(n){var t=o.open({animation:!0,templateUrl:n,controller:function(){},size:"lg"})};n.showTerms=function(){s("views/TermsView.html")};n.showPrivacy=function(){s("views/PrivacyView.html")}});angular.module("courier").controller("forgetpasswordController",function(n,t,i,r,u,f){f.authentication.isAuth&&i.path("/home");n.forgetpasswordData={userName:""};n.errorforgetpasswordDescription="";n.successforgetpasswordDescription="";n.forgetpassword=function(t){if(n.errorforgetpasswordDescription="",n.successforgetpasswordDescription="",!t){n.errorforgetpasswordDescription="Please, fill out all fields!";return}f.resetPassword(n.forgetpasswordData).then(function(t){t.data.status=="success"?(n.successforgetpasswordDescription=t.data.response,n.forgetpasswordData={userName:""}):n.errorforgetpasswordDescription=t.data.errorMessage},function(t){n.errorforgetpasswordDescription=t!=null?t.error_description:"Internal Server Error"})}});angular.module("courier").controller("signupcontroller",function(n,t,i,r,u,f,e,o){f.authentication.isAuth&&i.path("/home");n.registerData={firstName:"",lastName:"",email:"",countrycode:"",mobilenumber:"",password:"",passwordRepeat:""};n.register=function(t){if(n.successRegisterMessage="",n.errorRegisterDescription="",n.errorLoginDescription="",!t){n.errorRegisterDescription="Please, fill out all fields!";return}f.saveRegistration(n.registerData).then(function(t){if(t.data.status=="success"){var r=sessionStorage.getItem("return_url");r!=null?(sessionStorage.removeItem("return_url"),i.path(r)):i.path("/home")}else n.errorRegisterDescription=t.data.errorMessage},function(){n.errorRegisterDescription="Failed to register user due to:Check Network Connection "})};n.authExternalProvider=function(t){var i=location.protocol+"//"+location.host+"/authcomplete.html",r,u;location.pathname.indexOf("Development2")!=-1&&(i=location.protocol+"//"+location.host+"/Development2/authcomplete.html");r=e.API_BASE_PATH+"Account/ExternalLogin?provider="+t+"&response_type=token&client_id="+e.CLIENT_ID+"&redirect_uri="+i;window.$windowScope=n;u=window.open(r,"Authenticate Account","location=0,status=0,width=600,height=750")};n.authCompletedCB=function(t){n.$apply(function(){if(t.haslocalaccount=="False")f.logOut(),f.externalAuthData={provider:t.provider,userName:t.external_user_name,externalAccessToken:t.external_access_token,email:t.email,firstName:t.first_name,lastName:t.last_name},i.path("/associate");else{var r={provider:t.provider,externalAccessToken:t.external_access_token};f.obtainAccessToken(r).then(function(){var n=sessionStorage.getItem("return_url");n!=null?(sessionStorage.removeItem("return_url"),i.path(n)):i.path("/dashboard")},function(t){n.message=t.error_description})}})};var s=function(n){var t=o.open({animation:!0,templateUrl:n,controller:function(){},size:"lg"})};n.showTerms=function(){s("views/TermsView.html")};n.showPrivacy=function(){s("views/PrivacyView.html")}});angular.module("courier").controller("homeController",function(n,t,r,u,f,e,o,s){var c,h;n.classsetactive=2;n.locationfrom="";n.locationto="";n.serviceBase=e.API_BASE_PATH;u.get(e.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(t){n.countries=t.data.response;n.getLocation()});n.search=function(){$(".quote_date").val().length!=0&&(e.searchcriteria.datefrom=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]),$(".quote_date1").val().length!=0)&&(e.searchcriteria.dateto=new Date($(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+"/"+$(".quote_date1").val().split("-")[2]),n.locationto.trim()!=n.locationfrom.trim()?(e.searchcriteria.locationfrom=n.locationfrom,e.searchcriteria.locationto=n.locationto,e.searchcriteria.type=n.type,r.path("/search")):n.locationto="")};n.updatesearchtype=function(t){n.type=t};n.type="Transporter";n.checklocation=function(){var r=0,t;if(typeof n.locationfrom!="undefined"&&n.locationfrom!==""&&n.locationfrom!=null&&n.locationfrom.length>0)for(i=0;i<n.countries.length;i++)n.countries[i].location==n.locationfrom&&r==1,r==0&&n.countries.length-1==i;if(t=0,typeof n.locationto!="undefined"&&n.locationto!==""&&n.locationto!=null&&n.locationto.length>0)for(i=0;i<n.countries.length;i++)n.countries[i].location==n.locationto&&t==1,t==0&&n.countries.length-1==i};n.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(results=c(n.term),res=results,u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};c=function(t){var r=[];for(i=0;i<n.countries.length;i++){if(r.length>10)break;n.countries[i].location.toLowerCase().indexOf(t.toLowerCase())==0&&r.push(n.countries[i])}for(i=0;i<n.countries.length;i++){if(r.length>10)break;n.countries[i].location.toLowerCase().indexOf(t.toLowerCase())>0&&r.push(n.countries[i])}return r};h=new Date;n.dateFrom=h.setDate((new Date).getDate()+0);n.dateTo=h.setDate((new Date).getDate()+2);n.setdate=function(t){var i;$(".quote_date").val("");$(".quote_date1").val("");t=parseInt(t);t==0&&(n.classsetactive=0,i=new Date,n.dateFrom=new Date,n.dateTo=i.setDate((new Date).getDate()+0),$(".quote_date").val(moment(n.dateFrom).format("DD-MM-YYYY")),$(".quote_date1").val(moment(n.dateTo).format("DD-MM-YYYY")));t==2&&(n.classsetactive=2,i=new Date,n.dateFrom=new Date,n.dateTo=i.setDate((new Date).getDate()+2),$(".quote_date").val(moment(n.dateFrom).format("DD-MM-YYYY")),$(".quote_date1").val(moment(n.dateTo).format("DD-MM-YYYY")));t==5&&(n.classsetactive=5,i=new Date,n.dateFrom=new Date,n.dateTo=i.setDate((new Date).getDate()+5),$(".quote_date").val(moment(n.dateFrom).format("DD-MM-YYYY")),$(".quote_date1").val(moment(n.dateTo).format("DD-MM-YYYY")))};n.dt=new Date;n.disabled=function(n,t){return t==="day"&&!1};h=new Date;n.maxDate=h.setDate((new Date).getDate()+180);n.open0=function(t){t.preventDefault();t.stopPropagation();n.status0.opened=!0};s.getMysliderlist().then(function(t){var r=[];for(i=0;i<t.data.response.length;i++)t.data.response[i].status=="Y"&&r.push(t.data.response[i]);n.sliderimages=r});n.open1=function(t){t.preventDefault();t.stopPropagation();n.status1.opened=!0};n.status0={opened:!1};n.status1={opened:!1};n.lat="0";n.lng="0";n.accuracy="0";n.error="";n.model={myMap:undefined};n.myMarkers=[];n.showResult=function(){return n.error==""};n.mapOptions={center:new google.maps.LatLng(n.lat,n.lng),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};n.showPosition=function(t){n.lat=t.coords.latitude;n.lng=t.coords.longitude;n.accuracy=t.coords.accuracy;n.$apply();var u=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),f=new google.maps.Geocoder,r;f.geocode({latLng:u},function(t,u){if(u==google.maps.GeocoderStatus.OK&&t[0]){var e=t[0].formatted_address,f=e.split(",");for(count=f.length,country=f[count-1],state=f[count-2],r=f[count-3],i=0;i<n.countries.length;i++)if(n.countries[i].location.toLowerCase().indexOf(r.toLowerCase().trim())==0){n.locationfrom=n.countries[i].location;break}}})};n.showError=function(t){switch(t.code){case t.PERMISSION_DENIED:n.error="User denied the request for Geolocation.";break;case t.POSITION_UNAVAILABLE:n.error="Location information is unavailable.";break;case t.TIMEOUT:n.error="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:n.error="An unknown error occurred."}n.$apply()};n.getLocation=function(){typeof google!="undefined"&&google!==""&&google!=null&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(n.showPosition,n.showError):n.error="Geolocation is not supported by this browser.")}});angular.module("courier").controller("searchController",function(n,t,r,u,f,e,o,s,h,c){function p(n,t){return Math.round((t-n)/864e5)}var l,a,v,y;n.transporters=[];n.classsetactive=2;n.senders=[];n.authuser=s.authentication;n.countries=[];n.submitted=!0;n.countavailablequantities=0;e.searchcriteria.datefrom!=""&&e.searchcriteria.datefrom!="Invalid Date"?n.dateFrom=e.searchcriteria.datefrom:e.searchcriteria.datefrom="";e.searchcriteria.dateto!=""&&e.searchcriteria.dateto!="Invalid Date"?n.dateTo=e.searchcriteria.dateto:e.searchcriteria.dateto="";l=p(n.dateFrom,n.dateTo);(l==0||l==2||l==5)&&(n.classsetactive=l);n.locationfrom=e.searchcriteria.locationfrom;n.locationto=e.searchcriteria.locationto;n.type=e.searchcriteria.type;u.get(e.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(t){n.countries=t.data.response});trans=$("#example").DataTable();sender=$("#example1").DataTable();a=function(){n.submitted=!1;n.transporters=[];n.senders=[];o.searchAdvanced(n.dateFrom,n.dateTo,n.locationfrom,n.locationto,n.type).then(function(t){var f=t.data.response,r,u;if(n.countavailablequantities=0,n.submitted=!0,trans.clear().draw(),sender.clear().draw(),n.type=="Transporter")for(n.senders=[],n.transporters=f,i=0;i<n.transporters.length;i++)r=n.transporters[i].dep_time.split("-"),u=r[2].split(" "),n.transporters[i].dep_time=new Date(r[1]+"/"+u[0]+"/"+r[0]+" "+u[1]),r=n.transporters[i].arrival_time.split("-"),u=r[2].split(" "),n.transporters[i].arrival_time=new Date(r[1]+"/"+u[0]+"/"+r[0]+" "+u[1]),n.countavailablequantities=parseFloat(n.countavailablequantities)+parseFloat(n.transporters[i].capacity),trans.row.add(["T"+n.transporters[i].id,n.transporters[i].source,n.transporters[i].destination,moment(n.transporters[i].dep_time).format("DD/MM/YYYY, h:mm a"),moment(n.transporters[i].arrival_time).format("DD/MM/YYYY, h:mm a"),n.transporters[i].capacity,n.transporters[i].capacity>0?"<a href='javascript:void(0);' ng-click='createcourierrequest("+n.transporters[i].id+")' onclick='createcourierrequest("+n.transporters[i].id+")' class='btn btn-primary'>Create Courier Request<\/a>":"<span class='alert-danger'>Fully Booked<\/span>"]).draw(),c($("#example").html())(n);else for(n.transporters=[],n.senders=f,i=0;i<n.senders.length;i++)n.countavailablequantities=parseFloat(n.countavailablequantities)+parseFloat(n.senders[i].weight),sender.row.add([n.senders[i].source,n.senders[i].destination,n.senders[i].till_date,n.senders[i].type=="E"?"Envelope":n.senders[i].type=="B"?"Box":n.senders[i].type=="P"?"Packet":n.senders[i].type,n.senders[i].weight,"<a href='javascript:void(0);' ng-click='senderbooknow("+n.senders[i].id+")' onclick='senderbooknow("+n.senders[i].id+")' class='btn btn-primary'>Book Now<\/a>"]).draw(),c($("#example1").html())(n)})};n.createcourierrequest=function(n){s.authentication.isAuth?r.go("transbooking",{id:n}):(sessionStorage.setItem("return_url","/transbooking/"+n),r.go("login"))};n.senderbooknow=function(n){s.authentication.isAuth?r.go("parcelbooking",{id:n}):(sessionStorage.setItem("return_url","/parcelbooking/"+n),r.go("login"))};n.search=function(){($(".quote_date").val().length>0&&(n.dateFrom=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2])),$(".quote_date1").val().length>0&&(n.dateTo=new Date($(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+"/"+$(".quote_date1").val().split("-")[2])),n.locationto.trim().length!=0&&n.locationfrom.trim().length!=0)&&n.locationto.trim()!=n.locationfrom.trim()&&(a(),e.searchcriteria.datefrom=n.dateFrom,e.searchcriteria.dateto=n.dateTo,e.searchcriteria.locationfrom=n.locationfrom,e.searchcriteria.locationto=n.locationto,e.searchcriteria.type=n.type)};a();n.checklocation=function(){var r=0,t;if(typeof n.locationfrom!="undefined"&&n.locationfrom!==""&&n.locationfrom!=null&&n.locationfrom.length>0)for(i=0;i<n.countries.length;i++)n.countries[i].location==n.locationfrom&&r==1,r==0&&n.countries.length-1==i;if(t=0,typeof n.locationto!="undefined"&&n.locationto!==""&&n.locationto!=null&&n.locationto.length>0)for(i=0;i<n.countries.length;i++)n.countries[i].location==n.locationto&&t==1,t==0&&n.countries.length-1==i};n.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(res=v(n.term),u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};v=function(t){var r=[];for(i=0;i<n.countries.length;i++){if(r.length>10)break;n.countries[i].location.toLowerCase().indexOf(t.toLowerCase())==0&&r.push(n.countries[i])}for(i=0;i<n.countries.length;i++){if(r.length>10)break;n.countries[i].location.toLowerCase().indexOf(t.toLowerCase())>0&&r.push(n.countries[i])}return r};n.setdate=function(t){var i;t=parseInt(t);t==0&&(n.classsetactive=0,i=new Date,n.dateFrom=new Date,n.dateTo=i.setDate((new Date).getDate()+0),$(".quote_date").val(moment(n.dateFrom).format("DD-MM-YYYY")),$(".quote_date1").val(moment(n.dateTo).format("DD-MM-YYYY")));t==2&&(n.classsetactive=2,i=new Date,n.dateFrom=new Date,n.dateTo=i.setDate((new Date).getDate()+2),$(".quote_date").val(moment(n.dateFrom).format("DD-MM-YYYY")),$(".quote_date1").val(moment(n.dateTo).format("DD-MM-YYYY")));t==5&&(n.classsetactive=5,i=new Date,n.dateFrom=new Date,n.dateTo=i.setDate((new Date).getDate()+5),$(".quote_date").val(moment(n.dateFrom).format("DD-MM-YYYY")),$(".quote_date1").val(moment(n.dateTo).format("DD-MM-YYYY")))};n.dt=new Date;n.disabled=function(n,t){return t==="day"&&!1};y=new Date;n.maxDate=y.setDate((new Date).getDate()+180);n.open0=function(t){t.preventDefault();t.stopPropagation();n.status0.opened=!0};n.open1=function(t){t.preventDefault();t.stopPropagation();n.status1.opened=!0};n.status0={opened:!1};n.status1={opened:!1};n.updatesearchtype=function(t){n.type=t}});angular.module("courier").controller("dashboardController",function(n,t,i,r,u,f,e){if(i.errormessage="",i.successMessage="",i.countrycodes=[{name:"Israel",dial_code:"972",code:"IL"},{name:"Afghanistan",dial_code:"93",code:"AF"},{name:"Albania",dial_code:"355",code:"AL"},{name:"Algeria",dial_code:"213",code:"DZ"},{name:"AmericanSamoa",dial_code:"684",code:"AS"},{name:"Andorra",dial_code:"376",code:"AD"},{name:"Angola",dial_code:"244",code:"AO"},{name:"Anguilla",dial_code:"264",code:"AI"},{name:"Antigua and Barbuda",dial_code:"1268",code:"AG"},{name:"Argentina",dial_code:"54",code:"AR"},{name:"Armenia",dial_code:"374",code:"AM"},{name:"Aruba",dial_code:"297",code:"AW"},{name:"Australia",dial_code:"61",code:"AU"},{name:"Austria",dial_code:"43",code:"AT"},{name:"Azerbaijan",dial_code:"994",code:"AZ"},{name:"Bahamas",dial_code:"242",code:"BS"},{name:"Bahrain",dial_code:"973",code:"BH"},{name:"Bangladesh",dial_code:"880",code:"BD"},{name:"Barbados",dial_code:"246",code:"BB"},{name:"Belarus",dial_code:"375",code:"BY"},{name:"Belgium",dial_code:"32",code:"BE"},{name:"Belize",dial_code:"501",code:"BZ"},{name:"Benin",dial_code:"229",code:"BJ"},{name:"Bermuda",dial_code:"441",code:"BM"},{name:"Bhutan",dial_code:"975",code:"BT"},{name:"Bosnia and Herzegovina",dial_code:"387",code:"BA"},{name:"Botswana",dial_code:"267",code:"BW"},{name:"Brazil",dial_code:"55",code:"BR"},{name:"British Indian Ocean Territory",dial_code:"246",code:"IO"},{name:"Bulgaria",dial_code:"359",code:"BG"},{name:"Burkina Faso",dial_code:"226",code:"BF"},{name:"Burundi",dial_code:"257",code:"BI"},{name:"Cambodia",dial_code:"855",code:"KH"},{name:"Cameroon",dial_code:"237",code:"CM"},{name:"Canada",dial_code:"1",code:"CA"},{name:"Cape Verde",dial_code:"238",code:"CV"},{name:"Cayman Islands",dial_code:" 345",code:"KY"},{name:"Central African Republic",dial_code:"236",code:"CF"},{name:"Chad",dial_code:"235",code:"TD"},{name:"Chile",dial_code:"56",code:"CL"},{name:"China",dial_code:"86",code:"CN"},{name:"Christmas Island",dial_code:"61",code:"CX"},{name:"Colombia",dial_code:"57",code:"CO"},{name:"Comoros",dial_code:"269",code:"KM"},{name:"Congo",dial_code:"242",code:"CG"},{name:"Cook Islands",dial_code:"682",code:"CK"},{name:"Costa Rica",dial_code:"506",code:"CR"},{name:"Croatia",dial_code:"385",code:"HR"},{name:"Cuba",dial_code:"53",code:"CU"},{name:"Cyprus",dial_code:"537",code:"CY"},{name:"Czech Republic",dial_code:"420",code:"CZ"},{name:"Denmark",dial_code:"45",code:"DK"},{name:"Djibouti",dial_code:"253",code:"DJ"},{name:"Dominica",dial_code:"767",code:"DM"},{name:"Dominican Republic",dial_code:"849",code:"DO"},{name:"Ecuador",dial_code:"593",code:"EC"},{name:"Egypt",dial_code:"20",code:"EG"},{name:"El Salvador",dial_code:"503",code:"SV"},{name:"Equatorial Guinea",dial_code:"240",code:"GQ"},{name:"Eritrea",dial_code:"291",code:"ER"},{name:"Estonia",dial_code:"372",code:"EE"},{name:"Ethiopia",dial_code:"251",code:"ET"},{name:"Faroe Islands",dial_code:"298",code:"FO"},{name:"Fiji",dial_code:"679",code:"FJ"},{name:"Finland",dial_code:"358",code:"FI"},{name:"France",dial_code:"33",code:"FR"},{name:"French Guiana",dial_code:"594",code:"GF"},{name:"French Polynesia",dial_code:"689",code:"PF"},{name:"Gabon",dial_code:"241",code:"GA"},{name:"Gambia",dial_code:"220",code:"GM"},{name:"Georgia",dial_code:"995",code:"GE"},{name:"Germany",dial_code:"49",code:"DE"},{name:"Ghana",dial_code:"233",code:"GH"},{name:"Gibraltar",dial_code:"350",code:"GI"},{name:"Greece",dial_code:"30",code:"GR"},{name:"Greenland",dial_code:"299",code:"GL"},{name:"Grenada",dial_code:"473",code:"GD"},{name:"Guadeloupe",dial_code:"590",code:"GP"},{name:"Guam",dial_code:"671",code:"GU"},{name:"Guatemala",dial_code:"502",code:"GT"},{name:"Guinea",dial_code:"224",code:"GN"},{name:"Guinea-Bissau",dial_code:"245",code:"GW"},{name:"Guyana",dial_code:"595",code:"GY"},{name:"Haiti",dial_code:"509",code:"HT"},{name:"Honduras",dial_code:"504",code:"HN"},{name:"Hungary",dial_code:"36",code:"HU"},{name:"Iceland",dial_code:"354",code:"IS"},{name:"India",dial_code:"91",code:"IN"},{name:"Indonesia",dial_code:"62",code:"ID"},{name:"Iraq",dial_code:"964",code:"IQ"},{name:"Ireland",dial_code:"353",code:"IE"},{name:"Israel",dial_code:"972",code:"IL"},{name:"Italy",dial_code:"39",code:"IT"},{name:"Jamaica",dial_code:"876",code:"JM"},{name:"Japan",dial_code:"81",code:"JP"},{name:"Jordan",dial_code:"962",code:"JO"},{name:"Kazakhstan",dial_code:"7 7",code:"KZ"},{name:"Kenya",dial_code:"254",code:"KE"},{name:"Kiribati",dial_code:"686",code:"KI"},{name:"Kuwait",dial_code:"965",code:"KW"},{name:"Kyrgyzstan",dial_code:"996",code:"KG"},{name:"Latvia",dial_code:"371",code:"LV"},{name:"Lebanon",dial_code:"961",code:"LB"},{name:"Lesotho",dial_code:"266",code:"LS"},{name:"Liberia",dial_code:"231",code:"LR"},{name:"Liechtenstein",dial_code:"423",code:"LI"},{name:"Lithuania",dial_code:"370",code:"LT"},{name:"Luxembourg",dial_code:"352",code:"LU"},{name:"Madagascar",dial_code:"261",code:"MG"},{name:"Malawi",dial_code:"265",code:"MW"},{name:"Malaysia",dial_code:"60",code:"MY"},{name:"Maldives",dial_code:"960",code:"MV"},{name:"Mali",dial_code:"223",code:"ML"},{name:"Malta",dial_code:"356",code:"MT"},{name:"Marshall Islands",dial_code:"692",code:"MH"},{name:"Martinique",dial_code:"596",code:"MQ"},{name:"Mauritania",dial_code:"222",code:"MR"},{name:"Mauritius",dial_code:"230",code:"MU"},{name:"Mayotte",dial_code:"262",code:"YT"},{name:"Mexico",dial_code:"52",code:"MX"},{name:"Monaco",dial_code:"377",code:"MC"},{name:"Mongolia",dial_code:"976",code:"MN"},{name:"Montenegro",dial_code:"382",code:"ME"},{name:"Montserrat",dial_code:"1664",code:"MS"},{name:"Morocco",dial_code:"212",code:"MA"},{name:"Myanmar",dial_code:"95",code:"MM"},{name:"Namibia",dial_code:"264",code:"NA"},{name:"Nauru",dial_code:"674",code:"NR"},{name:"Nepal",dial_code:"977",code:"NP"},{name:"Netherlands",dial_code:"31",code:"NL"},{name:"Netherlands Antilles",dial_code:"599",code:"AN"},{name:"New Caledonia",dial_code:"687",code:"NC"},{name:"New Zealand",dial_code:"64",code:"NZ"},{name:"Nicaragua",dial_code:"505",code:"NI"},{name:"Niger",dial_code:"227",code:"NE"},{name:"Nigeria",dial_code:"234",code:"NG"},{name:"Niue",dial_code:"683",code:"NU"},{name:"Norfolk Island",dial_code:"672",code:"NF"},{name:"Northern Mariana Islands",dial_code:"670",code:"MP"},{name:"Norway",dial_code:"47",code:"NO"},{name:"Oman",dial_code:"968",code:"OM"},{name:"Pakistan",dial_code:"92",code:"PK"},{name:"Palau",dial_code:"680",code:"PW"},{name:"Panama",dial_code:"507",code:"PA"},{name:"Papua New Guinea",dial_code:"675",code:"PG"},{name:"Paraguay",dial_code:"595",code:"PY"},{name:"Peru",dial_code:"51",code:"PE"},{name:"Philippines",dial_code:"63",code:"PH"},{name:"Poland",dial_code:"48",code:"PL"},{name:"Portugal",dial_code:"351",code:"PT"},{name:"Puerto Rico",dial_code:"939",code:"PR"},{name:"Qatar",dial_code:"974",code:"QA"},{name:"Romania",dial_code:"40",code:"RO"},{name:"Rwanda",dial_code:"250",code:"RW"},{name:"Samoa",dial_code:"685",code:"WS"},{name:"San Marino",dial_code:"378",code:"SM"},{name:"Saudi Arabia",dial_code:"966",code:"SA"},{name:"Senegal",dial_code:"221",code:"SN"},{name:"Serbia",dial_code:"381",code:"RS"},{name:"Seychelles",dial_code:"248",code:"SC"},{name:"Sierra Leone",dial_code:"232",code:"SL"},{name:"Singapore",dial_code:"65",code:"SG"},{name:"Slovakia",dial_code:"421",code:"SK"},{name:"Slovenia",dial_code:"386",code:"SI"},{name:"Solomon Islands",dial_code:"677",code:"SB"},{name:"South Africa",dial_code:"27",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",dial_code:"500",code:"GS"},{name:"Spain",dial_code:"34",code:"ES"},{name:"Sri Lanka",dial_code:"94",code:"LK"},{name:"Sudan",dial_code:"249",code:"SD"},{name:"Suriname",dial_code:"597",code:"SR"},{name:"Swaziland",dial_code:"268",code:"SZ"},{name:"Sweden",dial_code:"46",code:"SE"},{name:"Switzerland",dial_code:"41",code:"CH"},{name:"Tajikistan",dial_code:"992",code:"TJ"},{name:"Thailand",dial_code:"66",code:"TH"},{name:"Togo",dial_code:"228",code:"TG"},{name:"Tokelau",dial_code:"690",code:"TK"},{name:"Tonga",dial_code:"676",code:"TO"},{name:"Trinidad and Tobago",dial_code:"868",code:"TT"},{name:"Tunisia",dial_code:"216",code:"TN"},{name:"Turkey",dial_code:"90",code:"TR"},{name:"Turkmenistan",dial_code:"993",code:"TM"},{name:"Turks and Caicos Islands",dial_code:"649",code:"TC"},{name:"Tuvalu",dial_code:"688",code:"TV"},{name:"Uganda",dial_code:"256",code:"UG"},{name:"Ukraine",dial_code:"380",code:"UA"},{name:"United Arab Emirates",dial_code:"971",code:"AE"},{name:"United Kingdom",dial_code:"44",code:"GB"},{name:"United States",dial_code:"1",code:"US"},{name:"Uruguay",dial_code:"598",code:"UY"},{name:"Uzbekistan",dial_code:"998",code:"UZ"},{name:"Vanuatu",dial_code:"678",code:"VU"},{name:"Wallis and Futuna",dial_code:"681",code:"WF"},{name:"Yemen",dial_code:"967",code:"YE"},{name:"Zambia",dial_code:"260",code:"ZM"},{name:"Zimbabwe",dial_code:"263",code:"ZW"},{name:"land Islands",dial_code:"",code:"AX"},{name:"Antarctica",dial_code:null,code:"AQ"},{name:"Bolivia, Plurinational State of",dial_code:"591",code:"BO"},{name:"Brunei Darussalam",dial_code:"673",code:"BN"},{name:"Cocos (Keeling) Islands",dial_code:"61",code:"CC"},{name:"Congo, The Democratic Republic of the",dial_code:"243",code:"CD"},{name:"Cote d'Ivoire",dial_code:"225",code:"CI"},{name:"Falkland Islands (Malvinas)",dial_code:"500",code:"FK"},{name:"Guernsey",dial_code:"44",code:"GG"},{name:"Holy See (Vatican City State)",dial_code:"379",code:"VA"},{name:"Hong Kong",dial_code:"852",code:"HK"},{name:"Iran, Islamic Republic of",dial_code:"98",code:"IR"},{name:"Isle of Man",dial_code:"44",code:"IM"},{name:"Jersey",dial_code:"44",code:"JE"},{name:"Korea, Democratic People's Republic of",dial_code:"850",code:"KP"},{name:"Korea, Republic of",dial_code:"82",code:"KR"},{name:"Lao People's Democratic Republic",dial_code:"856",code:"LA"},{name:"Libyan Arab Jamahiriya",dial_code:"218",code:"LY"},{name:"Macao",dial_code:"853",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",dial_code:"389",code:"MK"},{name:"Micronesia, Federated States of",dial_code:"691",code:"FM"},{name:"Moldova, Republic of",dial_code:"373",code:"MD"},{name:"Mozambique",dial_code:"258",code:"MZ"},{name:"Palestinian Territory, Occupied",dial_code:"970",code:"PS"},{name:"Pitcairn",dial_code:"872",code:"PN"},{name:"Runion",dial_code:"262",code:"RE"},{name:"Russia",dial_code:"7",code:"RU"},{name:"Saint Barthlemy",dial_code:"590",code:"BL"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"290",code:"SH"},{name:"Saint Kitts and Nevis",dial_code:"869",code:"KN"},{name:"Saint Lucia",dial_code:"758",code:"LC"},{name:"Saint Martin",dial_code:"590",code:"MF"},{name:"Saint Pierre and Miquelon",dial_code:"508",code:"PM"},{name:"Saint Vincent and the Grenadines",dial_code:"784",code:"VC"},{name:"Sao Tome and Principe",dial_code:"239",code:"ST"},{name:"Somalia",dial_code:"252",code:"SO"},{name:"Svalbard and Jan Mayen",dial_code:"47",code:"SJ"},{name:"Syrian Arab Republic",dial_code:"963",code:"SY"},{name:"Taiwan, Province of China",dial_code:"886",code:"TW"},{name:"Tanzania, United Republic of",dial_code:"255",code:"TZ"},{name:"Timor-Leste",dial_code:"670",code:"TL"},{name:"Venezuela, Bolivarian Republic of",dial_code:"58",code:"VE"},{name:"Viet Nam",dial_code:"84",code:"VN"},{name:"Virgin Islands, British",dial_code:"284",code:"VG"},{name:"Virgin Islands, U.S.",dial_code:"340",code:"VI"}],i.edit=!1,!e.authentication.isAuth){var o=r.path();sessionStorage.setItem("return_url",o);t.transitionTo("login")}i.isActive=function(n){return n===r.path()};i.updatebankdetails=function(n){if(i.errormessage="",i.successMessage="",!n){i.errormessage="Please, fill out all fields!";return}i.userdetails.country_code=$("#mobile").intlTelInput("getSelectedCountryData").dialCode;e.updateuserdetails(i.userdetails).then(function(n){n.status==200&&(i.successMessage="Profile Updated successfully",i.edit=!1)})};i.editform=function(){i.errormessage="";i.successMessage="";i.edit=!0};i.canceleditform=function(){i.errormessage="";i.successMessage="";i.edit=!1};e.getuserdetails(sessionStorage.getItem("UserId")).then(function(n){n.status==200&&(i.userdetails=n.data.response[0],i.userdetails.phone=i.userdetails.phone==0?"":i.userdetails.phone,i.userdetails.altr_mobile=i.userdetails.altr_mobile==0?"":i.userdetails.altr_mobile,$("#mobile").intlTelInput({numberType:"MOBILE",initialCountry:$.grep(i.countrycodes,function(n){return n.dial_code==i.userdetails.country_code})[0].code.toLowerCase()}))})});angular.module("courier").controller("ChangePasswordController",function(n,t,i,r,u,f,e){if(!e.authentication.isAuth){var o=r.path();sessionStorage.setItem("return_url",o);i.transitionTo("login")}t.errormessage="";t.successMessage="";t.isActive=function(n){return n===r.path()};t.changepassword=function(){t.errormessage="";t.successMessage="";var n={userID:sessionStorage.getItem("UserId"),password:t.user.changepasswordcurrentpassword,newpassword:t.user.changepasswordpassword};e.changepassword(n).then(function(n){n.data.status=="success"?(t.successMessage=n.data.response,t.reset()):t.errormessage=n.data.errorMessage})};t.reset=function(){t.user=angular.copy(t.master)}});angular.module("courier").controller("transbookingController",function(n,t,r,u,f,e,o,s){function a(n){return n<.02?500:n<.05?800:n<1?1e3:n<2?1950:n<3?2900:n<4?3800:n<5?4700:n<6?5600:n<7?6500:n<8?7400:n<9?8300:n<=10?9200:0}var v=s.id,h,c,l;o.gettransporterdetails(s.id).then(function(n){n.data.status=="success"&&(u.transporter=n.data.response[0],u.parcelfromloation=u.transporter.source,u.parceltoloation=u.transporter.destination,u.maxcapicity=u.transporter.awailableweight,u.deliverytill=u.transporter.arrival_time)});h=$("#userlist").DataTable({searching:!1,paging:!1});u.registeremail="";u.registername="";e.authentication.isAuth||(c=r.path(),sessionStorage.setItem("return_url",c),t.transitionTo("login"));u.changereceiveruser=function(){u.usersearchvisible=!0;u.$apply()};u.ParcelHeight=0;u.ParcelWidth=0;u.ParcelLength=0;u.userlist=[];u.issummary=!1;u.usersearchclicked=!1;u.usersearchvisible=!0;u.successaddtripMessage="";u.totalamount=0;u.sendinviteuser=function(){var n;if(u.successaddtripMessage="",u.errormessageuser="",u.registeremail==""||u.registername==""){u.errormessageuser="Please fill all mandatory fields!";return}if(!/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(u.registeremail)){u.errormessageuser="Please enter a valid Email ID !";return}n={email:u.registeremail,name:u.registername,number:u.registermobile,message:u.registermessage,UserID:e.authentication.UserId};e.inviteuser(n).then(function(n){n.status==200&&(u.successaddtripMessage="User Invited Successfully",u.userlist=n.data.response,u.userlist.length>0&&(h.clear().draw(),h.row.add([u.userlist[0].UserID,u.userlist[0].username,u.userlist[0].name,u.userlist[0].mobile==0?"":u.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),u.usersearchvisible=!1))})};u.paynow=function(t){if(!t){u.errormessage="Please fill all mandatory fields!";return}e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(t){if(t.status==200)if(t.data.response[0].status=="Y"){if(u.userlist.length==0){u.errormessage="Please Select receiver !";return}var i=a(parseFloat(u.ParcelWeight)),r={source:u.parcelfromloation,destination:u.parceltoloation,till_date:u.deliverytill,type:u.parceltype,weight:parseFloat(u.ParcelWeight),height:u.ParcelHeight,width:u.ParcelWidth,length:u.ParcelLength,created:new Date,usr_id:sessionStorage.getItem("UserId"),recv_id:u.userlist[0].id,status:1,description:u.parceldecsription,payment:parseFloat(i),trans_id:s.id};n.AddParcelData(r).then(function(n){n.status==200&&(location="/#viewparcel/"+n.data.response.id)})}else{u.errormessage="Verification Email Sent on your Email please verify.";return}})};u.deliverytill=new Date;u.errormessage="";u.userlist=[];u.showheight=!1;u.showwidth=!1;u.showlength=!1;u.exitingemail="";u.exitingmobilenumber="";u.value1="true";u.searchuser=function(){u.usersearchclicked=!1;(typeof u.exitingemail=="undefined"||u.exitingemail===""||u.exitingemail==null)&&(typeof u.exitingmobilenumber=="undefined"||u.exitingmobilenumber===""||u.exitingmobilenumber==null)||(console.log(e.authentication.UserId),o.searchuser(u.exitingmobilenumber,u.exitingemail,e.authentication.UserId).then(function(n){u.userlist=n.data.response;u.userlist.length>0&&(h.clear().draw(),h.row.add([u.userlist[0].UserID,u.userlist[0].username,u.userlist[0].name,u.userlist[0].mobile==0?"":u.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),u.usersearchvisible=!1);u.usersearchclicked=!0}))};u.checkdimensions=function(){u.parceltype=="B"?(u.showheight=!0,u.showwidth=!0,u.showlength=!0):(u.showheight=!1,u.showwidth=!1,u.showlength=!1)};u.checklocation=function(){var t=0,n;if(typeof u.locationfrom!="undefined"&&u.locationfrom!==""&&u.locationfrom!=null&&u.locationfrom.length>0)for(i=0;i<u.countries.length;i++)u.countries[i].location==u.locationfrom&&t==1,t==0&&u.countries.length-1==i;if(n=0,typeof u.locationto!="undefined"&&u.locationto!==""&&u.locationto!=null&&u.locationto.length>0)for(i=0;i<u.countries.length;i++)u.countries[i].location==u.locationto&&n==1,n==0&&u.countries.length-1==i};u.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(res=l(n.term),u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};l=function(n){var t=[];for(i=0;i<u.countries.length;i++){if(t.length>10)break;u.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&t.push(u.countries[i])}for(i=0;i<u.countries.length;i++){if(t.length>10)break;u.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&t.push(u.countries[i])}return t};u.search=function(){RESOURCES.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);RESOURCES.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);u.searchfromlocation.trim()!=u.searchtolocation.trim()?(RESOURCES.searchcriteria.locationfrom=u.searchfromlocation,RESOURCES.searchcriteria.locationto=u.searchtolocation,RESOURCES.searchcriteria.type="Transporter",r.path("/search")):u.locationto=""};u.isActive=function(n){return n===r.path()}});angular.module("courier").controller("transporterController",function(n,t,r,u,f,e,o){var s,h;f.authentication.isAuth||(s=u.path(),sessionStorage.setItem("return_url",s),t.transitionTo("login"));r.list=[];r.mainlist=[];dTable=$("#example").DataTable();r.fillgrid=function(){e.getTripsList(sessionStorage.getItem("UserId")).then(function(n){var t,u;if(n.status==200)for(dTable.clear().draw(),r.list=n.data.response,r.mainlist=n.data.response,r.TransporterID=o.tripsearchcriteria.TransporterID,r.departureat=o.tripsearchcriteria.departureat,r.status=o.tripsearchcriteria.status,i=0;i<r.list.length;i++)t=r.list[i].dep_time.split(" "),r.list[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),r.mainlist[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),u=r.list[i].arrival_time.split(" "),r.list[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.mainlist[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.list[i].status=parseInt(r.list[i].status),r.mainlist[i].status=parseInt(r.list[i].status),(r.mainlist[i].status==r.status||typeof r.status=="undefined"||r.status===""||r.status==null)&&(r.mainlist[i].dep_time.getDate()==new Date(r.departureat).getDate()||typeof r.departureat=="undefined"||r.departureat===""||r.departureat==null)&&(r.mainlist[i].TripID.toLowerCase().indexOf(r.TransporterID.toLowerCase())!=-1||typeof r.TransporterID=="undefined"||r.TransporterID===""||r.TransporterID==null)&&dTable.row.add([r.mainlist[i].status==3||r.mainlist[i].status==2||r.mainlist[i].status==6?"<a  href='javascript:void(0);'  onclick='findmatchingparcels("+r.mainlist[i].id+")'   title='Find Matching Parcels'>"+r.mainlist[i].TripID+"<\/a>":r.mainlist[i].TripID,r.mainlist[i].source,r.mainlist[i].destination,r.mainlist[i].awailableweight==null?r.mainlist[i].capacity:r.mainlist[i].awailableweight,r.mainlist[i].statusdescription,r.mainlist[i].status==1||(r.mainlist[i].status==3||r.mainlist[i].status==2)&&r.mainlist[i].awailableweight>0?"<a href='/viewtrip/"+r.mainlist[i].id+"#matches' title='View Trip'>Find Matching Parcels<\/a>":"--NA--",r.mainlist[i].flight_no,moment(r.mainlist[i].dep_time).format("DD/MM/YYYY"),moment(r.mainlist[i].arrival_time).format("DD/MM/YYYY"),"<div class='dropdown'>    <a href='javascript:void()' data-toggle='dropdown' class='dropdown-toggle'>Action<b class='caret'><\/b><\/a>    <ul class='dropdown-menu'>        <li><a href='/viewtrip/"+r.mainlist[i].id+"' title='View Trip'>View Trip<\/a> <\/li>        <li> <a href='/tripedit/"+r.mainlist[i].id+"' title='Edit Trip'>Edit Trip<\/a> <\/li>        <li> <a target='"+(r.mainlist[i].image.length>0?"_blank":"_self")+"' href='"+(r.mainlist[i].image.length>0?o.API_BASE_PATH+r.mainlist[i].image:"/uploadtripticket/"+r.mainlist[i].id)+"'  title='"+(r.mainlist[i].image.length>0?"View Ticket":"Upload Ticket")+"'>"+(r.mainlist[i].image.length>0?"View Ticket":"Upload Ticket")+"<\/a> <\/li><li> <a href='javascript:void(0);'  onclick='canceltriplist("+r.mainlist[i].id+")'   title='Cancel Trip'>Cancel Trip<\/a> <\/li><\/ul><\/div>"]).draw()})};r.navigate=function(n){o.tripid=n;t.transitionTo("login")};r.fillgrid();r.isActive=function(n){return n===u.path()};h=function(){for(r.list=[],dTable.clear().draw(),r.departureat=$(".quote_date").val().length>0?new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]):"",o.tripsearchcriteria.TransporterID=r.TransporterID,o.tripsearchcriteria.departureat=r.departureat,o.tripsearchcriteria.status=r.status,i=0;i<r.mainlist.length;i++)(r.mainlist[i].status==r.status||typeof r.status=="undefined"||r.status===""||r.status==null)&&(r.mainlist[i].dep_time.getDate()==new Date(r.departureat).getDate()||typeof r.departureat=="undefined"||r.departureat===""||r.departureat==null)&&(r.mainlist[i].TripID.toLowerCase().indexOf(r.TransporterID.toLowerCase())!=-1||typeof r.TransporterID=="undefined"||r.TransporterID===""||r.TransporterID==null)&&(r.list.push(r.mainlist[i]),dTable.row.add([r.mainlist[i].status==3||r.mainlist[i].status==2||r.mainlist[i].status==6?"<a  href='javascript:void(0);'  onclick='findmatchingparcels("+r.mainlist[i].id+")'   title='Find Matching Parcels'>"+r.mainlist[i].TripID+"<\/a>":r.mainlist[i].TripID,r.mainlist[i].source,r.mainlist[i].destination,r.mainlist[i].awailableweight==null?r.mainlist[i].capacity:r.mainlist[i].awailableweight,r.mainlist[i].statusdescription,r.mainlist[i].status==1||r.mainlist[i].status==3&&r.mainlist[i].awailableweight>0?"<a href='/viewtrip/"+r.mainlist[i].id+"#matches' title='View Trip'>Find Matching Parcels<\/a>":"",r.mainlist[i].flight_no,moment(r.mainlist[i].dep_time).format("DD/MM/YYYY"),moment(r.mainlist[i].arrival_time).format("DD/MM/YYYY"),"<div class='dropdown'>    <a href='javascript:void()' data-toggle='dropdown' class='dropdown-toggle'>Action<b class='caret'><\/b><\/a>    <ul class='dropdown-menu'>        <li><a href='/viewtrip/"+r.mainlist[i].id+"' title='View Trip'>View Trip<\/a> <\/li>        <li> <a href='/tripedit/"+r.mainlist[i].id+"' title='Cancel Trip'>Edit Trip<\/a> <\/li>        <li> <a target='"+(r.mainlist[i].image.length>0?"_blank":"_self")+"' href='"+(r.mainlist[i].image.length>0?o.API_BASE_PATH+r.mainlist[i].image:"/uploadtripticket/"+r.mainlist[i].id)+"'  title='"+(r.mainlist[i].image.length>0?"View Ticket":"Upload Ticket")+"'>"+(r.mainlist[i].image.length>0?"View Ticket":"Upload Ticket")+"<\/a> <\/li><li> <a href='javascript:void(0);'  onclick='canceltriplist("+r.mainlist[i].id+")'   title='Cancel Trip'>Cancel Trip<\/a> <\/li><\/ul><\/div>"]).draw())};r.searchByFilter=function(){h()};r.parcelcollected=function(t){r.successaddtripMessage="";bootbox.confirm("Are you sure you have collected the parcel?",function(i){if(i){var u={id:r.transporter.id,status:3,process_by:f.authentication.UserId,reason:"Parcel Collected",parcelid:t};e.usrupdatestatus(u).then(function(){n.gettransporterdetails(r.transporter.id).then(function(n){r.parcel=n.data.parcel;r.transporter=n.data.response[0];$("#userdetails").modal("hide")})})}})};r.parceldelivered=function(t){r.successaddtripMessage="";bootbox.confirm("Are you sure you have delivered the parcel?",function(i){if(i){var u={id:r.transporter.id,status:6,process_by:f.authentication.UserId,reason:"Parcel Delivered",parcelid:t};e.usrupdatestatus(u).then(function(){n.gettransporterdetails(r.transporter.id).then(function(n){r.parcel=n.data.parcel;r.transporter=n.data.response[0];$("#userdetails").modal("hide")})})}})};r.findmatchingparcels=function(t){n.gettransporterdetails(t).then(function(n){r.parcel=n.data.parcel;r.transporter=n.data.response[0];$("#userdetails").modal()})};r.cancelparcel=function(n){r.successaddtripMessage="";bootbox.prompt("Reject Reason?",function(t){if(t!==null){var i={id:r.transporter.id,status:9,process_by:f.authentication.UserId,reason:t,parcelid:n};e.cancelparcelbytransporter(i).then(function(n){$("#userdetails").modal("hide");n.status==200&&r.fillgrid()})}})};r.canceltriplist=function(t){r.successaddtripMessage="";bootbox.prompt("Do you want to cancel this Trip? Give Reason.",function(i){if(i!==null){var u={id:t,status:4,process_by:f.authentication.UserId,reason:i};e.usrupdatestatus(u).then(function(){n.gettransporterdetails(r.transporter.id).then(function(n){r.parcel=n.data.parcel;r.transporter=n.data.response[0];$("#userdetails").modal()})})}})};r.showchat=function(n,t){$("#userdetails").modal("hide");angular.element(".chatmessagepopup").scope().showchat(n,t)}});angular.module("courier").controller("addtripsController",function(n,t,r,u,f,e,o,s,h){function c(n,t){return new Date(n+36e5*t)}var l,a;t.errormessage="";t.tripsavemessage="";t.ticket={base64:""};t.successaddtripMessage="";t.countries=[];r.get(h.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){t.countries=n.data.response;$("#durationPicker").durationPicker("seconds",t.tripduration)});t.addtripsdata=function(n){if(t.errormessage="",t.tripsavemessage="",t.successaddtripMessage="",console.log(n),!n){t.errormessage="Please fill all mandatory fields!";return}e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(n){var r,u,i;if(n.status==200)if(n.data.response[0].status=="Y"){if($(".quote_date").val().length==0){t.errormessage="Departure Time Required!";return}if(t.departureon=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime),r=$(".quote_date").val().split("-")[2]+"/"+$(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+" "+t.dtime,$(".quote_date1").val().length==0){t.errormessage="Arrival Time Required!";return}if(t.atime=angular.element("#setTimeExample1").val(),t.arrivalon=new Date($(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+"/"+$(".quote_date1").val().split("-")[2]+" "+t.atime),u=$(".quote_date1").val().split("-")[2]+"/"+$(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+" "+t.atime,!angular.isDate(t.arrivalon)){t.errormessage="Invalid Arrival Time or select Estimate Trip Duration!";return}i={source:t.locationfrom,destination:t.locationto,d_date:r,a_date:u,flight_no:t.flightno,pnr:t.bookingpnr,capacity:t.capacity,comment:t.tripcomment,t_id:sessionStorage.getItem("UserId"),duration:t.tripduration};i.ticket=typeof t.ticket.base64!="undefined"&&t.ticket.base64!==""&&t.ticket.base64!=null?t.ticket.base64:"";o.AddTripsData(i).then(function(n){n.status==200&&(t.successaddtripMessage="Trip Created Successfully Sent for admin Approval",t.tripsavemessage='Trip Created Successfully Sent for admin Approval. <a style="float:right;" href="/viewtrip/'+n.data.response.id+'" aria-controls="home" role="tab" data-toggle="tab"><i class="fa fa-plane" ><\/i> View Trip<\/a>')})}else{t.tripsavemessage="";t.errormessage="Please verify your email before adding trip ! ";return}})};t.changedurationwithoutjavascript=function(){var n,i;if($(".quote_date").val().length==0){t.arrivalon="";return}if((parseInt(t.tripduration)>0?(r=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,t.arrivalon=i):t.arrivalon=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),typeof t.locationfrom!="undefined"&&t.locationfrom!=""&&t.locationfrom!=null)&&typeof t.locationto!="undefined"&&t.locationto!=""&&t.locationto!=null&&typeof t.dtime!="undefined"&&t.dtime!=""&&t.dtime!=null&&typeof t.tripduration!="undefined"&&t.tripduration!==""&&t.tripduration!=null){var u=$.grep(t.countries,function(n){return n.location==t.locationfrom})[0],f=$.grep(t.countries,function(n){return n.location==t.locationto})[0],r=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,e=new Date(i).getTime()+-(u.zone*60)*6e4;t.arrivalon=c(e,f.zone)}};t.changeduration=function(){var n,i;if($(".quote_date").val().length==0){t.arrivalon="";return}if((parseInt(t.tripduration)>0?(r=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,t.arrivalon=i):t.arrivalon=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),t.$apply(),typeof t.locationfrom!="undefined"&&t.locationfrom!=""&&t.locationfrom!=null)&&typeof t.locationto!="undefined"&&t.locationto!=""&&t.locationto!=null&&typeof t.dtime!="undefined"&&t.dtime!=""&&t.dtime!=null&&typeof t.tripduration!="undefined"&&t.tripduration!==""&&t.tripduration!=null){var u=$.grep(t.countries,function(n){return n.location==t.locationfrom})[0],f=$.grep(t.countries,function(n){return n.location==t.locationto})[0],r=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,e=new Date(i).getTime()+-(u.zone*60)*6e4;t.arrivalon=c(e,f.zone);t.$apply()}};t.applychanges=function(){t.$apply()};t.dhours="1";t.dminutes="0";t.dampm="am";t.ahours="1";t.aminutes="0";t.aampm="am";t.checklocation=function(){var r=0,n;if(typeof t.locationfrom!="undefined"&&t.locationfrom!==""&&t.locationfrom!=null&&t.locationfrom.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationfrom&&r==1,r==0&&t.countries.length-1==i;if(n=0,typeof t.locationto!="undefined"&&t.locationto!==""&&t.locationto!=null&&t.locationto.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationto&&n==1,n==0&&t.countries.length-1==i};t.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(results=l(n.term),res=results,u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};l=function(n){var r=[];for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&r.push(t.countries[i])}for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&r.push(t.countries[i])}return r};e.authentication.isAuth||(a=f.path(),sessionStorage.setItem("return_url",a),u.transitionTo("login"));t.isActive=function(n){return n===f.path()};t.dateFromsearch=h.searchcriteria.datefrom;t.dateTosearch=h.searchcriteria.dateto;t.searchfromlocation=h.searchcriteria.locationfrom;t.locationfrom=h.searchcriteria.locationfrom;t.searchtolocation=h.searchcriteria.locationto;t.locationto=h.searchcriteria.locationto;t.search=function(){h.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);h.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);t.searchfromlocation.trim()!=t.searchtolocation.trim()?(h.searchcriteria.locationfrom=t.searchfromlocation,h.searchcriteria.locationto=t.searchtolocation,h.searchcriteria.type="Sender",f.path("/search")):t.searchtolocation=""}});angular.module("courier").controller("BankdetailsController",function(n,t,i,r,u,f){if(i.errormessage="",i.successMessage="",!f.authentication.isAuth){var e=r.path();sessionStorage.setItem("return_url",e);t.transitionTo("login")}i.isActive=function(n){return n===r.path()};i.updatebankdetails=function(n){if(i.errormessage="",i.successMessage="",!n){i.errormessage="Please, fill out all fields!";return}f.updateuserdetails(i.userdetails).then(function(n){n.status==200&&(i.successMessage=" Bank details added successfully ")})};f.getuserdetails(sessionStorage.getItem("UserId")).then(function(n){n.status==200&&(i.userdetails=n.data.response[0],i.rbank_act_no=n.data.response[0].bank_act_no)})});angular.module("courier").controller("CancelledtripsController",function(n,t,r,u,f,e){if(!f.authentication.isAuth){var o=u.path();sessionStorage.setItem("return_url",o);r.transitionTo("login")}t.list=[];t.mainlist=[];dTable=$("#example").DataTable();e.getcalcelledTripsList(sessionStorage.getItem("UserId")).then(function(n){var r,u;if(n.status==200)for(t.list=n.data.response,t.mainlist=n.data.response,i=0;i<t.list.length;i++)r=t.list[i].dep_time.split(" "),t.list[i].dep_time=new Date(r[0].split("-")[1]+"/"+r[0].split("-")[2]+"/"+r[0].split("-")[0]+" "+r[1]),t.mainlist[i].dep_time=new Date(r[0].split("-")[1]+"/"+r[0].split("-")[2]+"/"+r[0].split("-")[0]+" "+r[1]),u=t.list[i].arrival_time.split(" "),t.list[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),t.mainlist[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),t.list[i].status=parseInt(t.list[i].status),t.mainlist[i].status=parseInt(t.list[i].status),dTable.row.add([t.mainlist[i].TripID,t.mainlist[i].source,t.mainlist[i].destination,t.mainlist[i].flight_no,t.mainlist[i].capacity,t.mainlist[i].capacity,t.mainlist[i].statusdescription]).draw()});t.isActive=function(n){return n===u.path()}});angular.module("courier").controller("WidrowamountController",function(n,t,i,r,u,f){if(!u.authentication.isAuth){var e=r.path();sessionStorage.setItem("return_url",e);i.transitionTo("login")}t.errormessage="";t.successMessage="";t.paymentlist=[];t.isActive=function(n){return n===r.path()};u.getuserdetails(sessionStorage.getItem("UserId")).then(function(n){n.status==200&&(t.userdetails=n.data.response[0],t.userdetails.targetamount=parseFloat(t.userdetails.wallet),t.userdetails.rbank_act_no=n.data.response[0].bank_act_no)});f.paymentrequestlist(sessionStorage.getItem("UserId")).then(function(n){t.paymentlist=n.data.response});t.submitbankdetails=function(n){if(t.errormessage="",t.successMessage="",!n){t.errormessage="Please, fill out all fields!";return}var i={trans_id:sessionStorage.getItem("UserId"),amount:t.userdetails.targetamount,bank_name:t.userdetails.bank_name,acct_no:t.userdetails.bank_act_no,ifsc:t.userdetails.bank_ifsc,status:"N",created:new Date,swift_code:t.userdetails.bank_swift_code,act_name:t.userdetails.bank_act_name};f.createpaymentrequest(i).then(function(n){n.status==200&&f.paymentrequestlist(sessionStorage.getItem("UserId")).then(function(n){t.paymentlist=n.data.response;u.getuserdetails(sessionStorage.getItem("UserId")).then(function(n){n.status==200&&(t.userdetails=n.data.response[0],t.userdetails.targetamount=parseFloat(t.userdetails.wallet),t.successMessage="Payment Request Created Successfully",$("#login-modal").modal("hide"))})})})}});angular.module("courier").controller("edittripsController",function(n,t,r,u,f,e,o,s,h,c){function l(){e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(n){var i,r,u;if(n.status==200)if(n.data.response[0].status=="Y"){if(t.departureon=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+t.dtime),i=$(".quote_date").val().split("-")[2]+"/"+$(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+" "+t.dtime,t.atime=moment(t.arrivalon).format("h:mm"),t.arrivalon=new Date($(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+"/"+$(".quote_date1").val().split("-")[2]+" "+t.atime),r=$(".quote_date1").val().split("-")[2]+"/"+$(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+" "+t.atime,t.arrivalon=new Date($(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+"/"+$(".quote_date1").val().split("-")[2]+" "+t.atime.split(":")[0]+":"+t.atime.split(":")[1].substring(0,2)+" "+t.atime.split(":")[1].substring(2)),!angular.isDate(t.departureon)){t.errormessage="Invalid Departure!";return}u={source:t.locationfrom,destination:t.locationto,d_date:i,a_date:r,flight_no:t.flightno,pnr:t.bookingpnr,capacity:t.capacity,comment:t.tripcomment,t_id:sessionStorage.getItem("UserId"),id:s.id,duration:t.tripduration,status:t.transporter.status};o.updateTripsData(u).then(function(n){n.status==200&&(c.gettransporterdetails(s.id).then(function(n){var i,r;n.data.status=="success"&&(t.transporter=n.data.response[0],t.locationfrom=t.transporter.source,t.locationto=t.transporter.destination,i=t.transporter.dep_time.split("-"),r=i[2].split(" "),t.dtime=r[1],t.departureon=new Date(i[1]+"/"+r[0]+"/"+i[0]+" "+r[1]),i=t.transporter.arrival_time.split("-"),r=i[2].split(" "),t.atime=r[1],t.arrivalon=new Date(i[1]+"/"+r[0]+"/"+i[0]+" "+r[1]),t.flightno=t.transporter.flight_no,t.bookingpnr=t.transporter.pnr,t.capacity=parseFloat(t.transporter.capacity),t.tripcomment=t.transporter.comment,t.tripduration=parseInt(t.transporter.duration))}),t.successaddtripMessage='Trip Updated Successfully Sent for admin Approval.  <a style="float:right;" href="/viewtrip/'+t.transporter.id+'" aria-controls="home" role="tab" data-toggle="tab"><i class="fa fa-plane" ><\/i> View Trip<\/a>')})}else{t.errormessage="Verification Email Sent on your Email please verify.";return}})}function a(n,t){return new Date(n+36e5*t)}var p=s.id,v,y;r.get(h.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){t.countries=n.data.response});c.gettransporterdetails(s.id).then(function(n){var i,r;n.data.status=="success"&&(t.transporter=n.data.response[0],t.locationfrom=t.transporter.source,t.locationto=t.transporter.destination,i=t.transporter.dep_time.split("-"),r=i[2].split(" "),e.authentication.UserId!=t.transporter.t_id&&u.transitionTo("home"),t.dtime=r[1].substring(0,5),t.tripduration=parseInt(t.transporter.duration),$("#durationPicker").durationPicker("seconds",t.tripduration),t.departureon=new Date(i[1]+"/"+r[0]+"/"+i[0]+" "+r[1]),i=t.transporter.arrival_time.split("-"),r=i[2].split(" "),t.atime=r[1].substring(0,5),t.arrivalon=new Date(i[1]+"/"+r[0]+"/"+i[0]+" "+r[1]),t.flightno=t.transporter.flight_no,t.bookingpnr=t.transporter.pnr,t.capacity=parseFloat(t.transporter.capacity),t.tripcomment=t.transporter.comment)});t.errormessage="";t.ticket={base64:""};t.successaddtripMessage="";t.addtripsdata=function(n){if(t.errormessage="",t.successaddtripMessage="",!n){t.errormessage="Please fill all mandatory fields!";return}t.transporter.status==3?bootbox.confirm("This trip has a confirmed Booking. Changing the trip will cancel the booking  \n Want To Proceed ?",function(n){if(n)l();else return this.modal("hide"),!1}):l()};t.changedurationwithoutjavascript=function(){var n,i;if($(".quote_date").val().value.length==0){t.arrivalon="";return}if((parseInt(t.tripduration)>0?(r=new Date($(".quote_date").val().value.split("-")[1]+"/"+$(".quote_date").val().value.split("-")[0]+"/"+$(".quote_date").val().value.split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,t.arrivalon=i):t.arrivalon=new Date($(".quote_date").val().value.split("-")[1]+"/"+$(".quote_date").val().value.split("-")[0]+"/"+$(".quote_date").val().value.split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),typeof t.locationfrom!="undefined"&&t.locationfrom!=""&&t.locationfrom!=null)&&typeof t.locationto!="undefined"&&t.locationto!=""&&t.locationto!=null&&typeof t.dtime!="undefined"&&t.dtime!=""&&t.dtime!=null&&typeof t.tripduration!="undefined"&&t.tripduration!==""&&t.tripduration!=null){var u=$.grep(t.countries,function(n){return n.location==t.locationfrom})[0],f=$.grep(t.countries,function(n){return n.location==t.locationto})[0],r=new Date($(".quote_date").val().value.split("-")[1]+"/"+$(".quote_date").val().value.split("-")[0]+"/"+$(".quote_date").val().value.split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,e=new Date(i).getTime()+-(u.zone*60)*6e4;t.arrivalon=a(e,f.zone)}};t.changeduration=function(){var n,i;if($(".quote_date").val().value.length==0){t.arrivalon="";return}if((parseInt(t.tripduration)>0?(r=new Date($(".quote_date").val().value.split("-")[1]+"/"+$(".quote_date").val().value.split("-")[0]+"/"+$(".quote_date").val().value.split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,t.arrivalon=i):t.arrivalon=new Date($(".quote_date").val().value.split("-")[1]+"/"+$(".quote_date").val().value.split("-")[0]+"/"+$(".quote_date").val().value.split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),t.$apply(),typeof t.locationfrom!="undefined"&&t.locationfrom!=""&&t.locationfrom!=null)&&typeof t.locationto!="undefined"&&t.locationto!=""&&t.locationto!=null&&typeof t.dtime!="undefined"&&t.dtime!=""&&t.dtime!=null&&typeof t.tripduration!="undefined"&&t.tripduration!==""&&t.tripduration!=null){var u=$.grep(t.countries,function(n){return n.location==t.locationfrom})[0],f=$.grep(t.countries,function(n){return n.location==t.locationto})[0],r=new Date($(".quote_date").val().value.split("-")[1]+"/"+$(".quote_date").val().value.split("-")[0]+"/"+$(".quote_date").val().value.split("-")[2]+" "+t.dtime.split(":")[0]+":"+t.dtime.split(":")[1].substring(0,2)+" "+t.dtime.split(":")[1].substring(2)),n=parseFloat(t.tripduration*60),i=r.getTime()+1e3*n,e=new Date(i).getTime()+-(u.zone*60)*6e4;t.arrivalon=a(e,f.zone);t.$apply()}};t.applychanges=function(){t.$apply()};t.dhours="1";t.dminutes="0";t.dampm="am";t.ahours="1";t.aminutes="0";t.aampm="am";t.checklocation=function(){var r=0,n;if(typeof t.locationfrom!="undefined"&&t.locationfrom!==""&&t.locationfrom!=null&&t.locationfrom.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationfrom&&r==1,r==0&&t.countries.length-1==i;if(n=0,typeof t.locationto!="undefined"&&t.locationto!==""&&t.locationto!=null&&t.locationto.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationto&&n==1,n==0&&t.countries.length-1==i};t.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(res=v(n.term),u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};v=function(n){var r=[];for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&r.push(t.countries[i])}for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&r.push(t.countries[i])}return r};e.authentication.isAuth||(y=f.path(),sessionStorage.setItem("return_url",y),u.transitionTo("login"));t.isActive=function(n){return n===f.path()};t.search=function(){h.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);h.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);t.searchfromlocation.trim()!=t.searchtolocation.trim()?(h.searchcriteria.locationfrom=t.searchfromlocation,h.searchcriteria.locationto=t.searchtolocation,h.searchcriteria.type="Sender",f.path("/search")):t.searchtolocation=""}});angular.module("courier").controller("uploadtripsticketController",function(n,t,r,u,f,e,o,s,h){var a=s.id,c,l;t.errormessage="";t.ticket={base64:""};t.successaddtripMessage="";r.get(h.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){t.countries=n.data.response});t.addtripsdata=function(n){if(t.errormessage="",t.successaddtripMessage="",!n){t.errormessage="Please fill all mandatory fields!";return}e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(n){if(n.status==200)if(n.data.response[0].status=="Y"){var i={id:s.id};i.ticket=typeof t.ticket.base64!="undefined"&&t.ticket.base64!==""&&t.ticket.base64!=null?t.ticket.base64:"";o.updateticketTripsData(i).then(function(n){n.status==200&&(bootbox.alert("Trip Ticket Added Successfully.",function(){u.transitionTo("transporter")}),t.successaddtripMessage="Trip Ticket Added Successfully.")})}else{t.errormessage="Verification Email Sent on your Email please verify.";return}})};t.dhours="1";t.dminutes="0";t.dampm="am";t.ahours="1";t.aminutes="0";t.aampm="am";t.checklocation=function(){var r=0,n;if(typeof t.locationfrom!="undefined"&&t.locationfrom!==""&&t.locationfrom!=null&&t.locationfrom.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationfrom&&r==1,r==0&&t.countries.length-1==i;if(n=0,typeof t.locationto!="undefined"&&t.locationto!==""&&t.locationto!=null&&t.locationto.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationto&&n==1,n==0&&t.countries.length-1==i};t.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(res=c(n.term),u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};c=function(n){var r=[];for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&r.push(t.countries[i])}for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&r.push(t.countries[i])}return r};e.authentication.isAuth||(l=f.path(),sessionStorage.setItem("return_url",l),u.transitionTo("login"));t.isActive=function(n){return n===f.path()};t.search=function(){h.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);h.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);t.searchfromlocation.trim()!=t.searchtolocation.trim()?(h.searchcriteria.locationfrom=t.searchfromlocation,h.searchcriteria.locationto=t.searchtolocation,h.searchcriteria.type="Sender",f.path("/search")):t.locationto=""}});angular.module("courier").controller("viewtripsController",function(n,t,r,u,f,e,o,s,h,c){var l,a,y,v;e.authentication.isAuth||(l=f.path(),sessionStorage.setItem("return_url",l),u.transitionTo("login"));r.get(h.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(t){n.countries=t.data.response});a=f.url();a.match("#matches")&&$("html, body").animate({scrollTop:300},"slow");n.parcellist=[];sender=$("#example1").DataTable();n.isActive=function(n){return n===f.path()};y=s.id;n.parcel=[];n.transporter={};n.cancelparcel=function(t){n.successaddtripMessage="";bootbox.prompt("Reject Reason?",function(i){if(i!==null){var r={id:n.transporter.id,status:9,process_by:e.authentication.UserId,reason:i,parcelid:t};o.cancelparcelbytransporter(r).then(function(n){$("#userdetails").modal("hide");n.status==200&&u.go(u.current,{},{reload:!0})})}})};n.filldetails=function(){c.gettransporterdetails(s.id).then(function(r){var f,o;if(r.data.status=="success"){if(n.transporter=r.data.response[0],e.authentication.UserId!=n.transporter.t_id&&u.transitionTo("home"),f=n.transporter.dep_time.split(" "),n.transporter.dep_time=new Date(f[0].split("-")[1]+"/"+f[0].split("-")[2]+"/"+f[0].split("-")[0]+" "+f[1]).getTime(),o=n.transporter.arrival_time.split(" "),n.transporter.arrival_time=new Date(o[0].split("-")[1]+"/"+o[0].split("-")[2]+"/"+o[0].split("-")[0]+" "+o[1]).getTime(),r.data.parcellist!==null&&typeof r.data.parcellist!="undefined")for(n.parcellist=r.data.parcellist,sender.clear().draw(),i=0;i<n.parcellist.length;i++)sender.row.add([n.parcellist[i].source,n.parcellist[i].destination,n.parcellist[i].till_date,n.parcellist[i].type=="E"?"Envelope":n.parcellist[i].type=="B"?"Box":n.parcellist[i].type=="P"?"Packet":n.parcellist[i].type,n.parcellist[i].weight,t("currency")(n.parcellist[i].payment,"&#8377;"),"<a href='javascript:void(0);' ng-click='senderbooknow("+n.parcellist[i].id+")' onclick='senderbooknow("+n.parcellist[i].id+")' class='btn btn-primary'>Book Now<\/a>"]).draw();else n.parcellist=[];(n.transporter.status==3||n.transporter.status==2||n.transporter.status==6)&&(n.parcel=r.data.parcel);n.transporter.link="<a target='"+(n.transporter.image.length>0?"_blank":"_self")+"' href='"+(n.transporter.image.length>0?h.API_BASE_PATH+n.transporter.image:"/uploadtripticket/"+n.transporter.id)+"'  title='"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"'>"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"<\/a>"}})};n.filldetails();n.viewuserdetails=function(t){e.getuserdetails(t).then(function(t){t.data.status!="Error"&&(n.userdetails=t.data.response[0],$("#userdetails").modal())})};n.showchat=function(n,t){angular.element(".chatmessagepopup").scope().showchat(n,t)};n.canceltriplist=function(t){n.successaddtripMessage="";bootbox.prompt("Do you want to cancel this Trip? Give Reason.",function(r){if(r!==null){var u={id:t,status:4,process_by:e.authentication.UserId,reason:r};o.usrupdatestatus(u).then(function(t){t.status==200&&c.gettransporterdetails(s.id).then(function(t){if(t.data.status=="success"){if(n.transporter=t.data.response[0],t.data.parcellist!==null&&typeof t.data.parcellist!="undefined")for(n.parcellist=t.data.parcellist,sender.clear().draw(),i=0;i<n.parcellist.length;i++)sender.row.add([n.parcellist[i].source,n.parcellist[i].destination,n.parcellist[i].till_date,n.parcellist[i].type=="E"?"Envelope":n.parcellist[i].type=="B"?"Box":n.parcellist[i].type=="P"?"Packet":n.parcellist[i].type,"<a href='javascript:void(0);' ng-click='senderbooknow("+n.parcellist[i].id+")' onclick='senderbooknow("+n.parcellist[i].id+")' class='btn btn-primary'>Book Now<\/a>"]).draw();else n.parcellist=[];(n.transporter.status==3||n.transporter.status==6)&&(n.parcel=t.data.parcel);n.successaddtripMessage="Trip Successfully Updated.";n.transporter.link="<a target='"+(n.transporter.image.length>0?"_blank":"_self")+"' href='"+(n.transporter.image.length>0?h.API_BASE_PATH+n.transporter.image:"/uploadtripticket/"+n.transporter.id)+"'  title='"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"'>"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"<\/a>"}})})}})};n.parcelcollected=function(t){n.successaddtripMessage="";bootbox.confirm("Are you sure you have collected the parcel?",function(r){if(r){var u={id:n.transporter.id,status:3,process_by:e.authentication.UserId,reason:"Parcel Collected",parcelid:t};o.usrupdatestatus(u).then(function(t){t.status==200&&c.gettransporterdetails(s.id).then(function(t){if(t.data.status=="success"){if(n.transporter=t.data.response[0],t.data.parcellist!==null&&typeof t.data.parcellist!="undefined")for(n.parcellist=t.data.parcellist,sender.clear().draw(),i=0;i<n.parcellist.length;i++)sender.row.add([n.parcellist[i].source,n.parcellist[i].destination,n.parcellist[i].till_date,n.parcellist[i].type=="E"?"Envelope":n.parcellist[i].type=="B"?"Box":n.parcellist[i].type=="P"?"Packet":n.parcellist[i].type,"<a href='javascript:void(0);' ng-click='senderbooknow("+n.parcellist[i].id+")' onclick='senderbooknow("+n.parcellist[i].id+")' class='btn btn-primary'>Book Now<\/a>"]).draw();else n.parcellist=[];(n.transporter.status==3||n.transporter.status==6)&&(n.parcel=t.data.parcel);n.successaddtripMessage="Parcel Updated Successfully";n.transporter.link="<a target='"+(n.transporter.image.length>0?"_blank":"_self")+"' href='"+(n.transporter.image.length>0?h.API_BASE_PATH+n.transporter.image:"/uploadtripticket/"+n.transporter.id)+"'  title='"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"'>"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"<\/a>"}})})}})};n.parceldelivered=function(t){n.successaddtripMessage="";bootbox.confirm("Are you sure you have delivered the parcel?",function(r){if(r){var u={id:n.transporter.id,status:6,process_by:e.authentication.UserId,reason:"Parcel Delivered",parcelid:t};o.usrupdatestatus(u).then(function(t){t.status==200&&c.gettransporterdetails(s.id).then(function(t){if(t.data.status=="success"){if(n.transporter=t.data.response[0],t.data.parcellist!==null&&typeof t.data.parcellist!="undefined")for(n.parcellist=t.data.parcellist,sender.clear().draw(),i=0;i<n.parcellist.length;i++)sender.row.add([n.parcellist[i].source,n.parcellist[i].destination,n.parcellist[i].till_date,n.parcellist[i].type=="E"?"Envelope":n.parcellist[i].type=="B"?"Box":n.parcellist[i].type=="P"?"Packet":n.parcellist[i].type,"<a href='javascript:void(0);' ng-click='senderbooknow("+n.parcellist[i].id+")' onclick='senderbooknow("+n.parcellist[i].id+")' class='btn btn-primary'>Book Now<\/a>"]).draw();else n.parcellist=[];(n.transporter.status==3||n.transporter.status==6)&&(n.parcel=t.data.parcel);n.successaddtripMessage="Parcel Updated Successfully";n.transporter.link="<a target='"+(n.transporter.image.length>0?"_blank":"_self")+"' href='"+(n.transporter.image.length>0?h.API_BASE_PATH+n.transporter.image:"/uploadtripticket/"+n.transporter.id)+"'  title='"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"'>"+(n.transporter.image.length>0?"View Ticket":"Upload Ticket")+"<\/a>"}})})}})};n.senderbooknow=function(t){if(!($.grep(n.parcellist,function(n){return n.id==t})[0].weight<=parseFloat(n.transporter.awailableweight==null?n.transporter.capacity:n.transporter.awailableweight)+parseFloat(n.transporter.awailableweight==null?n.transporter.capacity:n.transporter.awailableweight)*.2))return bootbox.alert("You can't book parcel having weight mare than 20% of your available capacity !",function(){}),!1;o.senderbookingrequest(t,s.id).then(function(t){t.data.status=="success"&&(n.successaddtripMessage=t.data.response,n.filldetails())})};n.errormessage="";n.ticket={base64:""};n.successaddtripMessage="";n.addtripsdata=function(t){if(n.errormessage="",n.successaddtripMessage="",console.log(t),!t){n.errormessage="Please fill all mandatory fields!";return}e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(t){if(t.status==200)if(t.data.response[0].status=="Y"){if(n.departureon=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" "+n.dtime.split(":")[0]+":"+n.dtime.split(":")[1].substring(0,2)+" "+n.dtime.split(":")[1].substring(2)),n.arrivalon=new Date($(".quote_date1").val().split("-")[1]+"/"+$(".quote_date1").val().split("-")[0]+"/"+$(".quote_date1").val().split("-")[2]+" "+n.atime.split(":")[0]+":"+n.atime.split(":")[1].substring(0,2)+" "+n.atime.split(":")[1].substring(2)),!angular.isDate(n.departureon)){n.errormessage="Invalid Depa!";return}var i={source:n.locationfrom,destination:n.locationto,d_date:n.departureon,a_date:n.arrivalon,flight_no:n.flightno,pnr:n.bookingpnr,capacity:n.capacity,comment:n.tripcomment,t_id:sessionStorage.getItem("UserId")};i.ticket=typeof n.ticket.base64!="undefined"&&n.ticket.base64!==""&&n.ticket.base64!=null?n.ticket.base64:"";o.AddTripsData(i).then(function(t){t.status==200&&(bootbox.alert("Trip Created Successfully Sent for admin Approval",function(){u.transitionTo("transporter")}),n.successaddtripMessage="Trip Created Successfully Sent for admin Approval")})}else{n.errormessage="Verification Email Sent on your Email please verify.";return}})};n.dhours="1";n.dminutes="0";n.dampm="am";n.ahours="1";n.aminutes="0";n.aampm="am";n.checklocation=function(){var r=0,t;if(typeof n.locationfrom!="undefined"&&n.locationfrom!==""&&n.locationfrom!=null&&n.locationfrom.length>0)for(i=0;i<n.countries.length;i++)n.countries[i].location==n.locationfrom&&r==1,r==0&&n.countries.length-1==i;if(t=0,typeof n.locationto!="undefined"&&n.locationto!==""&&n.locationto!=null&&n.locationto.length>0)for(i=0;i<n.countries.length;i++)n.countries[i].location==n.locationto&&t==1,t==0&&n.countries.length-1==i};n.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(res=v(n.term),u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};v=function(t){var r=[];for(i=0;i<n.countries.length;i++){if(r.length>10)break;n.countries[i].location.toLowerCase().indexOf(t.toLowerCase())==0&&r.push(n.countries[i])}for(i=0;i<n.countries.length;i++){if(r.length>10)break;n.countries[i].location.toLowerCase().indexOf(t.toLowerCase())>0&&r.push(n.countries[i])}return r};n.search=function(){h.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);h.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);n.searchfromlocation.trim()!=n.searchtolocation.trim()?(h.searchcriteria.locationfrom=n.searchfromlocation,h.searchcriteria.locationto=n.searchtolocation,h.searchcriteria.type="Sender",f.path("/search")):n.locationto=""}});angular.module("courier").controller("ReceiverController",function(n,t,r,u,f,e,o,s){var h,c;e.authentication.isAuth||(h=u.path(),sessionStorage.setItem("return_url",h),t.transitionTo("login"));r.isActive=function(n){return n===u.path()};r.idupdate="";r.parcelsingle={};r.resaonoifupdate="";r.list=[];r.mainlist=[];r.statusupdate=!0;dTable=$("#example").DataTable({searching:!1});s.getreceiverlist(sessionStorage.getItem("UserId")).then(function(n){var t,u;if(n.status==200)for(r.list=n.data.response,r.mainlist=n.data.response,i=0;i<r.list.length;i++)t=r.list[i].dep_time.split(" "),r.list[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),r.mainlist[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),u=r.list[i].arrival_time.split(" "),r.list[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.mainlist[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.list[i].status=parseInt(r.list[i].status),r.mainlist[i].status=parseInt(r.list[i].status),dTable.row.add([(r.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+r.mainlist[i].channelid+","+r.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='javascript:void(0);' onclick='parceldetails("+r.mainlist[i].id+")'>"+r.mainlist[i].ParcelID+"<\/a>",r.mainlist[i].flight_no,"<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].usr_id+")'>"+r.mainlist[i].MCBSenderID+"<\/a>","<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].Transporterid+")'>"+r.mainlist[i].MCBtransporterid+"<\/a>",r.mainlist[i].statusdescription,r.mainlist[i].status==2||r.mainlist[i].status==3||r.mainlist[i].status==4?"<a href='javascript:void(0);'    onclick='changestatusparcel("+r.mainlist[i].id+",1)'   title='Received'>Received<\/a>":""]).draw()});c=function(){for(r.list=[],dTable.clear().draw(),i=0;i<r.mainlist.length;i++)console.log(r.mainlist[i].status),(r.mainlist[i].status==r.status||typeof r.status=="undefined"||r.status===""||r.status==null)&&(r.mainlist[i].dep_time.getDate()==new Date(r.departureat).getDate()||typeof r.departureat=="undefined"||r.departureat===""||r.departureat==null)&&(r.mainlist[i].ParcelID.toLowerCase().indexOf(r.TransporterID)!=-1||typeof r.TransporterID=="undefined"||r.TransporterID===""||r.TransporterID==null)&&(r.list.push(r.mainlist[i]),dTable.row.add([(r.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+r.mainlist[i].channelid+","+r.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='javascript:void(0);' onclick='parceldetails("+r.mainlist[i].id+")'>"+r.mainlist[i].ParcelID+"<\/a>",r.mainlist[i].flight_no,"<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].usr_id+")'>"+r.mainlist[i].MCBSenderID+"<\/a>","<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].Transporterid+")'>"+r.mainlist[i].MCBtransporterid+"<\/a>",r.mainlist[i].statusdescription,r.mainlist[i].status==2||r.mainlist[i].status==3||r.mainlist[i].status==4?"<a href='javascript:void(0);'  onclick='changestatusparcel("+r.mainlist[i].id+",1)'   title='Received'>Received<\/a>":""]).draw())};r.searchByFilter=function(){c()};r.viewuserdetails=function(n){e.getuserdetails(n).then(function(n){n.data.status!="Error"&&(r.userdetails=n.data.response[0],$("#userdetails").modal())})};r.parceldetails=function(n){r.parcelsingle=$.grep(r.mainlist,function(t){return t.id==n})[0];$.grep(r.mainlist,function(t){return t.id==n}).length>0&&(r.$apply(),$("#parceldetails").modal())};r.changestatusparcel=function(n,t){r.successaddtripMessage="";t==1&&bootbox.prompt("Enter Feedback about Transporter.",function(t){if(t!==null){var u={id:n,status:5,process_by:sessionStorage.getItem("UserId"),reason:t};s.usrupdatestatus(u).then(function(n){r.successaddtripMessage="Updated Successfully";n.status==200&&s.getreceiverlist(sessionStorage.getItem("UserId")).then(function(n){var t,u;if(n.status==200)for(r.list=n.data.response,r.mainlist=n.data.response,dTable.clear().draw(),i=0;i<r.list.length;i++)t=r.list[i].dep_time.split(" "),r.list[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),r.mainlist[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),u=r.list[i].arrival_time.split(" "),r.list[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.mainlist[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.list[i].status=parseInt(r.list[i].status),r.mainlist[i].status=parseInt(r.list[i].status),dTable.row.add([(r.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+r.mainlist[i].channelid+","+r.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='javascript:void(0);' onclick='parceldetails("+r.mainlist[i].id+")'>"+r.mainlist[i].ParcelID+"<\/a>",r.mainlist[i].flight_no,"<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].usr_id+")'>"+r.mainlist[i].MCBSenderID+"<\/a>","<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].Transporterid+")'>"+r.mainlist[i].MCBtransporterid+"<\/a>",r.mainlist[i].statusdescription,r.mainlist[i].status==2||r.mainlist[i].status==3||r.mainlist[i].status==4?"<a href='javascript:void(0);'   onclick='changestatusparcel("+r.mainlist[i].id+",1)'   title='Received'>Received<\/a>":""]).draw()})})}});t==0&&bootbox.prompt("Enter Reason why Not Received?",function(t){if(t!==null){var u={id:n,status:7,process_by:sessionStorage.getItem("UserId"),reason:t};s.usrupdatestatus(u).then(function(n){r.successaddtripMessage="Updated Successfully";n.status==200&&s.getreceiverlist(sessionStorage.getItem("UserId")).then(function(n){var t,u;if(n.status==200)for(r.list=n.data.response,r.mainlist=n.data.response,dTable.clear().draw(),i=0;i<r.list.length;i++)t=r.list[i].dep_time.split(" "),r.list[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),r.mainlist[i].dep_time=new Date(t[0].split("-")[1]+"/"+t[0].split("-")[2]+"/"+t[0].split("-")[0]+" "+t[1]),u=r.list[i].arrival_time.split(" "),r.list[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.mainlist[i].arrival_time=new Date(u[0].split("-")[1]+"/"+u[0].split("-")[2]+"/"+u[0].split("-")[0]+" "+u[1]),r.list[i].status=parseInt(r.list[i].status),r.mainlist[i].status=parseInt(r.list[i].status),dTable.row.add([(r.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+r.mainlist[i].channelid+","+r.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='javascript:void(0);' onclick='parceldetails("+r.mainlist[i].id+")'>"+r.mainlist[i].ParcelID+"<\/a>",r.mainlist[i].flight_no,"<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].usr_id+")'>"+r.mainlist[i].MCBSenderID+"<\/a>","<a href='javascript:void(0);' onclick='getuserdetails("+r.mainlist[i].Transporterid+")'>"+r.mainlist[i].MCBtransporterid+"<\/a>",r.mainlist[i].statusdescription,r.mainlist[i].status==2||r.mainlist[i].status==3||r.mainlist[i].status==4?"<a href='javascript:void(0);'   onclick='changestatusparcel("+r.mainlist[i].id+",1)'   title='Received'>Received<\/a>":""]).draw()})})}})}});angular.module("courier").controller("SenderController",function(n,t,r,u,f,e,o,s){var h,c;n.userlist=[];u.authentication.isAuth||(h=t.path(),sessionStorage.setItem("return_url",h),r.transitionTo("login"));n.isActive=function(n){return n===t.path()};n.departureat="";n.errormessage="";n.list=[];n.mainlist=[];n.fillgrid=function(){e.getParcelList(sessionStorage.getItem("UserId")).then(function(t){if(t.status==200)for(dTable.clear().draw(),n.list=t.data.response,n.mainlist=t.data.response,n.TransporterID=o.sendersearchcriteria.TransporterID,n.departureat=o.sendersearchcriteria.departureat,n.status=o.sendersearchcriteria.status,i=0;i<n.list.length;i++){var r=n.list[i].till_date;n.list[i].till_date=new Date(r.split("-")[1]+"/"+r.split("-")[2]+"/"+r.split("-")[0]);console.log(n.list[i].till_date);n.mainlist[i].till_date=new Date(r.split("-")[1]+"/"+r.split("-")[2]+"/"+r.split("-")[0]);(n.mainlist[i].status==n.status||typeof n.status=="undefined"||n.status===""||n.status==null)&&(n.mainlist[i].till_date.getDate()==new Date(n.departureat).getDate()||typeof n.departureat=="undefined"||n.departureat==""||n.departureat==null)&&(n.mainlist[i].ParcelID.indexOf(n.TransporterID)!=-1||typeof n.TransporterID=="undefined"||n.TransporterID===""||n.TransporterID==null)&&dTable.row.add([(n.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+n.mainlist[i].channelid+","+n.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>"+n.mainlist[i].ParcelID+"<\/a>",n.mainlist[i].source,n.mainlist[i].destination,n.mainlist[i].type=="E"?"Envelope":n.mainlist[i].type=="B"?"Box":n.mainlist[i].type=="P"?"Packet":n.mainlist[i].type,n.mainlist[i].weight+" kg.",n.mainlist[i].transporterID>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].transporterID+")'>"+n.mainlist[i].MCBTransporterID+"<\/a>":"<a href='/viewparcel/"+n.mainlist[i].id+"#matches' title='View Trip'>Find Matching Trips<\/a>",n.mainlist[i].recv_id>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].recv_id+")'>"+n.mainlist[i].MCBreceiverID+"<\/a>":"",moment(n.mainlist[i].till_date).format("DD/MM/YYYY"),n.mainlist[i].status==1?"<a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>Make Payment<\/a>":n.mainlist[i].statusdescription,"<div class='dropdown'>    <a href='javascript:void()' data-toggle='dropdown' class='dropdown-toggle'>Action<b class='caret'><\/b><\/a>    <ul class='dropdown-menu'>        <li><a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>View parcel<\/a> <\/li>"+(n.mainlist[i].status==0||n.mainlist[i].status==1||n.mainlist[i].status==2?"<li> <a href='/editparcel/"+n.mainlist[i].id+"' title='Cancel parcel'>Edit parcel<\/a><\/li><li> <a href='javascript:void(0);'  onclick='cancelparcellist("+n.mainlist[i].id+")'   title='Cancel parcel'>Cancel parcel<\/a> <\/li>":"")+(n.mainlist[i].status==4?"<li><a href='javascript:void(0);'  onclick='changestatusparcel("+n.mainlist[i].id+",1)'   title='Cancel Status'>Received<\/a><\/li>":"")+"<\/ul><\/div>"]).draw()}})};dTable=$("#example").DataTable({searching:!1});n.fillgrid();c=function(){for(n.list=[],n.departureat=$(".quote_date").val().length>0?new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]):"",o.sendersearchcriteria.TransporterID=n.TransporterID,o.sendersearchcriteria.departureat=n.departureat,o.sendersearchcriteria.status=n.status,dTable.clear().draw(),i=0;i<n.mainlist.length;i++)(n.mainlist[i].status==n.status||typeof n.status=="undefined"||n.status===""||n.status==null)&&(n.mainlist[i].till_date.getDate()==new Date(n.departureat).getDate()||typeof n.departureat=="undefined"||n.departureat==""||n.departureat==null)&&(n.mainlist[i].ParcelID.indexOf(n.TransporterID)!=-1||typeof n.TransporterID=="undefined"||n.TransporterID===""||n.TransporterID==null)&&(n.list.push(n.mainlist[i]),dTable.row.add([(n.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+n.mainlist[i].channelid+","+n.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>"+n.mainlist[i].ParcelID+"<\/a>",n.mainlist[i].source,n.mainlist[i].destination,n.mainlist[i].type=="E"?"Envelope":n.mainlist[i].type=="B"?"Box":n.mainlist[i].type=="P"?"Packet":n.mainlist[i].type,n.mainlist[i].weight+" kg.",n.mainlist[i].transporterID>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].transporterID+")'>"+n.mainlist[i].MCBTransporterID+"<\/a>":"<a href='/viewparcel/"+n.mainlist[i].id+"#matches' title='View Trip'>Find Matching Trips<\/a>",n.mainlist[i].recv_id>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].recv_id+")'>"+n.mainlist[i].MCBreceiverID+"<\/a>":"",moment(n.mainlist[i].till_date).format("DD/MM/YYYY"),n.mainlist[i].status==1?"<a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>Make Payment<\/a>":n.mainlist[i].statusdescription,"<div class='dropdown'>    <a href='javascript:void()' data-toggle='dropdown' class='dropdown-toggle'>Action<b class='caret'><\/b><\/a>    <ul class='dropdown-menu'>        <li><a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>View parcel<\/a> <\/li>"+(n.mainlist[i].status==0||n.mainlist[i].status==1||n.mainlist[i].status==2?"<li> <a href='/editparcel/"+n.mainlist[i].id+"' title='Cancel parcel'>Edit parcel<\/a><\/li><li> <a href='javascript:void(0);'  onclick='cancelparcellist("+n.mainlist[i].id+")'   title='Cancel parcel'>Cancel parcel<\/a> <\/li>":"")+(n.mainlist[i].status==4?"<li><a href='javascript:void(0);'  onclick='changestatusparcel("+n.mainlist[i].id+",1)'   title='Cancel Status'>Received<\/a><\/li>":"")+"<\/ul><\/div>"]).draw())};n.searchByFilter=function(){c()};n.viewuserdetails=function(t){u.getuserdetails(t).then(function(t){t.data.status!="Error"&&(n.userdetails=t.data.response[0],$("#userdetails").modal())})};n.cancelparcellist=function(t){n.successaddtripMessage="";bootbox.prompt("Do you want to cancel this Parcel? Give Reason.",function(i){if(i!==null){var r={id:t,status:6,process_by:u.authentication.UserId,reason:i};e.usrupdatestatus(r).then(function(t){t.status==200&&n.fillgrid()})}})};n.changestatusparcel=function(t,i){n.successaddtripMessage="";i==1&&bootbox.prompt("Enter Feedback about Transporter.",function(i){if(i!==null){var r={id:t,status:5,process_by:sessionStorage.getItem("UserId"),reason:i};s.usrupdatestatus(r).then(function(t){n.successaddtripMessage="Updated Successfully";t.status==200&&n.fillgrid()})}});i==0&&bootbox.prompt("Enter Reason why Not Received?",function(i){if(i!==null){var r={id:t,status:7,process_by:sessionStorage.getItem("UserId"),reason:i};s.usrupdatestatus(r).then(function(t){n.successaddtripMessage="Updated Successfully";t.status==200&&n.fillgrid()})}})}});angular.module("courier").controller("AddparcelController",function(n,t,r,u,f,e,o,s){function a(n){return n<.02?500:n<.05?800:n<1?1e3:n<2?1950:n<3?2900:n<4?3800:n<5?4700:n<6?5600:n<7?6500:n<8?7400:n<9?8300:n<=10?9200:0}var l,h,c,v;e.authentication.isAuth||(l=u.path(),sessionStorage.setItem("return_url",l),r.transitionTo("login"));n.get(f.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){t.countries=n.data.response});t.registeremail="";t.registername="";t.usersearchclicked=!1;t.usersearchvisible=!0;t.deliverytill=new Date;t.dateFromsearch=f.searchcriteria.datefrom;t.dateTosearch=f.searchcriteria.dateto;f.searchcriteria.dateto!=""&&(t.deliverytill=f.searchcriteria.dateto);t.searchfromlocation=f.searchcriteria.locationfrom;t.parcelfromloation=f.searchcriteria.locationfrom;t.searchtolocation=f.searchcriteria.locationto;t.parceltoloation=f.searchcriteria.locationto;t.ParcelHeight=0;t.ParcelWidth=0;t.ParcelLength=0;t.userlist=[];t.issummary=!1;t.successaddtripMessage="";t.errormessage="";t.totalamount=0;h=$("#userlist").DataTable({searching:!1,paging:!1});c=$("#userlist1").DataTable({searching:!1,paging:!1});t.changereceiveruser=function(){t.usersearchvisible=!0;t.$apply()};t.sendinviteuser=function(){var n;if(t.successaddtripMessage="",t.errormessageuser="",t.registeremail==""||t.registername==""){t.errormessageuser="Please fill all mandatory fields!";return}if(!/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(t.registeremail)){t.errormessageuser="Please enter a valid Email ID !";return}n={email:t.registeremail,name:t.registername,number:t.registermobile,message:t.registermessage,UserID:e.authentication.UserId};e.inviteuser(n).then(function(n){n.status==200&&(t.successaddtripMessage="User Invited Successfully",t.userlist=n.data.response,t.userlist.length>0&&(h.clear().draw(),h.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),c.clear().draw(),c.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),t.usersearchvisible=!1))})};t.editparcel=function(){t.issummary=!1};t.submitsummarypaynow=function(n){if(t.errormessage="",t.successaddtripMessage="",!n){t.errormessage="Please fill all mandatory fields!";return}e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(n){if(n.status==200)if(n.data.response[0].status=="Y"){if(t.userlist.length==0){t.errormessage="Please Select receiver !";return}if($(".quote_date").val().length==0){t.errormessage="Departure Time Required!";return}t.deliverytill=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" ");var i=$(".quote_date").val().split("-")[2]+"/"+$(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0],r=a(parseFloat(t.ParcelWeight));t.parcel={source:t.parcelfromloation,destination:t.parceltoloation,till_date:i,type:t.parceltype,weight:parseFloat(t.ParcelWeight),height:t.ParcelHeight,width:t.ParcelWidth,length:t.ParcelLength,created:new Date,usr_id:sessionStorage.getItem("UserId"),recv_id:t.userlist[0].id,status:0,description:t.parceldecsription,payment:parseFloat(r)};o.calculateamount(t.parcel).then(function(n){n.status==200&&(t.parcel.amount=n.data.price,t.issummary=!0,setTimeout(function(){$(".parcelsummary").DataTable({searching:!1,paging:!1})},500))})}else{t.errormessage="Please verify your email before adding Parcel ! ";return}})};t.paynow=function(n){if(t.errormessage="",t.successaddtripMessage="",!n){t.errormessage="Please fill all mandatory fields!";return}e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(n){if(n.status==200)if(n.data.response[0].status=="Y"){if(t.userlist.length==0){t.errormessage="Please Select receiver !";return}if($(".quote_date").val().length==0){t.errormessage="Departure Time Required!";return}t.deliverytill=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" ");var i=$(".quote_date").val().split("-")[2]+"/"+$(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0],u=a(parseFloat(t.ParcelWeight)),f={source:t.parcelfromloation,destination:t.parceltoloation,till_date:i,type:t.parceltype,weight:parseFloat(t.ParcelWeight),height:t.ParcelHeight,width:t.ParcelWidth,length:t.ParcelLength,created:new Date,usr_id:sessionStorage.getItem("UserId"),recv_id:t.userlist[0].id,status:0,description:t.parceldecsription,payment:parseFloat(u)};o.AddParcelData(f).then(function(n){n.status==200&&(r.go("viewparcel",{id:n.data.response.id}),t.successaddtripMessage='Parcel Created Successfully.  <a style="float:right;" href="/viewparcel/'+n.data.response.id+'" aria-controls="home" role="tab" data-toggle="tab"><i class="fa fa-plane" aria-hidden="true"><\/i> View Parcel<\/a>',t.tripsavemessage="Parcel Created Successfully.")})}else{t.errormessage="Please verify your email before adding Parcel ! ";return}})};t.errormessage="";t.userlist=[];t.showheight=!1;t.showwidth=!1;t.showlength=!1;t.exitingemail="";t.exitingmobilenumber="";t.value1="true";t.searchuser=function(){t.errormessage="";t.successaddtripMessage="";e.getuserdetails(e.authentication.UserId).then(function(n){if(n.status==200)if(n.data.response[0].status=="Y")t.usersearchclicked=!1,(typeof t.exitingemail=="undefined"||t.exitingemail===""||t.exitingemail==null)&&(typeof t.exitingmobilenumber=="undefined"||t.exitingmobilenumber===""||t.exitingmobilenumber==null)||s.searchuser(t.exitingmobilenumber,t.exitingemail,e.authentication.UserId).then(function(n){t.userlist=n.data.response;t.userlist.length>0&&(h.clear().draw(),h.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),c.clear().draw(),c.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),t.usersearchvisible=!1);t.usersearchclicked=!0});else{t.errormessage="Please verify your email before adding Parcel ! ";return}})};t.checkdimensions=function(){t.parceltype=="B"?(t.showheight=!0,t.showwidth=!0,t.showlength=!0):(t.showheight=!1,t.showwidth=!1,t.showlength=!1)};t.checklocation=function(){var r=0,n;if(typeof t.locationfrom!="undefined"&&t.locationfrom!==""&&t.locationfrom!=null&&t.locationfrom.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationfrom&&r==1,r==0&&t.countries.length-1==i;if(n=0,typeof t.locationto!="undefined"&&t.locationto!==""&&t.locationto!=null&&t.locationto.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationto&&n==1,n==0&&t.countries.length-1==i};t.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(results=v(n.term),res=results,u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};v=function(n){var r=[];for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&r.push(t.countries[i])}for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&r.push(t.countries[i])}return r};t.search=function(){f.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);f.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);t.searchfromlocation.trim()!=t.searchtolocation.trim()?(f.searchcriteria.locationfrom=t.searchfromlocation,f.searchcriteria.locationto=t.searchtolocation,f.searchcriteria.type="Transporter",u.path("/search")):t.searchtolocation=""};t.isActive=function(n){return n===u.path()}});angular.module("courier").controller("CancelParcelController",function(n,t,r,u,f,e){var s,o;n.userlist=[];u.authentication.isAuth||(s=r.path(),sessionStorage.setItem("return_url",s),t.transitionTo("login"));n.isActive=function(n){return n===r.path()};n.departureat="";n.errormessage="";n.list=[];n.mainlist=[];dTable=$("#example").DataTable({searching:!1});f.getcalcelledParcelList(sessionStorage.getItem("UserId")).then(function(t){if(t.status==200)for(dTable.clear().draw(),n.list=t.data.response,n.mainlist=t.data.response,n.TransporterID=e.sendersearchcriteria.TransporterID,n.departureat=e.sendersearchcriteria.departureat,n.status=e.sendersearchcriteria.status,i=0;i<n.list.length;i++){var r=n.list[i].till_date;n.list[i].till_date=new Date(r.split("-")[1]+"/"+r.split("-")[2]+"/"+r.split("-")[0]);console.log(n.list[i].till_date);n.mainlist[i].till_date=new Date(r.split("-")[1]+"/"+r.split("-")[2]+"/"+r.split("-")[0]);(n.mainlist[i].status==n.status||typeof n.status=="undefined"||n.status===""||n.status==null)&&(n.mainlist[i].till_date.getDate()==new Date(n.departureat).getDate()||typeof n.departureat=="undefined"||n.departureat==""||n.departureat==null)&&(n.mainlist[i].ParcelID.indexOf(n.TransporterID)!=-1||typeof n.TransporterID=="undefined"||n.TransporterID===""||n.TransporterID==null)&&dTable.row.add([(n.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+n.mainlist[i].channelid+","+n.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>"+n.mainlist[i].ParcelID+"<\/a>",n.mainlist[i].source,n.mainlist[i].destination,n.mainlist[i].type=="E"?"Envelope":n.mainlist[i].type=="B"?"Box":n.mainlist[i].type=="P"?"Packet":n.mainlist[i].type,n.mainlist[i].weight+" kg.",n.mainlist[i].transporterID>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].transporterID+")'>"+n.mainlist[i].MCBTransporterID+"<\/a>":n.mainlist[i].Isactive==1?"<a href='/viewparcel/"+n.mainlist[i].id+"#matches' title='View Trip'>Find Matching Trips<\/a>":"Expired",n.mainlist[i].recv_id>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].recv_id+")'>"+n.mainlist[i].MCBreceiverID+"<\/a>":"",moment(n.mainlist[i].till_date).format("DD/MM/YYYY"),n.mainlist[i].statusdescription,"<div class='dropdown'>    <a href='javascript:void()' data-toggle='dropdown' class='dropdown-toggle'>Action<b class='caret'><\/b><\/a>    <ul class='dropdown-menu'>        <li><a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>View parcel<\/a> <\/li>"+(n.mainlist[i].status==0||n.mainlist[i].status==1||n.mainlist[i].status==2?"<li> <a href='/editparcel/"+n.mainlist[i].id+"' title='Cancel parcel'>Edit parcel<\/a><\/li><li> <a href='javascript:void(0);'  onclick='cancelparcellist("+n.mainlist[i].id+")'   title='Cancel parcel'>Cancel parcel<\/a> <\/li>":"")+(n.mainlist[i].status==4?"<li><a href='javascript:void(0);'  onclick='changestatusparcel("+n.mainlist[i].id+",1)'   title='Cancel Status'>Delivered<\/a><\/li>":"")+"<\/ul><\/div>"]).draw()}});o=function(){for(n.list=[],n.departureat=$(".quote_date").val().length>0?new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]):"",e.sendersearchcriteria.TransporterID=n.TransporterID,e.sendersearchcriteria.departureat=n.departureat,e.sendersearchcriteria.status=n.status,dTable.clear().draw(),i=0;i<n.mainlist.length;i++)(n.mainlist[i].status==n.status||typeof n.status=="undefined"||n.status===""||n.status==null)&&(n.mainlist[i].till_date.getDate()==new Date(n.departureat).getDate()||typeof n.departureat=="undefined"||n.departureat==""||n.departureat==null)&&(n.mainlist[i].ParcelID.indexOf(n.TransporterID)!=-1||typeof n.TransporterID=="undefined"||n.TransporterID===""||n.TransporterID==null)&&(n.list.push(n.mainlist[i]),dTable.row.add([(n.mainlist[i].channelid>0?"<a href='javascript:void(0);'  onclick='showchat("+n.mainlist[i].channelid+","+n.mainlist[i].id+")'><span class='glyphicon glyphicon-comment'><\/span> <\/a> ":"")+"<a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>"+n.mainlist[i].ParcelID+"<\/a>",n.mainlist[i].source,n.mainlist[i].destination,n.mainlist[i].type=="E"?"Envelope":n.mainlist[i].type=="B"?"Box":n.mainlist[i].type=="P"?"Packet":n.mainlist[i].type,n.mainlist[i].weight+" kg.",n.mainlist[i].transporterID>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].transporterID+")'>"+n.mainlist[i].MCBTransporterID+"<\/a>":"<a href='/viewparcel/"+n.mainlist[i].id+"#matches' title='View Trip'>Find Matching Trips<\/a>",n.mainlist[i].recv_id>0?"<a href='javascript:void(0);' onclick='getuserdetails("+n.mainlist[i].recv_id+")'>"+n.mainlist[i].MCBreceiverID+"<\/a>":"",moment(n.mainlist[i].till_date).format("DD/MM/YYYY"),n.mainlist[i].statusdescription,"<div class='dropdown'>    <a href='javascript:void()' data-toggle='dropdown' class='dropdown-toggle'>Action<b class='caret'><\/b><\/a>    <ul class='dropdown-menu'>        <li><a href='/viewparcel/"+n.mainlist[i].id+"' title='View parcel'>View parcel<\/a> <\/li>"+(n.mainlist[i].status==0||n.mainlist[i].status==1||n.mainlist[i].status==2?"<li> <a href='/editparcel/"+n.mainlist[i].id+"' title='Cancel parcel'>Edit parcel<\/a><\/li><li> <a href='javascript:void(0);'  onclick='cancelparcellist("+n.mainlist[i].id+")'   title='Cancel parcel'>Cancel parcel<\/a> <\/li>":"")+(n.mainlist[i].status==4?"<li><a href='javascript:void(0);'  onclick='changestatusparcel("+n.mainlist[i].id+",1)'   title='Cancel Status'>Delivered<\/a><\/li>":"")+"<\/ul><\/div>"]).draw())};n.searchByFilter=function(){o()};n.viewuserdetails=function(t){u.getuserdetails(t).then(function(t){t.data.status!="Error"&&(n.userdetails=t.data.response[0],$("#userdetails").modal())})};n.cancelparcellist=function(t){n.successaddtripMessage="";bootbox.prompt("Do you want to cancel this Parcel? Give Reason.",function(n){if(n!==null){var i={id:t,status:6,process_by:u.authentication.UserId,reason:n};f.usrupdatestatus(i).then(function(n){n.status==200&&o()})}})};n.changestatusparcel=function(t,i){n.successaddtripMessage="";i==1&&bootbox.prompt("Enter Feedback about Transporter.",function(i){if(i!==null){var r={id:t,status:5,process_by:sessionStorage.getItem("UserId"),reason:i};ReceiverService.usrupdatestatus(r).then(function(t){n.successaddtripMessage="Updated Successfully";t.status==200&&o()})}});i==0&&bootbox.prompt("Enter Reason why Not Received?",function(i){if(i!==null){var r={id:t,status:7,process_by:sessionStorage.getItem("UserId"),reason:i};ReceiverService.usrupdatestatus(r).then(function(t){n.successaddtripMessage="Updated Successfully";t.status==200&&o()})}})}});angular.module("courier").controller("editparcelController",function(n,t,r,u,f,e,o,s,h){function y(n){return n<.02?500:n<.05?800:n<1?1e3:n<2?1950:n<3?2900:n<4?3800:n<5?4700:n<6?5600:n<7?6500:n<8?7400:n<9?8300:n<=10?9200:0}function a(){e.authentication.isAuth&&e.getuserdetails(e.authentication.UserId).then(function(n){if(n.status==200)if(n.data.response[0].status=="Y"){if(t.userlist.length==0){t.errormessage="Please Select receiver !";return}if($(".quote_date").val().length==0){t.errormessage="Departure Time Required!";return}t.deliverytill=new Date($(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0]+"/"+$(".quote_date").val().split("-")[2]+" ");var i=y(parseFloat(t.ParcelWeight)),u={source:t.parcelfromloation,destination:t.parceltoloation,till_date:$(".quote_date").val().split("-")[2]+"/"+$(".quote_date").val().split("-")[1]+"/"+$(".quote_date").val().split("-")[0],type:t.parceltype,weight:parseFloat(t.ParcelWeight),height:t.ParcelHeight,width:t.ParcelWidth,length:t.ParcelLength,usr_id:sessionStorage.getItem("UserId"),recv_id:t.userlist[0].id,description:t.parceldecsription,payment:parseFloat(i),id:h.id,trans_id:"",status:t.status};if(t.status==4||t.status==5||t.status==3){t.errormessage="Can't Able to edit its delivery is about to be completed.";return}o.updateParcelData(u).then(function(n){n.status==200&&(r.go("viewparcel",{id:t.parcel.id}),t.successaddtripMessage='Parcel Updated Successfully.  <a style="float:right;" href="/#viewparcel/'+t.parcel.id+'" aria-controls="home" role="tab" data-toggle="tab"><i class="fa fa-plane" aria-hidden="true"><\/i> View Parcel<\/a>',t.tripsavemessage="Parcel Updated Successfully.")})}else{t.errormessage="Verification Email Sent on your Email please verify.";return}})}var l,c,v;e.authentication.isAuth||(l=u.path(),sessionStorage.setItem("return_url",l),r.transitionTo("login"));n.get(f.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){t.countries=n.data.response});c=$("#userlist").DataTable({searching:!1,paging:!1});t.parcel={};t.usersearchclicked=!1;t.usersearchvisible=!0;t.ParcelHeight=0;t.ParcelWidth=0;t.ParcelLength=0;t.userlist=[];t.issummary=!1;t.successaddtripMessage="";t.totalamount=0;t.deliverytill=new Date;t.errormessage="";t.userlist=[];t.showheight=!1;t.showwidth=!1;t.showlength=!1;t.exitingemail="";t.exitingmobilenumber="";t.value1="true";t.changereceiveruser=function(){t.usersearchvisible=!0;t.$apply()};o.getparceldetail(h.id).then(function(n){n.data.status=="success"&&(t.parcel=n.data.response[0],t.parcel.status==0||t.parcel.status==1||t.parcel.status==2||r.go("viewparcel",{id:t.parcel.id}),e.authentication.UserId!=t.parcel.usr_id&&r.transitionTo("home"),t.trip=n.data.trip,t.parcelfromloation=t.parcel.source,t.parceltoloation=t.parcel.destination,t.deliverytill=t.parcel.till_date,t.parceltype=t.parcel.type,t.ParcelWeight=parseFloat(t.parcel.weight),t.ParcelHeight=parseFloat(t.parcel.height),t.ParcelWidth=parseFloat(t.parcel.width),t.ParcelLength=parseFloat(t.parcel.length),t.parceldecsription=t.parcel.description,t.status=t.parcel.status,e.getuserdetails(t.parcel.recv_id).then(function(n){t.userlist=n.data.response;t.userlist.length>0&&(c.clear().draw(),c.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),t.usersearchvisible=!1)}))});t.sendinviteuser=function(){t.successaddtripMessage="";var n={email:t.registeremail,name:t.registername,number:t.registermobile,message:t.registermessage,UserID:e.authentication.UserId};e.inviteuser(n).then(function(n){n.status==200&&(t.userlist=n.data.response,t.userlist.length>0&&(c.clear().draw(),c.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),t.usersearchvisible=!1))})};t.paynow=function(n){if(window.scrollTo(0,0),!n){t.errormessage="Please fill all mandatory fields!";return}t.status==2?bootbox.confirm("This Parcel has a confirmed Booking. Changing the Parcel will cancel the booking   Want To Proceed ?",function(n){if(n)a();else return this.modal("hide"),!1}):a()};t.searchuser=function(){t.errormessage="";t.successaddtripMessage="";t.usersearchclicked=!1;(typeof t.exitingemail=="undefined"||t.exitingemail===""||t.exitingemail==null)&&(typeof t.exitingmobilenumber=="undefined"||t.exitingmobilenumber===""||t.exitingmobilenumber==null)||s.searchuser(t.exitingmobilenumber,t.exitingemail,e.authentication.UserId).then(function(n){t.userlist=n.data.response;t.userlist.length>0&&(c.clear().draw(),c.row.add([t.userlist[0].UserID,t.userlist[0].username,t.userlist[0].name,t.userlist[0].mobile==0?"":t.userlist[0].mobile,' <a href="javascript:void(0);" onclick="changereceiveruser()">Change<\/a>']).draw(),t.usersearchvisible=!1);t.usersearchclicked=!0})};t.checkdimensions=function(){t.parceltype=="B"?(t.showheight=!0,t.showwidth=!0,t.showlength=!0):(t.showheight=!1,t.showwidth=!1,t.showlength=!1)};t.checklocation=function(){var r=0,n;if(typeof t.locationfrom!="undefined"&&t.locationfrom!==""&&t.locationfrom!=null&&t.locationfrom.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationfrom&&r==1,r==0&&t.countries.length-1==i;if(n=0,typeof t.locationto!="undefined"&&t.locationto!==""&&t.locationto!=null&&t.locationto.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationto&&n==1,n==0&&t.countries.length-1==i};t.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(results=v(n.term),res=results,u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};v=function(n){var r=[];for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&r.push(t.countries[i])}for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&r.push(t.countries[i])}return r};t.search=function(){f.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);f.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);t.searchfromlocation.trim()!=t.searchtolocation.trim()?(f.searchcriteria.locationfrom=t.searchfromlocation,f.searchcriteria.locationto=t.searchtolocation,f.searchcriteria.type="Transporter",u.path("/search")):t.locationto=""};t.isActive=function(n){return n===u.path()}});angular.module("courier").controller("viewparcelController",function(n,t,r,u,f,e,o,s,h,c,l){var a,v,y;e.authentication.isAuth||(a=u.path(),sessionStorage.setItem("return_url",a),r.transitionTo("login"));n.get(f.API_BASE_PATH+"api/getcountries",{headers:{"Content-Type":"application/json"}}).then(function(n){t.countries=n.data.response});v=u.url();v.match("#matches")&&$("html, body").animate({scrollTop:300},"slow");t.usewalletamount=!1;t.loginuser=c.getValiDatedTokenObject()[0];e.getuserdetails(t.loginuser.id).then(function(n){t.loginuser=n.data.response[0]});trans=$("#example").DataTable();t.trip=[];t.tripsmatch=[];t.orderlist=[];t.parcel={};t.issummary=!1;t.ordernumber=!1;o.getparceldetail(h.id).then(function(n){var u,f;if(n.data.status=="success")if(t.parcel=n.data.response[0],e.authentication.UserId!=t.parcel.usr_id&&r.transitionTo("home"),t.trip=n.data.trip,typeof t.trip!="undefined"&&(u=t.trip[0].dep_time.split("-"),f=u[2].split(" "),t.trip[0].dep_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),u=t.trip[0].arrival_time.split("-"),f=u[2].split(" "),t.trip[0].arrival_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1])),e.getuserdetails(t.parcel.recv_id).then(function(n){t.userlist=n.data.response}),t.parcel.trans_id!==null&&typeof t.parcel.trans_id!="undefined"&&t.parcel.trans_id>0&&t.parcel.status==1)s.gettransporterdetails(t.parcel.trans_id).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])});else if(n.data.tripsmatch!==null&&typeof n.data.tripsmatch!="undefined")for(t.tripsmatch=n.data.tripsmatch,trans.clear().draw(),i=0;i<t.tripsmatch.length;i++)u=t.tripsmatch[i].dep_time.split("-"),f=u[2].split(" "),t.tripsmatch[i].dep_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),u=t.tripsmatch[i].arrival_time.split("-"),f=u[2].split(" "),t.tripsmatch[i].arrival_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),trans.row.add([t.tripsmatch[i].TripID,t.tripsmatch[i].source,t.tripsmatch[i].destination,moment(t.tripsmatch[i].dep_time).format("DD/MM/YYYY, h:mm a"),moment(t.tripsmatch[i].arrival_time).format("DD/MM/YYYY, h:mm a"),t.tripsmatch[i].capacity,t.tripsmatch[i].capacity>0?"<a href='javascript:void(0);' ng-click='createcourierrequest("+t.tripsmatch[i].id+")' onclick='createcourierrequest("+t.tripsmatch[i].id+")' class='btn btn-primary'>Create Courier Request<\/a>":"<span class='alert-danger'>Fully Booked<\/span>"]).draw();else t.tripsmatch=[]});t.showchat=function(n,t){angular.element(".chatmessagepopup").scope().showchat(n,t)};t.backconfirmbutton=function(){t.orderlist=[]};t.cancelparcellist=function(n){t.successaddtripMessage="";bootbox.prompt("Do you want to cancel this Parcel? Give Reason.",function(r){if(r!==null){var u={id:n,status:6,process_by:e.authentication.UserId,reason:r};o.usrupdatestatus(u).then(function(n){n.status==200&&o.getparceldetail(h.id).then(function(n){var r,u;if(n.data.status=="success")if(t.parcel=n.data.response[0],t.trip=n.data.trip,n.data.tripsmatch!==null&&typeof n.data.tripsmatch!="undefined")for(t.tripsmatch=n.data.tripsmatch,trans.clear().draw(),i=0;i<t.tripsmatch.length;i++)r=t.tripsmatch[i].dep_time.split("-"),u=r[2].split(" "),t.tripsmatch[i].dep_time=new Date(r[1]+"/"+u[0]+"/"+r[0]+" "+u[1]),r=t.tripsmatch[i].arrival_time.split("-"),u=r[2].split(" "),t.tripsmatch[i].arrival_time=new Date(r[1]+"/"+u[0]+"/"+r[0]+" "+u[1]),trans.row.add([t.tripsmatch[i].TripID,t.tripsmatch[i].source,t.tripsmatch[i].destination,moment(t.tripsmatch[i].dep_time).format("DD/MM/YYYY, h:mm a"),moment(t.tripsmatch[i].arrival_time).format("DD/MM/YYYY, h:mm a"),t.tripsmatch[i].capacity,"<a href='javascript:void(0);' ng-click='createcourierrequest("+t.tripsmatch[i].id+")' onclick='createcourierrequest("+t.tripsmatch[i].id+")' class='btn btn-primary'>Create Courier Request<\/a>"]).draw();else t.tripsmatch=[]})})}})};t.createcourierrequest=function(n){console.log($.grep(t.tripsmatch,function(t){return t.id==n})[0]);parseInt($.grep(t.tripsmatch,function(t){return t.id==n})[0].capacity)<parseInt(t.parcel.weight)?bootbox.confirm("Trip weight capicity is less than your need. Do you want to Book with quantity:"+$.grep(t.tripsmatch,function(t){return t.id==n})[0].capacity+"?",function(i){if(i){t.parcel.weight=$.grep(t.tripsmatch,function(t){return t.id==n})[0].capacity;var r={weight:t.parcel.weight,id:t.parcel.id};o.updateparcelweight(r).then(function(i){i.status==200&&s.gettransporterdetails(n).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])})})}}):s.gettransporterdetails(n).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])})};t.confirmpaymentorder=function(){if(t.orderlist[0].ordernumber==""){var n={ParcelID:t.parcel.id,TransID:t.transporter.id,status:t.parcel.status,ordernumber:(new Date).getTime(),Amount:t.parcel.payment,Paymentvia:"Payu Money Gateway",usewalletamount:t.usewalletamount,walletamount:t.loginuser.wallet,loginuserid:t.loginuser.id};o.generateordernumber(n).then(function(n){n.data.status=="successpayment"?(t.tripsmatch=[],t.issummary=!1,t.ordernumber=!1,o.getparceldetail(h.id).then(function(n){n.data.status=="success"&&(t.parcel=n.data.response[0],t.trip=n.data.trip,e.getuserdetails(t.parcel.recv_id).then(function(n){t.userlist=n.data.response}),t.parcel.trans_id!==null&&typeof t.parcel.trans_id!="undefined"&&t.parcel.trans_id>0&&t.parcel.status==1&&s.gettransporterdetails(t.parcel.trans_id).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])}))})):(t.orderlist=n.data.response,t.orderlist[0].Amount=parseFloat(t.orderlist[0].Amount),t.parcel.payment=parseFloat(t.parcel.payment),$("#txnid").val(t.orderlist[0].ordernumber),$("#amount").val(t.orderlist[0].Amount),console.log(t.orderlist[0]),setTimeout(function(){$("#txnid").val(t.orderlist[0].ordernumber);$("#amount").val(t.orderlist[0].Amount);$("#accept-and-pay").attr("action","/pay.php");console.log($("#accept-and-pay").attr("action"));console.log($("#amount").val());$("#accept-and-pay").submit()},500))})}else $("#accept-and-pay").attr("action","/pay.php"),$("#accept-and-pay").submit()};t.generateordernumber=function(){if(t.usewalletamount&&t.parcel.payment>t.loginuser.wallet){t.orderlist=[{Amount:t.parcel.payment-t.loginuser.wallet,ordernumber:""}];return}var n={ParcelID:t.parcel.id,TransID:t.transporter.id,status:t.parcel.status,ordernumber:(new Date).getTime(),Amount:t.parcel.payment,Paymentvia:"Payu Money Gateway",usewalletamount:t.usewalletamount,walletamount:t.loginuser.wallet,loginuserid:t.loginuser.id};o.generateordernumber(n).then(function(n){n.data.status=="successpayment"?(t.tripsmatch=[],t.issummary=!1,t.ordernumber=!1,o.getparceldetail(h.id).then(function(n){n.data.status=="success"&&(t.parcel=n.data.response[0],t.trip=n.data.trip,e.getuserdetails(t.parcel.recv_id).then(function(n){t.userlist=n.data.response}),t.parcel.trans_id!==null&&typeof t.parcel.trans_id!="undefined"&&t.parcel.trans_id>0&&t.parcel.status==1&&s.gettransporterdetails(t.parcel.trans_id).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])}))})):(t.orderlist=n.data.response,t.orderlist[0].Amount=parseFloat(t.orderlist[0].Amount),t.parcel.payment=parseFloat(t.parcel.payment))})};t.checklocation=function(){var r=0,n;if(typeof t.locationfrom!="undefined"&&t.locationfrom!==""&&t.locationfrom!=null&&t.locationfrom.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationfrom&&r==1,r==0&&t.countries.length-1==i;if(n=0,typeof t.locationto!="undefined"&&t.locationto!==""&&t.locationto!=null&&t.locationto.length>0)for(i=0;i<t.countries.length;i++)t.countries[i].location==t.locationto&&n==1,n==0&&t.countries.length-1==i};t.locationStateOption={options:{html:!1,focusOpen:!1,onlySelectValid:!0,source:function(n,t){var u,r,i;if(n.term.length!=0){for(res=y(n.term),u=[],r=0;r<res.length;r++)i=res[r],u.push({label:i.location,value:i.location,id:i.id,name:i.location});t(u)}}},methods:{}};y=function(n){var r=[];for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())==0&&r.push(t.countries[i])}for(i=0;i<t.countries.length;i++){if(r.length>10)break;t.countries[i].location.toLowerCase().indexOf(n.toLowerCase())>0&&r.push(t.countries[i])}return r};t.search=function(){f.searchcriteria.datefrom=new Date($(".quote_datesearch").val().split("-")[1]+"/"+$(".quote_datesearch").val().split("-")[0]+"/"+$(".quote_datesearch").val().split("-")[2]);f.searchcriteria.dateto=new Date($(".quote_datesearch1").val().split("-")[1]+"/"+$(".quote_datesearch1").val().split("-")[0]+"/"+$(".quote_datesearch1").val().split("-")[2]);t.searchfromlocation.trim()!=t.searchtolocation.trim()?(f.searchcriteria.locationfrom=t.searchfromlocation,f.searchcriteria.locationto=t.searchtolocation,f.searchcriteria.type="Transporter",u.path("/search")):t.locationto=""};t.isActive=function(n){return n===u.path()};t.changestatusparcel=function(n,u){t.successaddtripMessage="";u==1&&bootbox.prompt("Enter Feedback about Transporter.",function(u){if(u!==null){var f={id:n,status:5,process_by:sessionStorage.getItem("UserId"),reason:u};l.usrupdatestatus(f).then(function(n){t.successaddtripMessage="Updated Successfully";n.status==200&&o.getparceldetail(h.id).then(function(n){var u,f;if(n.data.status=="success")if(t.parcel=n.data.response[0],e.authentication.UserId!=t.parcel.usr_id&&r.transitionTo("home"),t.trip=n.data.trip,e.getuserdetails(t.parcel.recv_id).then(function(n){t.userlist=n.data.response}),t.parcel.trans_id!==null&&typeof t.parcel.trans_id!="undefined"&&t.parcel.trans_id>0&&t.parcel.status==1)s.gettransporterdetails(t.parcel.trans_id).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])});else if(n.data.tripsmatch!==null&&typeof n.data.tripsmatch!="undefined")for(t.tripsmatch=n.data.tripsmatch,trans.clear().draw(),i=0;i<t.tripsmatch.length;i++)u=t.tripsmatch[i].dep_time.split("-"),f=u[2].split(" "),t.tripsmatch[i].dep_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),u=t.tripsmatch[i].arrival_time.split("-"),f=u[2].split(" "),t.tripsmatch[i].arrival_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),trans.row.add([t.tripsmatch[i].TripID,t.tripsmatch[i].source,t.tripsmatch[i].destination,moment(t.tripsmatch[i].dep_time).format("DD/MM/YYYY, h:mm a"),moment(t.tripsmatch[i].arrival_time).format("DD/MM/YYYY, h:mm a"),t.tripsmatch[i].capacity,"<a href='javascript:void(0);' ng-click='createcourierrequest("+t.tripsmatch[i].id+")' onclick='createcourierrequest("+t.tripsmatch[i].id+")' class='btn btn-primary'>Create Courier Request<\/a>"]).draw();else t.tripsmatch=[]})})}});u==0&&bootbox.prompt("Enter Reason why Not Received?",function(u){if(u!==null){var f={id:n,status:7,process_by:sessionStorage.getItem("UserId"),reason:u};l.usrupdatestatus(f).then(function(n){t.successaddtripMessage="Updated Successfully";n.status==200&&o.getparceldetail(h.id).then(function(n){var u,f;if(n.data.status=="success")if(t.parcel=n.data.response[0],e.authentication.UserId!=t.parcel.usr_id&&r.transitionTo("home"),t.trip=n.data.trip,e.getuserdetails(t.parcel.recv_id).then(function(n){t.userlist=n.data.response}),t.parcel.trans_id!==null&&typeof t.parcel.trans_id!="undefined"&&t.parcel.trans_id>0&&t.parcel.status==1)s.gettransporterdetails(t.parcel.trans_id).then(function(n){n.data.status=="success"&&(t.issummary=!0,t.transporter=n.data.response[0])});else if(n.data.tripsmatch!==null&&typeof n.data.tripsmatch!="undefined")for(t.tripsmatch=n.data.tripsmatch,trans.clear().draw(),i=0;i<t.tripsmatch.length;i++)u=t.tripsmatch[i].dep_time.split("-"),f=u[2].split(" "),t.tripsmatch[i].dep_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),u=t.tripsmatch[i].arrival_time.split("-"),f=u[2].split(" "),t.tripsmatch[i].arrival_time=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),trans.row.add([t.tripsmatch[i].TripID,t.tripsmatch[i].source,t.tripsmatch[i].destination,moment(t.tripsmatch[i].dep_time).format("DD/MM/YYYY, h:mm a"),moment(t.tripsmatch[i].arrival_time).format("DD/MM/YYYY, h:mm a"),t.tripsmatch[i].capacity,"<a href='javascript:void(0);' ng-click='createcourierrequest("+t.tripsmatch[i].id+")' onclick='createcourierrequest("+t.tripsmatch[i].id+")' class='btn btn-primary'>Create Courier Request<\/a>"]).draw();else t.tripsmatch=[]})})}})}});angular.module("courier").controller("mywalletController",function(n,t,r,u,f,e){if(!u.authentication.isAuth){var o=r.path();sessionStorage.setItem("return_url",o);t.transitionTo("login")}n.list=[];n.mainlist=[];u.getuserdetails(sessionStorage.getItem("UserId")).then(function(t){t.status==200&&(n.userdetails=t.data.response[0],n.userdetails.targetamount=parseFloat(n.userdetails.wallet))});dTable=$("#example").DataTable();f.getwalletstatement(u.authentication.UserId).then(function(t){if(t.status==200)for(n.list=t.data.response,n.mainlist=t.data.response,i=0;i<n.list.length;i++){var r=n.list[i].insertdate.split(" ");n.list[i].insertdate=new Date(r[0].split("-")[1]+"/"+r[0].split("-")[2]+"/"+r[0].split("-")[0]+" "+r[1]);n.mainlist[i].insertdate=new Date(r[0].split("-")[1]+"/"+r[0].split("-")[2]+"/"+r[0].split("-")[0]+" "+r[1]);dTable.row.add([n.mainlist[i].tripid>0?"<a href='javascript:void(0);' onclick='openpopup("+n.mainlist[i].tripid+",2)'>"+n.mainlist[i].MTripID+"<\/a>":"-",n.mainlist[i].parcelid>0?"<a href='javascript:void(0);' onclick='openpopup("+n.mainlist[i].parcelid+",1)'>"+n.mainlist[i].MParcelID+"<\/a>":"-",n.mainlist[i].withdrawID==null?"-":"<a href='javascript:void(0);' onclick='openpopup(\""+n.mainlist[i].withdrawID+"\",3)'>"+n.mainlist[i].withdrawID+"<\/a>",moment(n.mainlist[i].insertdate).format("DD/MM/YYYY hh:mm:ss"),n.mainlist[i].credit,n.mainlist[i].debit,n.mainlist[i].withdrawamount==0?"0.00":n.mainlist[i].withdrawamount,n.mainlist[i].statusdescription=="Y"?"Approved":n.mainlist[i].statusdescription=="N"?"Pending":n.mainlist[i].statusdescription]).draw()}});n.isActive=function(n){return n===r.path()};n.openpopup=function(t,i){console.log(t);i==1&&f.getparceldetail(t).then(function(t){n.parcelsingle=t.data.response[0];$("#parceldetails").modal()});i==2&&e.gettransporterdetails(t).then(function(t){console.log(t.data.response);n.tripsingle=t.data.response[0];$("#tripdetails").modal()});i==3&&e.paymentrequestlist(sessionStorage.getItem("UserId")).then(function(i){n.paymentlist=i.data.response;n.paymentsingle=$.grep(n.paymentlist,function(n){return n.withdrawID==t})[0];$("#paymentdetails").modal()})}});angular.module("courier").controller("parcelbookingController",function(n,t,r,u,f,e){if(!f.authentication.isAuth){var o=$location.path();sessionStorage.setItem("return_url",o);$state.transitionTo("login")}n.successMessage="";n.loginuser=t.getValiDatedTokenObject()[0];trans=$("#example").DataTable({searching:!1,paging:!1});n.tripsmatch=[];n.parcel={};u.getparceldetail(e.id).then(function(t){var r,u;if(t.data.status=="success")if(n.parcel=t.data.response[0],t.data.tripsmatch!==null&&typeof t.data.tripsmatch!="undefined")for(n.tripsmatchdata=t.data.tripsmatch,trans.clear().draw(),i=0;i<n.tripsmatchdata.length;i++)n.tripsmatchdata[i].t_id==n.loginuser.id&&(n.tripsmatch.push(n.tripsmatchdata[i]),r=n.tripsmatchdata[i].dep_time.split("-"),u=r[2].split(" "),n.tripsmatchdata[i].dep_time=new Date(r[1]+"/"+u[0]+"/"+r[0]+" "+u[1]),r=n.tripsmatchdata[i].arrival_time.split("-"),u=r[2].split(" "),n.tripsmatchdata[i].arrival_time=new Date(r[1]+"/"+u[0]+"/"+r[0]+" "+u[1]),trans.row.add(["T"+n.tripsmatchdata[i].id,n.tripsmatchdata[i].source,n.tripsmatchdata[i].destination,moment(n.tripsmatchdata[i].dep_time).format("DD/MM/YYYY, h:mm a"),moment(n.tripsmatchdata[i].arrival_time).format("DD/MM/YYYY, h:mm a"),n.tripsmatchdata[i].capacity,"<a href='javascript:void(0);'  onclick='senderbooknow("+n.tripsmatchdata[i].id+")' class='btn btn-primary'>Accept Booking<\/a>"]).draw());else n.tripsmatch=[]});n.senderbooknow=function(t){n.successMessage="";r.senderbookingrequest(n.parcel.id,t).then(function(i){i.data.status=="success"&&(n.successMessage=i.data.response+'  <a style="float:right;" href="/viewtrip/'+t+'" aria-controls="home" role="tab" data-toggle="tab"><i class="fa fa-plane" ><\/i> View Trip<\/a>')})}});angular.module("courier").controller("PricelistController",function(){});angular.module("courier").controller("TermsandconditionController",function(n,t,i,r){r.getMypageslist(3).then(function(n){t.content=n.data.response[0]})});angular.module("courier").controller("aboutusController",function(n,t,i,r){r.getMypageslist(1).then(function(n){t.content=n.data.response[0]})});angular.module("courier").controller("contactController",function(n,t,i,r,u){t.publicKey="6Lc74SETAAAAACLHIKZWgJJaFFyXn4cxe6EjuYaJ";t.successmessage="";t.errorDescription="";t.submitformdata=function(n){if(t.successmessage="",t.errorDescription="",!n){t.errorDescription="Please, fill out all fields!";return}var i={name:t.name,email:t.email,phone:t.phone,message:t.message,created:new Date,status:"N"};u.addcontacts(i).then(function(n){t.successmessage=n.data.response})}});angular.module("courier").controller("faqController",function(n,t,i,r,u){u.getMypageslist(2).then(function(n){t.content=n.data.response[0]})});angular.module("courier").controller("sendergoodpracticesController",function(n,t,i,r){r.getMypageslist(5).then(function(n){t.content=n.data.response[0]})});angular.module("courier").controller("transportergoodpracticesController",function(n,t,i,r){r.getMypageslist(5).then(function(n){t.content=n.data.response[0]})});angular.module("courier").controller("guidelinessectionController",function(n,t,i,r){r.getMypageslist(7).then(function(n){t.content=n.data.response[0]})});angular.module("courier").controller("VerifyUserController",function(n,t,i,r,u,f,e,o,s,h){var c=h.id,l=h.code,a={id:c,code:l};f.verifyuser(a).then(function(i){i.data.status=="success"?(n.successverifyuserDescription="Success ! Your Email is Successfully Verified",setTimeout(function(){t.go("dashboard")},1e3)):n.errorverifyuserDescription="Error ! Invalid Request"})});angular.module("courier").controller("chatmessagesController",function(n,t,r,u,f,e){function s(n,t){return new Date(n+36e5*t)}r.loginuserid=e.authentication.UserId;r.channelid=0;r.chatslist=[];r.users={};r.screenresolation=window.innerWidth;r.updatechat=function(){e.authentication.UserId==0&&(r.chatslist=[])};r.showchat=function(n,t){r.loginuserid=e.authentication.UserId;$.grep(r.chatslist,function(t){return t.channelid==n}).length==0&&(r.messages=[],r.channelid=n,e.getchatlist(r.channelid).then(function(u){var o=0,h="",f,e;for(r.users=u.data.users[0],i=0;i<u.data.message.length;i++)f=u.data.message[i].created.split("-"),e=f[2].split(" "),u.data.message[i].created=new Date(f[1]+"/"+e[0]+"/"+f[0]+" "+e[1]),u.data.message[i].created=s(u.data.message[i].created.getTime(),12.5),h!=f[1]+"/"+e[0]+"/"+f[0]?(r.messages.push({date:u.data.message[i].created,messages:[u.data.message[i]]}),o=o+1,h=f[1]+"/"+e[0]+"/"+f[0]):r.messages[o-1].messages.push(u.data.message[i]);for(i=0;i<r.chatslist.length;i++)r.chatslist[i].isminimized=!0;r.chatslist.push({parcelid:t,chatmessage:"",channelid:n,messages:r.messages,isminimized:!1})}))};r.messages=[];var o=io.connect("https://mycourierbuddy.com:3000");r.submit=function(n,t){r.submitchat(n,t)};r.submitchat=function(n,t){var i={channelid:n,messageuserid:e.authentication.UserId,message:t};$.ajax({type:"POST",url:apiBasePath+"api/chatsubmit",data:i,dataType:"json",cache:!1,success:function(t){if(r.messages=$.grep(r.chatslist,function(t){return t.channelid==n})[0].chatmessage="",t.success==!0){$("#notif").html(t.notif);o.emit("new_count_message",{new_count_message:t.new_count_message});var i={channelid:n,parcelid:t.parcelid,senderid:t.senderid,transporterid:t.transporterid,receiverid:t.receiverid,username:t.username,created:t.created,message:t.message,id:t.id};o.emit("new_message",i)}else t.success==!1&&$("#notif").html(t.notif)},error:function(n,t,i){console.log(i)}})};r.removechat=function(n){r.chatslist.splice(n,1)};r.minimizechat=function(n){for(i=0;i<r.chatslist.length;i++)r.chatslist[i].isminimized=!0;r.chatslist[n].isminimized=!0};r.maximizechat=function(n){for(i=0;i<r.chatslist.length;i++)r.chatslist[i].isminimized=!0;r.chatslist[n].isminimized=!1};o.on("new_count_message",function(){$("#notif_audio")[0].play()});o.on("update_count_message",function(){});o.on("new_message",function(n){if(e.authentication.UserId==n.senderid||e.authentication.UserId==n.transporterid||e.authentication.UserId==n.receiverid)if($.grep(r.chatslist,function(t){return t.parcelid==n.parcelid}).length>0){r.messages=$.grep(r.chatslist,function(t){return t.parcelid==n.parcelid})[0].messages;var t=n.created.split("-"),u=t[2].split(" ");for(n.created=new Date(t[1]+"/"+u[0]+"/"+t[0]+" "+u[1]),n.created=s(n.created.getTime(),12.5),$.grep(r.messages,function(t){return moment(t.date).format("L")==moment(n.created).format("L")}).length>0?$.grep(r.messages,function(t){return moment(t.date).format("L")==moment(n.created).format("L")})[0].messages.push(n):r.messages.push({date:n.created,messages:[n]}),$.grep(r.chatslist,function(t){return t.parcelid==n.parcelid})[0].messages=r.messages,i=0;i<r.chatslist.length;i++)r.chatslist[i].isminimized=!0;$.grep(r.chatslist,function(t){return t.parcelid==n.parcelid})[0].isminimized=!1;r.$apply();$("#no-message-notif").html("");$("#new-message-notif").html('<div class="alert alert-success" role="alert"> <i class="fa fa-check"><\/i><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;<\/button>New message ...<\/div>')}else r.messages=[],e.getchatlist(n.channelid).then(function(t){var e=0,o="",u,f;for(r.users=t.data.users[0],i=0;i<t.data.message.length;i++)u=t.data.message[i].created.split("-"),f=u[2].split(" "),t.data.message[i].created=new Date(u[1]+"/"+f[0]+"/"+u[0]+" "+f[1]),t.data.message[i].created=s(t.data.message[i].created.getTime(),12.5),o!=u[1]+"/"+f[0]+"/"+u[0]?(r.messages.push({date:t.data.message[i].created,messages:[t.data.message[i]]}),e=e+1,o=u[1]+"/"+f[0]+"/"+u[0]):r.messages[e-1].messages.push(t.data.message[i]);for(i=0;i<r.chatslist.length;i++)r.chatslist[i].isminimized=!0;r.chatslist.push({parcelid:n.parcelid,chatmessage:"",channelid:n.channelid,messages:r.messages,isminimized:!1})})});o.emit("get_history",12);o.on("history",function(n){console.log(n)})});!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);t.io=n()}}(function(){var n;return function t(n,i,r){function f(u,o){var h,s;if(!i[u]){if(!n[u]){if(h=typeof require=="function"&&require,!o&&h)return h(u,!0);if(e)return e(u,!0);throw new Error("Cannot find module '"+u+"'");}s=i[u]={exports:{}};n[u][0].call(s.exports,function(t){var i=n[u][1][t];return f(i?i:t)},s,s.exports,t,n,i,r)}return i[u].exports}for(var e=typeof require=="function"&&require,u=0;u<r.length;u++)f(r[u]);return f}({1:[function(n,t){t.exports=n("./lib/")},{"./lib/":2}],2:[function(n,t,i){function e(n,t){typeof n=="object"&&(t=n,n=undefined);t=t||{};var e=o(n),i=e.source,s=e.id,h;return t.forceNew||t["force new connection"]||!1===t.multiplex?(f("ignoring socket cache for %s",i),h=u(i,t)):(r[s]||(f("new io instance for %s",i),r[s]=u(i,t)),h=r[s]),h.socket(e.path)}var o=n("./url"),s=n("socket.io-parser"),u=n("./manager"),f=n("debug")("socket.io-client"),r;t.exports=i=e;r=i.managers={};i.protocol=s.protocol;i.connect=e;i.Manager=n("./manager");i.Socket=n("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":46}],3:[function(n,t){function i(n,t){if(!(this instanceof i))return new i(n,t);n&&"object"==typeof n&&(t=n,n=undefined);t=t||{};t.path=t.path||"/socket.io";this.nsps={};this.subs=[];this.opts=t;this.reconnection(t.reconnection!==!1);this.reconnectionAttempts(t.reconnectionAttempts||Infinity);this.reconnectionDelay(t.reconnectionDelay||1e3);this.reconnectionDelayMax(t.reconnectionDelayMax||5e3);this.randomizationFactor(t.randomizationFactor||.5);this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==t.timeout?2e4:t.timeout);this.readyState="closed";this.uri=n;this.connected=[];this.encoding=!1;this.packetBuffer=[];this.encoder=new e.Encoder;this.decoder=new e.Decoder;this.autoConnect=t.autoConnect!==!1;this.autoConnect&&this.open()}var a=n("./url"),s=n("engine.io-client"),h=n("./socket"),c=n("component-emitter"),e=n("socket.io-parser"),u=n("./on"),f=n("component-bind"),v=n("object-component"),r=n("debug")("socket.io-client:manager"),o=n("indexof"),l=n("backo2");t.exports=i;i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var n in this.nsps)this.nsps[n].emit.apply(this.nsps[n],arguments)};i.prototype.updateSocketIds=function(){for(var n in this.nsps)this.nsps[n].id=this.engine.id};c(i.prototype);i.prototype.reconnection=function(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection};i.prototype.reconnectionAttempts=function(n){return arguments.length?(this._reconnectionAttempts=n,this):this._reconnectionAttempts};i.prototype.reconnectionDelay=function(n){return arguments.length?(this._reconnectionDelay=n,this.backoff&&this.backoff.setMin(n),this):this._reconnectionDelay};i.prototype.randomizationFactor=function(n){return arguments.length?(this._randomizationFactor=n,this.backoff&&this.backoff.setJitter(n),this):this._randomizationFactor};i.prototype.reconnectionDelayMax=function(n){return arguments.length?(this._reconnectionDelayMax=n,this.backoff&&this.backoff.setMax(n),this):this._reconnectionDelayMax};i.prototype.timeout=function(n){return arguments.length?(this._timeout=n,this):this._timeout};i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};i.prototype.open=i.prototype.connect=function(n){var i,t,e,o,f,h;return(r("readyState %s",this.readyState),~this.readyState.indexOf("open"))?this:(r("opening %s",this.uri),this.engine=s(this.uri,this.opts),i=this.engine,t=this,this.readyState="opening",this.skipReconnect=!1,e=u(i,"open",function(){t.onopen();n&&n()}),o=u(i,"error",function(i){if(r("connect_error"),t.cleanup(),t.readyState="closed",t.emitAll("connect_error",i),n){var u=new Error("Connection error");u.data=i;n(u)}else t.maybeReconnectOnOpen()}),!1!==this._timeout&&(f=this._timeout,r("connect attempt will timeout after %d",f),h=setTimeout(function(){r("connect attempt timed out after %d",f);e.destroy();i.close();i.emit("error","timeout");t.emitAll("connect_timeout",f)},f),this.subs.push({destroy:function(){clearTimeout(h)}})),this.subs.push(e),this.subs.push(o),this)};i.prototype.onopen=function(){r("open");this.cleanup();this.readyState="open";this.emit("open");var n=this.engine;this.subs.push(u(n,"data",f(this,"ondata")));this.subs.push(u(this.decoder,"decoded",f(this,"ondecoded")));this.subs.push(u(n,"error",f(this,"onerror")));this.subs.push(u(n,"close",f(this,"onclose")))};i.prototype.ondata=function(n){this.decoder.add(n)};i.prototype.ondecoded=function(n){this.emit("packet",n)};i.prototype.onerror=function(n){r("error",n);this.emitAll("error",n)};i.prototype.socket=function(n){var t=this.nsps[n],i;if(!t){t=new h(this,n);this.nsps[n]=t;i=this;t.on("connect",function(){t.id=i.engine.id;~o(i.connected,t)||i.connected.push(t)})}return t};i.prototype.destroy=function(n){var t=o(this.connected,n);(~t&&this.connected.splice(t,1),this.connected.length)||this.close()};i.prototype.packet=function(n){r("writing packet %j",n);var t=this;t.encoding?t.packetBuffer.push(n):(t.encoding=!0,this.encoder.encode(n,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i]);t.encoding=!1;t.processPacketQueue()}))};i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var n=this.packetBuffer.shift();this.packet(n)}};i.prototype.cleanup=function(){for(var n;n=this.subs.shift();)n.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};i.prototype.close=i.prototype.disconnect=function(){this.skipReconnect=!0;this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};i.prototype.onclose=function(n){r("close");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",n);this._reconnection&&!this.skipReconnect&&this.reconnect()};i.prototype.reconnect=function(){var n,t,i;if(this.reconnecting||this.skipReconnect)return this;n=this;this.backoff.attempts>=this._reconnectionAttempts?(r("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1):(t=this.backoff.duration(),r("will wait %dms before reconnect attempt",t),this.reconnecting=!0,i=setTimeout(function(){n.skipReconnect||(r("attempting reconnect"),n.emitAll("reconnect_attempt",n.backoff.attempts),n.emitAll("reconnecting",n.backoff.attempts),n.skipReconnect)||n.open(function(t){t?(r("reconnect attempt error"),n.reconnecting=!1,n.reconnect(),n.emitAll("reconnect_error",t.data)):(r("reconnect success"),n.onreconnect())})},t),this.subs.push({destroy:function(){clearTimeout(i)}}))};i.prototype.onreconnect=function(){var n=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",n)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:42,"object-component":43,"socket.io-parser":46}],4:[function(n,t){function i(n,t,i){n.on(t,i);return{destroy:function(){n.removeListener(t,i)}}}t.exports=i},{}],5:[function(n,t,i){function r(n,t){this.io=n;this.nsp=t;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var u=n("socket.io-parser"),c=n("component-emitter"),o=n("to-array"),s=n("./on"),h=n("component-bind"),f=n("debug")("socket.io-client:socket"),l=n("has-binary"),a,e;t.exports=i=r;a={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1};e=c.prototype.emit;c(r.prototype);r.prototype.subEvents=function(){if(!this.subs){var n=this.io;this.subs=[s(n,"open",h(this,"onopen")),s(n,"packet",h(this,"onpacket")),s(n,"close",h(this,"onclose"))]}};r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)};r.prototype.send=function(){var n=o(arguments);return n.unshift("message"),this.emit.apply(this,n),this};r.prototype.emit=function(n){var t,r,i;return a.hasOwnProperty(n)?(e.apply(this,arguments),this):(t=o(arguments),r=u.EVENT,l(t)&&(r=u.BINARY_EVENT),i={type:r,data:t},"function"==typeof t[t.length-1]&&(f("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this)};r.prototype.packet=function(n){n.nsp=this.nsp;this.io.packet(n)};r.prototype.onopen=function(){f("transport is open - connecting");"/"!=this.nsp&&this.packet({type:u.CONNECT})};r.prototype.onclose=function(n){f("close (%s)",n);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",n)};r.prototype.onpacket=function(n){if(n.nsp==this.nsp)switch(n.type){case u.CONNECT:this.onconnect();break;case u.EVENT:this.onevent(n);break;case u.BINARY_EVENT:this.onevent(n);break;case u.ACK:this.onack(n);break;case u.BINARY_ACK:this.onack(n);break;case u.DISCONNECT:this.ondisconnect();break;case u.ERROR:this.emit("error",n.data)}};r.prototype.onevent=function(n){var t=n.data||[];f("emitting event %j",t);null!=n.id&&(f("attaching ack callback to event"),t.push(this.ack(n.id)));this.connected?e.apply(this,t):this.receiveBuffer.push(t)};r.prototype.ack=function(n){var i=this,t=!1;return function(){var r,e;t||(t=!0,r=o(arguments),f("sending ack %j",r),e=l(r)?u.BINARY_ACK:u.ACK,i.packet({type:e,id:n,data:r}))}};r.prototype.onack=function(n){f("calling ack %s with %j",n.id,n.data);var t=this.acks[n.id];t.apply(this,n.data);delete this.acks[n.id]};r.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};r.prototype.emitBuffered=function(){for(var n=0;n<this.receiveBuffer.length;n++)e.apply(this,this.receiveBuffer[n]);for(this.receiveBuffer=[],n=0;n<this.sendBuffer.length;n++)this.packet(this.sendBuffer[n]);this.sendBuffer=[]};r.prototype.ondisconnect=function(){f("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};r.prototype.destroy=function(){if(this.subs){for(var n=0;n<this.subs.length;n++)this.subs[n].destroy();this.subs=null}this.io.destroy(this)};r.prototype.close=r.prototype.disconnect=function(){if(this.connected&&(f("performing disconnect (%s)",this.nsp),this.packet({type:u.DISCONNECT})),this.destroy(),this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":38,"socket.io-parser":46,"to-array":50}],6:[function(n,t){(function(i){function f(n,t){var f=n,t=t||i.location;return null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"==n.charAt(0)&&(n="/"==n.charAt(1)?t.protocol+n:t.hostname+n),/^(https?|wss?):\/\//.test(n)||(r("protocol-less url %s",n),n="undefined"!=typeof t?t.protocol+"//"+n:"https://"+n),r("parse %s",n),f=u(n)),f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443")),f.path=f.path||"/",f.id=f.protocol+"://"+f.host+":"+f.port,f.href=f.protocol+"://"+f.host+(t&&t.port==f.port?"":":"+f.port),f}var u=n("parseuri"),r=n("debug")("socket.io-client:url");t.exports=f}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{debug:10,parseuri:44}],7:[function(n,t){function i(n){n=n||{};this.ms=n.min||100;this.max=n.max||1e4;this.factor=n.factor||2;this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0;this.attempts=0}t.exports=i;i.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++),t,i;return this.jitter&&(t=Math.random(),i=Math.floor(t*this.jitter*n),n=(Math.floor(t*10)&1)==0?n-i:n+i),Math.min(n,this.max)|0};i.prototype.reset=function(){this.attempts=0};i.prototype.setMin=function(n){this.ms=n};i.prototype.setMax=function(n){this.max=n};i.prototype.setJitter=function(n){this.jitter=n}},{}],8:[function(n,t){var i=[].slice;t.exports=function(n,t){if("string"==typeof t&&(t=n[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=i.call(arguments,2);return function(){return t.apply(n,r.concat(i.call(arguments)))}}},{}],9:[function(n,t){function i(n){if(n)return r(n)}function r(n){for(var t in i.prototype)n[t]=i.prototype[t];return n}t.exports=i;i.prototype.on=i.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks[n]=this._callbacks[n]||[]).push(t),this};i.prototype.once=function(n,t){function i(){r.off(n,i);t.apply(this,arguments)}var r=this;this._callbacks=this._callbacks||{};i.fn=t;this.on(n,i);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(n,t){var i,u,r;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(i=this._callbacks[n],!i)return this;if(1==arguments.length)return delete this._callbacks[n],this;for(r=0;r<i.length;r++)if(u=i[r],u===t||u.fn===t){i.splice(r,1);break}return this};i.prototype.emit=function(n){var r,t,i,u;if(this._callbacks=this._callbacks||{},r=[].slice.call(arguments,1),t=this._callbacks[n],t)for(t=t.slice(0),i=0,u=t.length;i<u;++i)t[i].apply(this,r);return this};i.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks[n]||[]};i.prototype.hasListeners=function(n){return!!this.listeners(n).length}},{}],10:[function(n,t){function i(n){return i.enabled(n)?function(t){t=r(t);var u=new Date,f=u-(i[n]||u);i[n]=u;t=n+" "+t+" +"+i.humanize(f);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(n){return n instanceof Error?n.stack||n.message:n}t.exports=i;i.names=[];i.skips=[];i.enable=function(n){var r,u,t;try{localStorage.debug=n}catch(f){}for(r=(n||"").split(/[\s,]+/),u=r.length,t=0;t<u;t++)n=r[t].replace("*",".*?"),n[0]==="-"?i.skips.push(new RegExp("^"+n.substr(1)+"$")):i.names.push(new RegExp("^"+n+"$"))};i.disable=function(){i.enable("")};i.humanize=function(n){var i=1e3,t=6e4,r=60*t;return n>=r?(n/r).toFixed(1)+"h":n>=t?(n/t).toFixed(1)+"m":n>=i?(n/i|0)+"s":n+"ms"};i.enabled=function(n){for(var t=0,r=i.skips.length;t<r;t++)if(i.skips[t].test(n))return!1;for(t=0,r=i.names.length;t<r;t++)if(i.names[t].test(n))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(u){}},{}],11:[function(n,t){t.exports=n("./lib/")},{"./lib/":12}],12:[function(n,t){t.exports=n("./socket");t.exports.parser=n("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(n,t){(function(i){function r(n,t){if(!(this instanceof r))return new r(n,t);if(t=t||{},n&&"object"==typeof n&&(t=n,n=null),n&&(n=h(n),t.host=n.host,t.secure=n.protocol=="https"||n.protocol=="wss",t.port=n.port,n.query&&(t.query=n.query)),this.secure=null!=t.secure?t.secure:i.location&&"https:"==location.protocol,t.host){var u=t.host.split(":");t.hostname=u.shift();u.length?t.port=u.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1;this.hostname=t.hostname||(i.location?location.hostname:"localhost");this.port=t.port||(i.location&&location.port?location.port:this.secure?443:80);this.query=t.query||{};"string"==typeof this.query&&(this.query=l.decode(this.query));this.upgrade=!1!==t.upgrade;this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!t.forceJSONP;this.jsonp=!1!==t.jsonp;this.forceBase64=!!t.forceBase64;this.enablesXDR=!!t.enablesXDR;this.timestampParam=t.timestampParam||"t";this.timestampRequests=t.timestampRequests;this.transports=t.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=t.policyPort||843;this.rememberUpgrade=t.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=t.onlyBinaryUpgrades;this.pfx=t.pfx||null;this.key=t.key||null;this.passphrase=t.passphrase||null;this.cert=t.cert||null;this.ca=t.ca||null;this.ciphers=t.ciphers||null;this.rejectUnauthorized=t.rejectUnauthorized||null;this.open()}function a(n){var i={},t;for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}var e=n("./transports"),o=n("component-emitter"),u=n("debug")("engine.io-client:socket"),s=n("indexof"),f=n("engine.io-parser"),h=n("parseuri"),c=n("parsejson"),l=n("parseqs");t.exports=r;r.priorWebsocketSuccess=!1;o(r.prototype);r.protocol=f.protocol;r.Socket=r;r.Transport=n("./transport");r.transports=n("./transports");r.parser=n("engine.io-parser");r.prototype.createTransport=function(n){var t;return u('creating transport "%s"',n),t=a(this.query),t.EIO=f.protocol,t.transport=n,this.id&&(t.sid=this.id),new e[n]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized})};r.prototype.open=function(){var t,n;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)n="websocket";else{if(0==this.transports.length){t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}n=this.transports[0]}this.readyState="opening";try{n=this.createTransport(n)}catch(i){this.transports.shift();this.open();return}n.open();this.setTransport(n)};r.prototype.setTransport=function(n){u("setting transport %s",n.name);var t=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=n;n.on("drain",function(){t.onDrain()}).on("packet",function(n){t.onPacket(n)}).on("error",function(n){t.onError(n)}).on("close",function(){t.onClose("transport close")})};r.prototype.probe=function(n){function o(){if(i.onlyBinaryUpgrades){var e=!this.supportsBinary&&i.transport.supportsBinary;f=f||e}if(!f){u('probe transport "%s" opened',n);t.send([{type:"ping",data:"probe"}]);t.once("packet",function(e){if(!f)if("pong"==e.type&&"probe"==e.data){if(u('probe transport "%s" pong',n),i.upgrading=!0,i.emit("upgrading",t),!t)return;r.priorWebsocketSuccess="websocket"==t.name;u('pausing current transport "%s"',i.transport.name);i.transport.pause(function(){f||"closed"!=i.readyState&&(u("changing transport and sending upgrade packet"),a(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{u('probe transport "%s" failed',n);var o=new Error("probe error");o.transport=t.name;i.emit("upgradeError",o)}})}}function s(){f||(f=!0,a(),t.close(),t=null)}function e(r){var f=new Error("probe error: "+r);f.transport=t.name;s();u('probe transport "%s" failed because of error: %s',n,r);i.emit("upgradeError",f)}function h(){e("transport closed")}function c(){e("socket closed")}function l(n){t&&n.name!=t.name&&(u('"%s" works - aborting "%s"',n.name,t.name),s())}function a(){t.removeListener("open",o);t.removeListener("error",e);t.removeListener("close",h);i.removeListener("close",c);i.removeListener("upgrading",l)}u('probing transport "%s"',n);var t=this.createTransport(n,{probe:1}),f=!1,i=this;r.priorWebsocketSuccess=!1;t.once("open",o);t.once("error",e);t.once("close",h);this.once("close",c);this.once("upgrading",l);t.open()};r.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var n=0,t=this.upgrades.length;n<t;n++)this.probe(this.upgrades[n])}};r.prototype.onPacket=function(n){if("opening"==this.readyState||"open"==this.readyState){u('socket receive: type "%s", data "%s"',n.type,n.data);this.emit("packet",n);this.emit("heartbeat");switch(n.type){case"open":this.onHandshake(c(n.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=n.data;this.emit("error",t);break;case"message":this.emit("data",n.data);this.emit("message",n.data)}}else u('packet received with socket readyState "%s"',this.readyState)};r.prototype.onHandshake=function(n){if(this.emit("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.onOpen(),"closed"!=this.readyState){this.setPing();this.removeListener("heartbeat",this.onHeartbeat);this.on("heartbeat",this.onHeartbeat)}};r.prototype.onHeartbeat=function(n){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){if("closed"!=t.readyState)t.onClose("ping timeout")},n||t.pingInterval+t.pingTimeout)};r.prototype.setPing=function(){var n=this;clearTimeout(n.pingIntervalTimer);n.pingIntervalTimer=setTimeout(function(){u("writing ping packet - expecting pong within %sms",n.pingTimeout);n.ping();n.onHeartbeat(n.pingTimeout)},n.pingInterval)};r.prototype.ping=function(){this.sendPacket("ping")};r.prototype.onDrain=function(){for(var n=0;n<this.prevBufferLen;n++)this.callbackBuffer[n]&&this.callbackBuffer[n]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;this.writeBuffer.length==0?this.emit("drain"):this.flush()};r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};r.prototype.write=r.prototype.send=function(n,t){return this.sendPacket("message",n,t),this};r.prototype.sendPacket=function(n,t,i){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:n,data:t};this.emit("packetCreate",r);this.writeBuffer.push(r);this.callbackBuffer.push(i);this.flush()}};r.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;function i(){n.onClose("forced close");u("socket closing - telling transport to close");n.transport.close()}function t(){n.removeListener("upgrade",t);n.removeListener("upgradeError",t);i()}function r(){n.once("upgrade",t);n.once("upgradeError",t)}if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?r():i()});else this.upgrading?r():i()}return this};r.prototype.onError=function(n){u("socket error %j",n);r.priorWebsocketSuccess=!1;this.emit("error",n);this.onClose("transport error",n)};r.prototype.onClose=function(n,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){u('socket close with reason: "%s"',n);var i=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){i.writeBuffer=[];i.callbackBuffer=[];i.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",n,t)}};r.prototype.filterUpgrades=function(n){for(var i=[],t=0,r=n.length;t<r;t++)~s(this.transports,n[t])&&i.push(n[t]);return i}}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:42,parsejson:34,parseqs:35,parseuri:36}],14:[function(n,t){function i(n){this.path=n.path;this.hostname=n.hostname;this.port=n.port;this.secure=n.secure;this.query=n.query;this.timestampParam=n.timestampParam;this.timestampRequests=n.timestampRequests;this.readyState="";this.agent=n.agent||!1;this.socket=n.socket;this.enablesXDR=n.enablesXDR;this.pfx=n.pfx;this.key=n.key;this.passphrase=n.passphrase;this.cert=n.cert;this.ca=n.ca;this.ciphers=n.ciphers;this.rejectUnauthorized=n.rejectUnauthorized}var r=n("engine.io-parser"),u=n("component-emitter");t.exports=i;u(i.prototype);i.timestamps=0;i.prototype.onError=function(n,t){var i=new Error(n);return i.type="TransportError",i.description=t,this.emit("error",i),this};i.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this};i.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this};i.prototype.send=function(n){if("open"==this.readyState)this.write(n);else throw new Error("Transport not open");};i.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};i.prototype.onData=function(n){var t=r.decodePacket(n,this.socket.binaryType);this.onPacket(t)};i.prototype.onPacket=function(n){this.emit("packet",n)};i.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(n,t,i){(function(t){function o(n){var o,s=!1,h=!1,c=!1!==n.jsonp,e,i;if(t.location&&(e="https:"==location.protocol,i=location.port,i||(i=e?443:80),s=n.hostname!=location.hostname||i!=n.port,h=n.secure!=e),n.xdomain=s,n.xscheme=h,o=new r(n),"open"in o&&!n.forceJSONP)return new u(n);if(!c)throw new Error("JSONP disabled");return new f(n)}var r=n("xmlhttprequest"),u=n("./polling-xhr"),f=n("./polling-jsonp"),e=n("./websocket");i.polling=o;i.websocket=e}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(n,t){(function(i){function h(){}function r(n){f.call(this,n);this.query=this.query||{};u||(i.___eio||(i.___eio=[]),u=i.___eio);this.index=u.length;var t=this;u.push(function(n){t.onData(n)});this.query.j=this.index;i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=h)},!1)}var f=n("./polling"),e=n("component-inherit");t.exports=r;var o=/\n/g,s=/\\n/g,u;e(r,f);r.prototype.supportsBinary=!1;r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null);f.prototype.doClose.call(this)};r.prototype.doPoll=function(){var r=this,n=document.createElement("script"),t,i;this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);n.async=!0;n.src=this.uri();n.onerror=function(n){r.onError("jsonp poll error",n)};t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t);this.script=n;i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var n=document.createElement("iframe");document.body.appendChild(n);document.body.removeChild(n)},100)};r.prototype.doWrite=function(n,t){function e(){h();t()}function h(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(n){i.onError("jsonp polling iframe removal error",n)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';u=document.createElement(t)}catch(n){u=document.createElement("iframe");u.name=i.iframeId;u.src="javascript:0"}u.id=i.iframeId;i.form.appendChild(u);i.iframe=u}var i=this;if(!this.form){var r=document.createElement("form"),f=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index,u;r.className="socketio";r.style.position="absolute";r.style.top="-1000px";r.style.left="-1000px";r.target=c;r.method="POST";r.setAttribute("accept-charset","utf-8");f.name="d";r.appendChild(f);document.body.appendChild(r);this.form=r;this.area=f}this.form.action=this.uri();h();n=n.replace(s,"\\\n");this.area.value=n.replace(o,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){i.iframe.readyState=="complete"&&e()}:this.iframe.onload=e}}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./polling":18,"component-inherit":21}],17:[function(n,t){(function(i){function o(){}function u(n){if(e.call(this,n),i.location){var r="https:"==location.protocol,t=location.port;t||(t=r?443:80);this.xd=n.hostname!=i.location.hostname||t!=n.port;this.xs=n.secure!=r}}function r(n){this.method=n.method||"GET";this.uri=n.uri;this.xd=!!n.xd;this.xs=!!n.xs;this.async=!1!==n.async;this.data=undefined!=n.data?n.data:null;this.agent=n.agent;this.isBinary=n.isBinary;this.supportsBinary=n.supportsBinary;this.enablesXDR=n.enablesXDR;this.pfx=n.pfx;this.key=n.key;this.passphrase=n.passphrase;this.cert=n.cert;this.ca=n.ca;this.ciphers=n.ciphers;this.rejectUnauthorized=n.rejectUnauthorized;this.create()}function s(){for(var n in r.requests)r.requests.hasOwnProperty(n)&&r.requests[n].abort()}var h=n("xmlhttprequest"),e=n("./polling"),c=n("component-emitter"),l=n("component-inherit"),f=n("debug")("engine.io-client:polling-xhr");t.exports=u;t.exports.Request=r;l(u,e);u.prototype.supportsBinary=!0;u.prototype.request=function(n){return n=n||{},n.uri=this.uri(),n.xd=this.xd,n.xs=this.xs,n.agent=this.agent||!1,n.supportsBinary=this.supportsBinary,n.enablesXDR=this.enablesXDR,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,new r(n)};u.prototype.doWrite=function(n,t){var r=typeof n!="string"&&n!==undefined,i=this.request({method:"POST",data:n,isBinary:r}),u=this;i.on("success",t);i.on("error",function(n){u.onError("xhr post error",n)});this.sendXhr=i};u.prototype.doPoll=function(){f("xhr poll");var n=this.request(),t=this;n.on("data",function(n){t.onData(n)});n.on("error",function(n){t.onError("xhr poll error",n)});this.pollXhr=n};c(r.prototype);r.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR},n,u;t.pfx=this.pfx;t.key=this.key;t.passphrase=this.passphrase;t.cert=this.cert;t.ca=this.ca;t.ciphers=this.ciphers;t.rejectUnauthorized=this.rejectUnauthorized;n=this.xhr=new h(t);u=this;try{if(f("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async),this.supportsBinary&&(n.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0);this.hasXDR()?(n.onload=function(){u.onLoad()},n.onerror=function(){u.onError(n.responseText)}):n.onreadystatechange=function(){4==n.readyState&&(200==n.status||1223==n.status?u.onLoad():setTimeout(function(){u.onError(n.status)},0))};f("xhr data %s",this.data);n.send(this.data)}catch(e){setTimeout(function(){u.onError(e)},0);return}i.document&&(this.index=r.requestsCount++,r.requests[this.index]=this)};r.prototype.onSuccess=function(){this.emit("success");this.cleanup()};r.prototype.onData=function(n){this.emit("data",n);this.onSuccess()};r.prototype.onError=function(n){this.emit("error",n);this.cleanup(!0)};r.prototype.cleanup=function(n){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,n)try{this.xhr.abort()}catch(t){}i.document&&delete r.requests[this.index];this.xhr=null}};r.prototype.onLoad=function(){var n,t;try{try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(i){}n=t==="application/octet-stream"?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(i){this.onError(i)}if(null!=n)this.onData(n)};r.prototype.hasXDR=function(){return"undefined"!=typeof i.XDomainRequest&&!this.xs&&this.enablesXDR};r.prototype.abort=function(){this.cleanup()};i.document&&(r.requestsCount=0,r.requests={},i.attachEvent?i.attachEvent("onunload",s):i.addEventListener&&i.addEventListener("beforeunload",s,!1))}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(n,t){function r(n){var t=n&&n.forceBase64;(!e||t)&&(this.supportsBinary=!1);u.call(this,n)}var u=n("../transport"),o=n("parseqs"),f=n("engine.io-parser"),s=n("component-inherit"),i=n("debug")("engine.io-client:polling"),e;t.exports=r;e=function(){var t=n("xmlhttprequest"),i=new t({xdomain:!1});return null!=i.responseType}();s(r,u);r.prototype.name="polling";r.prototype.doOpen=function(){this.poll()};r.prototype.pause=function(n){function r(){i("paused");u.readyState="paused";n()}var u=this,t;if(this.readyState="pausing",this.polling||!this.writable){if(t=0,this.polling){i("we are currently polling - waiting to pause");t++;this.once("pollComplete",function(){i("pre-pause polling complete");--t||r()})}if(!this.writable){i("we are currently writing - waiting to pause");t++;this.once("drain",function(){i("pre-pause writing complete");--t||r()})}}else r()};r.prototype.poll=function(){i("polling");this.polling=!0;this.doPoll();this.emit("poll")};r.prototype.onData=function(n){var t=this,r;i("polling got data %s",n);r=function(n){if("opening"==t.readyState&&t.onOpen(),"close"==n.type)return t.onClose(),!1;t.onPacket(n)};f.decodePayload(n,this.socket.binaryType,r);"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():i('ignoring poll - transport state "%s"',this.readyState))};r.prototype.doClose=function(){function n(){i("writing close packet");t.write([{type:"close"}])}var t=this;if("open"==this.readyState)i("transport open - closing"),n();else{i("transport not open - deferring close");this.once("open",n)}};r.prototype.write=function(n){var t=this,i;this.writable=!1;i=function(){t.writable=!0;t.emit("drain")};t=this;f.encodePayload(n,this.supportsBinary,function(n){t.doWrite(n,i)})};r.prototype.uri=function(){var n=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(n[this.timestampParam]=+new Date+"-"+u.timestamps++),this.supportsBinary||n.sid||(n.b64=1),n=o.encode(n),this.port&&("https"==t&&this.port!=443||"http"==t&&this.port!=80)&&(i=":"+this.port),n.length&&(n="?"+n),t+"://"+this.hostname+i+this.path+n}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:35,xmlhttprequest:20}],19:[function(n,t){function i(n){var t=n&&n.forceBase64;t&&(this.supportsBinary=!1);r.call(this,n)}var r=n("../transport"),f=n("engine.io-parser"),e=n("parseqs"),o=n("component-inherit"),s=n("debug")("engine.io-client:websocket"),u=n("ws");t.exports=i;o(i,r);i.prototype.name="websocket";i.prototype.supportsBinary=!0;i.prototype.doOpen=function(){if(this.check()){var i=this,t=this.uri(),n={agent:this.agent};n.pfx=this.pfx;n.key=this.key;n.passphrase=this.passphrase;n.cert=this.cert;n.ca=this.ca;n.ciphers=this.ciphers;n.rejectUnauthorized=this.rejectUnauthorized;this.ws=new u(t,void 0,n);this.ws.binaryType===undefined&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};i.prototype.addEventListeners=function(){var n=this;this.ws.onopen=function(){n.onOpen()};this.ws.onclose=function(){n.onClose()};this.ws.onmessage=function(t){n.onData(t.data)};this.ws.onerror=function(t){n.onError("websocket error",t)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(n){var t=this;setTimeout(function(){r.prototype.onData.call(t,n)},0)});i.prototype.write=function(n){function u(){i.writable=!0;i.emit("drain")}var i=this,t,r;for(this.writable=!1,t=0,r=n.length;t<r;t++)f.encodePacket(n[t],this.supportsBinary,function(n){try{i.ws.send(n)}catch(t){s("websocket closed before onclose event")}});setTimeout(u,0)};i.prototype.onClose=function(){r.prototype.onClose.call(this)};i.prototype.doClose=function(){typeof this.ws!="undefined"&&this.ws.close()};i.prototype.uri=function(){var n=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"==t&&this.port!=443||"ws"==t&&this.port!=80)&&(i=":"+this.port),this.timestampRequests&&(n[this.timestampParam]=+new Date),this.supportsBinary||(n.b64=1),n=e.encode(n),n.length&&(n="?"+n),t+"://"+this.hostname+i+this.path+n};i.prototype.check=function(){return!!u&&!("__initialize"in u&&this.name===i.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:35,ws:37}],20:[function(n,t){var i=n("has-cors");t.exports=function(n){var t=n.xdomain,r=n.xscheme,u=n.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(f){}try{if("undefined"!=typeof XDomainRequest&&!r&&u)return new XDomainRequest}catch(f){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":40}],21:[function(n,t){t.exports=function(n,t){var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n}},{}],22:[function(n,t,i){function u(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function f(){var n=arguments,t=this.useColors,r,u,f;return(n[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+n[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),!t)?n:(r="color: "+this.color,n=[n[0],r,"color: inherit"].concat(Array.prototype.slice.call(n,1)),u=0,f=0,n[0].replace(/%[a-z%]/g,function(n){"%"!==n&&(u++,"%c"===n&&(f=u))}),n.splice(f,0,r),n)}function e(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(n){try{null==n?localStorage.removeItem("debug"):localStorage.debug=n}catch(t){}}function r(){var n;try{n=localStorage.debug}catch(t){}return n}i=t.exports=n("./debug");i.log=e;i.formatArgs=f;i.save=o;i.load=r;i.useColors=u;i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];i.formatters.j=function(n){return JSON.stringify(n)};i.enable(r())},{"./debug":23}],23:[function(n,t,i){function f(){return i.colors[u++%i.colors.length]}function e(n){function u(){}function t(){var u=t,o=+new Date,h=o-(r||o),n,e,s;u.diff=h;u.prev=r;u.curr=o;r=o;null==u.useColors&&(u.useColors=i.useColors());null==u.color&&u.useColors&&(u.color=f());n=Array.prototype.slice.call(arguments);n[0]=i.coerce(n[0]);"string"!=typeof n[0]&&(n=["%o"].concat(n));e=0;n[0]=n[0].replace(/%([a-z%])/g,function(t,r){var f,o;return t==="%"?t:(e++,f=i.formatters[r],"function"==typeof f&&(o=n[e],t=f.call(u,o),n.splice(e,1),e--),t)});"function"==typeof i.formatArgs&&(n=i.formatArgs.apply(u,n));s=t.log||i.log||console.log.bind(console);s.apply(u,n)}u.enabled=!1;t.enabled=!0;var e=i.enabled(n)?t:u;return e.namespace=n,e}function o(n){var r,u,t;for(i.save(n),r=(n||"").split(/[\s,]+/),u=r.length,t=0;t<u;t++)r[t]&&(n=r[t].replace(/\*/g,".*?"),n[0]==="-"?i.skips.push(new RegExp("^"+n.substr(1)+"$")):i.names.push(new RegExp("^"+n+"$")))}function s(){i.enable("")}function h(n){for(var t=0,r=i.skips.length;t<r;t++)if(i.skips[t].test(n))return!1;for(t=0,r=i.names.length;t<r;t++)if(i.names[t].test(n))return!0;return!1}function c(n){return n instanceof Error?n.stack||n.message:n}i=t.exports=e;i.coerce=c;i.disable=s;i.enable=o;i.enabled=h;i.humanize=n("ms");i.names=[];i.skips=[];i.formatters={};var u=0,r},{ms:24}],24:[function(n,t){function s(n){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(n),t,s;if(e){t=parseFloat(e[1]);s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"y":return t*o;case"days":case"day":case"d":return t*f;case"hours":case"hour":case"h":return t*u;case"minutes":case"minute":case"m":return t*r;case"seconds":case"second":case"s":return t*i;case"ms":return t}}}function h(n){return n>=f?Math.round(n/f)+"d":n>=u?Math.round(n/u)+"h":n>=r?Math.round(n/r)+"m":n>=i?Math.round(n/i)+"s":n+"ms"}function c(n){return e(n,f,"day")||e(n,u,"hour")||e(n,r,"minute")||e(n,i,"second")||n+" ms"}function e(n,t,i){if(!(n<t))return n<t*1.5?Math.floor(n/t)+" "+i:Math.ceil(n/t)+" "+i+"s"}var i=1e3,r=i*60,u=r*60,f=u*24,o=f*365.25;t.exports=function(n,t){return(t=t||{},"string"==typeof n)?s(n):t.long?c(n):h(n)}},{}],25:[function(n,t,i){(function(t){function b(n,t){var r="b"+i.packets[n.type]+n.data.data;return t(r)}function k(n,t,r){var u;if(!t)return i.encodeBase64Packet(n,r);var e=n.data,s=new Uint8Array(e),f=new Uint8Array(1+e.byteLength);for(f[0]=o[n.type],u=0;u<s.length;u++)f[u+1]=s[u];return r(f.buffer)}function d(n,t,r){if(!t)return i.encodeBase64Packet(n,r);var u=new FileReader;return u.onload=function(){n.data=u.result;i.encodePacket(n,t,!0,r)},u.readAsArrayBuffer(n.data)}function g(n,t,u){var f,e;return t?c?d(n,t,u):(f=new Uint8Array(1),f[0]=o[n.type],e=new r([f.buffer,n.data]),u(e)):i.encodeBase64Packet(n,u)}function s(n,t,i){for(var u=new Array(n.length),f=y(n.length,i),e=function(n,i,r){t(i,function(t,i){u[n]=i;r(t,u)})},r=0;r<n.length;r++)e(r,n[r],f)}var l=n("./keys"),a=n("has-binary"),e=n("arraybuffer.slice"),v=n("base64-arraybuffer"),y=n("after"),h=n("utf8"),p=navigator.userAgent.match(/Android/i),w=/PhantomJS/i.test(navigator.userAgent),c=p||w;i.protocol=3;var o=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=l(o),u={type:"error",data:"parser error"},r=n("blob");i.encodePacket=function(n,i,u,f){var e,s;return("function"==typeof i&&(f=i,i=!1),"function"==typeof u&&(f=u,u=null),e=n.data===undefined?undefined:n.data.buffer||n.data,t.ArrayBuffer&&e instanceof ArrayBuffer)?k(n,i,f):r&&e instanceof t.Blob?g(n,i,f):e&&e.base64?b(n,f):(s=o[n.type],undefined!==n.data&&(s+=u?h.encode(String(n.data)):String(n.data)),f(""+s))};i.encodeBase64Packet=function(n,u){var s="b"+i.packets[n.type],e,h,o,c,f;if(r&&n.data instanceof r)return e=new FileReader,e.onload=function(){var n=e.result.split(",")[1];u(s+n)},e.readAsDataURL(n.data);try{h=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(l){for(o=new Uint8Array(n.data),c=new Array(o.length),f=0;f<o.length;f++)c[f]=o[f];h=String.fromCharCode.apply(null,c)}return s+=t.btoa(h),u(s)};i.decodePacket=function(n,t,o){var s;if(typeof n=="string"||n===undefined){if(n.charAt(0)=="b")return i.decodeBase64Packet(n.substr(1),t);if(o)try{n=h.decode(n)}catch(a){return u}return(s=n.charAt(0),Number(s)!=s||!f[s])?u:n.length>1?{type:f[s],data:n.substring(1)}:{type:f[s]}}var l=new Uint8Array(n),s=l[0],c=e(n,1);return r&&t==="blob"&&(c=new r([c])),{type:f[s],data:c}};i.decodeBase64Packet=function(n,i){var e=f[n.charAt(0)],u;return t.ArrayBuffer?(u=v.decode(n.substr(1)),i==="blob"&&r&&(u=new r([u])),{type:e,data:u}):{type:e,data:{base64:!0,data:n.substr(1)}}};i.encodePayload=function(n,t,u){function e(n){return n.length+":"+n}function o(n,r){i.encodePacket(n,f?t:!1,!0,function(n){r(null,e(n))})}typeof t=="function"&&(u=t,t=null);var f=a(n);if(t&&f)return r&&!c?i.encodePayloadAsBlob(n,u):i.encodePayloadAsArrayBuffer(n,u);if(!n.length)return u("0:");s(n,o,function(n,t){return u(t.join(""))})};i.decodePayload=function(n,t,r){var o,f,s,h,e,c,l,a;if(typeof n!="string")return i.decodePayloadAsBinary(n,t,r);if(typeof t=="function"&&(r=t,t=null),n=="")return r(u,0,1);for(f="",e=0,c=n.length;e<c;e++)if(l=n.charAt(e),":"!=l)f+=l;else{if(""==f||f!=(s=Number(f))||(h=n.substr(e+1,s),f!=h.length))return r(u,0,1);if(h.length){if(o=i.decodePacket(h,t,!0),u.type==o.type&&u.data==o.data)return r(u,0,1);if(a=r(o,e+s,c),!1===a)return}e+=s;f=""}if(f!="")return r(u,0,1)};i.encodePayloadAsArrayBuffer=function(n,t){function r(n,t){i.encodePacket(n,!0,!0,function(n){return t(null,n)})}if(!n.length)return t(new ArrayBuffer(0));s(n,r,function(n,i){var f=i.reduce(function(n,t){var i;return i=typeof t=="string"?t.length:t.byteLength,n+i.toString().length+i+2},0),r=new Uint8Array(f),u=0;return i.forEach(function(n){var o=typeof n=="string",f=n,e,i,t;if(o){for(i=new Uint8Array(n.length),t=0;t<n.length;t++)i[t]=n.charCodeAt(t);f=i.buffer}for(r[u++]=o?0:1,e=f.byteLength.toString(),t=0;t<e.length;t++)r[u++]=parseInt(e[t]);for(r[u++]=255,i=new Uint8Array(f),t=0;t<i.length;t++)r[u++]=i[t]}),t(r.buffer)})};i.encodePayloadAsBlob=function(n,t){function u(n,t){i.encodePacket(n,!0,!0,function(n){var f=new Uint8Array(1),e,i,s;if(f[0]=1,typeof n=="string"){for(e=new Uint8Array(n.length),i=0;i<n.length;i++)e[i]=n.charCodeAt(i);n=e.buffer;f[0]=0}var h=n instanceof ArrayBuffer?n.byteLength:n.size,u=h.toString(),o=new Uint8Array(u.length+1);for(i=0;i<u.length;i++)o[i]=parseInt(u[i]);o[u.length]=255;r&&(s=new r([f.buffer,o.buffer,n]),t(null,s))})}s(n,u,function(n,i){return t(new r(i))})};i.decodePayloadAsBinary=function(n,t,r){var h,a,f,y;typeof t=="function"&&(r=t,t=null);for(var o=n,c=[],v=!1;o.byteLength>0;){var l=new Uint8Array(o),p=l[0]===0,s="";for(f=1;;f++){if(l[f]==255)break;if(s.length>310){v=!0;break}s+=l[f]}if(v)return r(u,0,1);if(o=e(o,2+s.length),s=parseInt(s),h=e(o,0,s),p)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(w){for(a=new Uint8Array(h),h="",f=0;f<a.length;f++)h+=String.fromCharCode(a[f])}c.push(h);o=e(o,s)}y=c.length;c.forEach(function(n,u){r(i.decodePacket(n,t,!0),u,y)})}}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":31,utf8:33}],26:[function(n,t){t.exports=Object.keys||function(n){var i=[],r=Object.prototype.hasOwnProperty,t;for(t in n)r.call(n,t)&&i.push(t);return i}},{}],27:[function(n,t){function i(n,t,i){function u(n,r){if(u.count<=0)throw new Error("after called too many times");--u.count;n?(f=!0,t(n),t=i):u.count!==0||f||t(null,r)}var f=!1;return i=i||r,u.count=n,n===0?t():u}function r(){}t.exports=i},{}],28:[function(n,t){t.exports=function(n,t,i){var r=n.byteLength,o,f,u,e;if(t=t||0,i=i||r,n.slice)return n.slice(t,i);if(t<0&&(t+=r),i<0&&(i+=r),i>r&&(i=r),t>=r||t>=i||r===0)return new ArrayBuffer(0);for(o=new Uint8Array(n),f=new Uint8Array(i-t),u=t,e=0;u<i;u++,e++)f[e]=o[u];return f.buffer}},{}],29:[function(n,t,i){(function(n){"use strict";i.encode=function(t){for(var u=new Uint8Array(t),f=u.length,i="",r=0;r<f;r+=3)i+=n[u[r]>>2],i+=n[(u[r]&3)<<4|u[r+1]>>4],i+=n[(u[r+1]&15)<<2|u[r+2]>>6],i+=n[u[r+2]&63];return f%3==2?i=i.substring(0,i.length-1)+"=":f%3==1&&(i=i.substring(0,i.length-2)+"=="),i};i.decode=function(t){var u=t.length*.75,l=t.length,i,f=0,h,e,o,c,s,r;for(t[t.length-1]==="="&&(u--,t[t.length-2]==="="&&u--),s=new ArrayBuffer(u),r=new Uint8Array(s),i=0;i<l;i+=4)h=n.indexOf(t[i]),e=n.indexOf(t[i+1]),o=n.indexOf(t[i+2]),c=n.indexOf(t[i+3]),r[f++]=h<<2|e>>4,r[f++]=(e&15)<<4|o>>2,r[f++]=(o&3)<<6|c&63;return s}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(n,t){(function(n){function f(n,t){var r,u;for(t=t||{},r=new i,u=0;u<n.length;u++)r.append(n[u]);return t.type?r.getBlob(t.type):r.getBlob()}var i=n.BlobBuilder||n.WebKitBlobBuilder||n.MSBlobBuilder||n.MozBlobBuilder,r=function(){try{var n=new Blob(["hi"]);return n.size==2}catch(t){return!1}}(),u=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return r?n.Blob:u?f:undefined}()}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],31:[function(n,t){(function(i){function u(n){function t(n){var u,f;if(!n)return!1;if(i.Buffer&&i.Buffer.isBuffer(n)||i.ArrayBuffer&&n instanceof ArrayBuffer||i.Blob&&n instanceof Blob||i.File&&n instanceof File)return!0;if(r(n)){for(u=0;u<n.length;u++)if(t(n[u]))return!0}else if(n&&"object"==typeof n){n.toJSON&&(n=n.toJSON());for(f in n)if(n.hasOwnProperty(f)&&t(n[f]))return!0}return!1}return t(n)}var r=n("isarray");t.exports=u}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{isarray:32}],32:[function(n,t){t.exports=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"}},{}],33:[function(t,i,r){(function(t){(function(u){function w(n){for(var r=[],i=0,f=n.length,t,u;i<f;)t=n.charCodeAt(i++),t>=55296&&t<=56319&&i<f?(u=n.charCodeAt(i++),(u&64512)==56320?r.push(((t&1023)<<10)+(u&1023)+65536):(r.push(t),i--)):r.push(t);return r}function d(n){for(var u=n.length,r=-1,t,i="";++r<u;)t=n[r],t>65535&&(t-=65536,i+=f(t>>>10&1023|55296),t=56320|t&1023),i+=f(t);return i}function y(n,t){return f(n>>t&63|128)}function g(n){if((n&4294967168)==0)return f(n);var t="";return(n&4294965248)==0?t=f(n>>6&31|192):(n&4294901760)==0?t=f(n>>12&15|224)+y(n,6):(n&4292870144)==0&&(t=f(n>>18&7|240),t+=y(n,12),t+=y(n,6)),t+f(n&63|128)}function nt(n){for(var t=w(n),f=t.length,i=-1,r,u="";++i<f;)r=t[i],u+=g(r);return u}function s(){if(e>=a)throw Error("Invalid byte index");var n=l[e]&255;if(e++,(n&192)==128)return n&63;throw Error("Invalid continuation byte");}function tt(){var t,r,u,n,i;if(e>a)throw Error("Invalid byte index");if(e==a)return!1;if(t=l[e]&255,e++,(t&128)==0)return t;if((t&224)==192){if(i=s(),n=(t&31)<<6|i,n>=128)return n;throw Error("Invalid continuation byte");}if((t&240)==224){if(i=s(),r=s(),n=(t&15)<<12|i<<6|r,n>=2048)return n;throw Error("Invalid continuation byte");}if((t&248)==240&&(i=s(),r=s(),u=s(),n=(t&15)<<18|i<<12|r<<6|u,n>=65536&&n<=1114111))return n;throw Error("Invalid UTF-8 detected");}function it(n){l=w(n);a=l.length;e=0;for(var t=[],i;(i=tt())!==!1;)t.push(i);return d(t)}var c=typeof r=="object"&&r,p=typeof i=="object"&&i&&i.exports==c&&i,h=typeof t=="object"&&t,f,l,a,e,o,b,k,v;if((h.global===h||h.window===h)&&(u=h),f=String.fromCharCode,o={version:"2.0.0",encode:nt,decode:it},typeof n=="function"&&typeof n.amd=="object"&&n.amd)n(function(){return o});else if(c&&!c.nodeType)if(p)p.exports=o;else{b={};k=b.hasOwnProperty;for(v in o)k.call(o,v)&&(c[v]=o[v])}else u.utf8=o})(this)}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],34:[function(n,t){(function(n){var i=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,u=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,e=/^\s+/,o=/\s+$/;t.exports=function(t){return"string"!=typeof t||!t?null:(t=t.replace(e,"").replace(o,""),n.JSON&&JSON.parse)?JSON.parse(t):i.test(t.replace(r,"@").replace(u,"]").replace(f,""))?new Function("return "+t)():void 0}}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],35:[function(n,t,i){i.encode=function(n){var t="",i;for(i in n)n.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return t};i.decode=function(n){for(var r={},u=n.split("&"),i,t=0,f=u.length;t<f;t++)i=u[t].split("="),r[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return r}},{}],36:[function(n,t){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(n){var o=n,u=n.indexOf("["),f=n.indexOf("]");u!=-1&&f!=-1&&(n=n.substring(0,u)+n.substring(u,f).replace(/:/g,";")+n.substring(f,n.length));for(var s=i.exec(n||""),t={},e=14;e--;)t[r[e]]=s[e]||"";return u!=-1&&f!=-1&&(t.source=o,t.host=t.host.substring(1,t.host.length-1).replace(/;/g,":"),t.authority=t.authority.replace("[","").replace("]","").replace(/;/g,":"),t.ipv6uri=!0),t}},{}],37:[function(n,t){function u(n,t){return t?new i(n,t):new i(n)}var r=function(){return this}(),i=r.WebSocket||r.MozWebSocket;t.exports=i?u:null;i&&(u.prototype=i.prototype)},{}],38:[function(n,t){(function(i){function u(n){function t(n){var u,f;if(!n)return!1;if(i.Buffer&&i.Buffer.isBuffer(n)||i.ArrayBuffer&&n instanceof ArrayBuffer||i.Blob&&n instanceof Blob||i.File&&n instanceof File)return!0;if(r(n)){for(u=0;u<n.length;u++)if(t(n[u]))return!0}else if(n&&"object"==typeof n){n.toJSON&&(n=n.toJSON());for(f in n)if(Object.prototype.hasOwnProperty.call(n,f)&&t(n[f]))return!0}return!1}return t(n)}var r=n("isarray");t.exports=u}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{isarray:39}],39:[function(n,t){t.exports=n(32)},{}],40:[function(n,t){var i=n("global");try{t.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(r){t.exports=!1}},{global:41}],41:[function(n,t){t.exports=function(){return this}()},{}],42:[function(n,t){var i=[].indexOf;t.exports=function(n,t){if(i)return n.indexOf(t);for(var r=0;r<n.length;++r)if(n[r]===t)return r;return-1}},{}],43:[function(n,t,i){var r=Object.prototype.hasOwnProperty;i.keys=Object.keys||function(n){var i=[],t;for(t in n)r.call(n,t)&&i.push(t);return i};i.values=function(n){var i=[],t;for(t in n)r.call(n,t)&&i.push(n[t]);return i};i.merge=function(n,t){for(var i in t)r.call(t,i)&&(n[i]=t[i]);return n};i.length=function(n){return i.keys(n).length};i.isEmpty=function(n){return 0==i.length(n)}},{}],44:[function(n,t){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(n){for(var f=i.exec(n||""),u={},t=14;t--;)u[r[t]]=f[t]||"";return u}},{}],45:[function(n,t,i){(function(t){var r=n("isarray"),u=n("./is-buffer");i.deconstructPacket=function(n){function i(n){var s,e,f,o;if(!n)return n;if(u(n))return s={_placeholder:!0,num:t.length},t.push(n),s;if(r(n)){for(f=new Array(n.length),e=0;e<n.length;e++)f[e]=i(n[e]);return f}if("object"==typeof n&&!(n instanceof Date)){f={};for(o in n)f[o]=i(n[o]);return f}return n}var t=[],e=n.data,f=n;return f.data=i(e),f.attachments=t.length,{packet:f,buffers:t}};i.reconstructPacket=function(n,t){function i(n){var u,f;if(n&&n._placeholder)return t[n.num];if(r(n)){for(u=0;u<n.length;u++)n[u]=i(n[u]);return n}if(n&&"object"==typeof n){for(f in n)n[f]=i(n[f]);return n}return n}return n.data=i(n.data),n.attachments=undefined,n};i.removeBlobs=function(n,i){function e(n,s,h){var l,c,a;if(!n)return n;if(t.Blob&&n instanceof Blob||t.File&&n instanceof File)o++,l=new FileReader,l.onload=function(){h?h[s]=this.result:f=this.result;--o||i(f)},l.readAsArrayBuffer(n);else if(r(n))for(c=0;c<n.length;c++)e(n[c],c,n);else if(n&&"object"==typeof n&&!u(n))for(a in n)e(n[a],a,n)}var o=0,f=n;e(f);o||i(f)}}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./is-buffer":47,isarray:48}],46:[function(n,t,i){function s(){}function h(n){var t="",r=!1;return t+=n.type,(i.BINARY_EVENT==n.type||i.BINARY_ACK==n.type)&&(t+=n.attachments,t+="-"),n.nsp&&"/"!=n.nsp&&(r=!0,t+=n.nsp),null!=n.id&&(r&&(t+=",",r=!1),t+=n.id),null!=n.data&&(r&&(t+=","),t+=o.stringify(n.data)),u("encoded %j as %s",n,t),t}function v(n,t){function i(n){var i=f.deconstructPacket(n),u=h(i.packet),r=i.buffers;r.unshift(u);t(r)}f.removeBlobs(n,i)}function r(){this.reconstructor=null}function y(n){var r={},t=0,e,s,f;if(r.type=Number(n.charAt(0)),null==i.types[r.type])return c();if(i.BINARY_EVENT==r.type||i.BINARY_ACK==r.type){for(e="";n.charAt(++t)!="-";)if(e+=n.charAt(t),t==n.length)break;if(e!=Number(e)||n.charAt(t)!="-")throw new Error("Illegal attachments");r.attachments=Number(e)}if("/"==n.charAt(t+1))for(r.nsp="";++t;){if(f=n.charAt(t),","==f)break;if(r.nsp+=f,t==n.length)break}else r.nsp="/";if(s=n.charAt(t+1),""!==s&&Number(s)==s){for(r.id="";++t;){if(f=n.charAt(t),null==f||Number(f)!=f){--t;break}if(r.id+=n.charAt(t),t==n.length)break}r.id=Number(r.id)}if(n.charAt(++t))try{r.data=o.parse(n.substr(t))}catch(h){return c()}return u("decoded %s as %j",n,r),r}function e(n){this.reconPack=n;this.buffers=[]}function c(){return{type:i.ERROR,data:"parser error"}}var u=n("debug")("socket.io-parser"),o=n("json3"),p=n("isarray"),l=n("component-emitter"),f=n("./binary"),a=n("./is-buffer");i.protocol=4;i.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"];i.CONNECT=0;i.DISCONNECT=1;i.EVENT=2;i.ACK=3;i.ERROR=4;i.BINARY_EVENT=5;i.BINARY_ACK=6;i.Encoder=s;i.Decoder=r;s.prototype.encode=function(n,t){if(u("encoding packet %j",n),i.BINARY_EVENT==n.type||i.BINARY_ACK==n.type)v(n,t);else{var r=h(n);t([r])}};l(r.prototype);r.prototype.add=function(n){var t;if("string"==typeof n)t=y(n),i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type?(this.reconstructor=new e(t),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",t)):this.emit("decoded",t);else if(a(n)||n.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(n),t&&(this.reconstructor=null,this.emit("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n);};r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};e.prototype.takeBinaryData=function(n){if(this.buffers.push(n),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null};e.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":45,"./is-buffer":47,"component-emitter":9,debug:10,isarray:48,json3:49}],47:[function(n,t){(function(n){function i(t){return n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=i}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],48:[function(n,t){t.exports=n(32)},{}],49:[function(t,i,r){(function(t){function c(n){var e,i,a,t,l,u,r;if(c[n]!==s)return c[n];if(n=="bug-string-char-index")e="a"[0]!="a";else if(n=="json")e=c("json-stringify")&&c("json-parse");else{if(a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',n=="json-stringify"){if(t=h.stringify,l=typeof t=="function"&&o,l){(i=function(){return 1}).toJSON=i;try{l=t(0)==="0"&&t(new Number)==="0"&&t(new String)=='""'&&t(f)===s&&t(s)===s&&t()===s&&t(i)==="1"&&t([i])=="[1]"&&t([s])=="[null]"&&t(null)=="null"&&t([s,f,null])=="[null,null,null]"&&t({a:[i,!0,!1,null,"\x00\b\n\f\r\t"]})==a&&t(null,i)==="1"&&t([1,2],null,1)=="[\n 1,\n 2\n]"&&t(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&t(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&t(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&t(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(v){l=!1}}e=l}if(n=="json-parse"){if(u=h.parse,typeof u=="function")try{if(u("0")===0&&!u(!1)&&(i=u(a),r=i.a.length==5&&i.a[0]===1,r)){try{r=!u('"\t"')}catch(v){}if(r)try{r=u("01")!==1}catch(v){}if(r)try{r=u("1.")!==1}catch(v){}}}catch(v){r=!1}e=r}}return c[n]=!!e}var f={}.toString,e,y,s,ht=typeof n=="function"&&n.amd,k=typeof JSON=="object"&&JSON,h=typeof r=="object"&&r&&!r.nodeType&&r,o,ut,ft;h&&k?(h.stringify=k.stringify,h.parse=k.parse):h=t.JSON=k||{};o=new Date(-0xc782b5b800cec);try{o=o.getUTCFullYear()==-109252&&o.getUTCMonth()===0&&o.getUTCDate()===1&&o.getUTCHours()==10&&o.getUTCMinutes()==37&&o.getUTCSeconds()==6&&o.getUTCMilliseconds()==708}catch(kt){}if(!c("json")){var p="[object Function]",ct="[object Date]",d="[object Number]",g="[object String]",nt="[object Array]",lt="[object Boolean]",w=c("bug-string-char-index");if(!o)var l=Math.floor,at=[0,31,59,90,120,151,181,212,243,273,304,334],b=function(n,t){return at[t]+365*(n-1970)+l((n-1969+(t=+(t>1)))/4)-l((n-1901+t)/100)+l((n-1601+t)/400)};if((e={}.hasOwnProperty)||(e=function(n){var t={},i;return(t.__proto__=null,t.__proto__={toString:1},t).toString!=f?e=function(n){var t=this.__proto__,i=n in(this.__proto__=null,this);return this.__proto__=t,i}:(i=t.constructor,e=function(n){var t=(this.constructor||i).prototype;return n in this&&!(n in t&&this[n]===t[n])}),t=null,e.call(this,n)}),ut={boolean:1,number:1,string:1,undefined:1},ft=function(n,t){var i=typeof n[t];return i=="object"?!!n[t]:!ut[i]},y=function(n,t){var r=0,u,i,o;(u=function(){this.valueOf=0}).prototype.valueOf=0;i=new u;for(o in i)e.call(i,o)&&r++;return u=i=null,r?y=r==2?function(n,t){var r={},u=f.call(n)==p,i;for(i in n)u&&i=="prototype"||e.call(r,i)||!(r[i]=1)||!e.call(n,i)||t(i)}:function(n,t){var u=f.call(n)==p,i,r;for(i in n)u&&i=="prototype"||!e.call(n,i)||(r=i==="constructor")||t(i);(r||e.call(n,i="constructor"))&&t(i)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(n,t){var u=f.call(n)==p,r,o,s=!u&&typeof n.constructor!="function"&&ft(n,"hasOwnProperty")?n.hasOwnProperty:e;for(r in n)u&&r=="prototype"||!s.call(n,r)||t(r);for(o=i.length;r=i[--o];s.call(n,r)&&t(r));}),y(n,t)},!c("json-stringify")){var vt={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},yt="000000",a=function(n,t){return(yt+(t||0)).slice(-n)},pt="\\u00",et=function(n){var r='"',t=0,u=n.length,f=u>10&&w,e,i;for(f&&(e=n.split(""));t<u;t++){i=n.charCodeAt(t);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:r+=vt[i];break;default:if(i<32){r+=pt+a(2,i.toString(16));break}r+=f?e[t]:w?n.charAt(t):n[t]}}return r+'"'},it=function(n,t,i,r,u,o,h){var c,p,v,tt,w,rt,ot,st,ht,at,k,vt,ft,ut,yt,pt;try{c=t[n]}catch(wt){}if(typeof c=="object"&&c)if(p=f.call(c),p!=ct||e.call(c,"toJSON"))typeof c.toJSON=="function"&&(p!=d&&p!=g&&p!=nt||e.call(c,"toJSON"))&&(c=c.toJSON(n));else if(c>-1/0&&c<1/0){if(b){for(w=l(c/864e5),v=l(w/365.2425)+1970-1;b(v+1,0)<=w;v++);for(tt=l((w-b(v,0))/30.42);b(v,tt+1)<=w;tt++);w=1+w-b(v,tt);rt=(c%864e5+864e5)%864e5;ot=l(rt/36e5)%24;st=l(rt/6e4)%60;ht=l(rt/1e3)%60;at=rt%1e3}else v=c.getUTCFullYear(),tt=c.getUTCMonth(),w=c.getUTCDate(),ot=c.getUTCHours(),st=c.getUTCMinutes(),ht=c.getUTCSeconds(),at=c.getUTCMilliseconds();c=(v<=0||v>=1e4?(v<0?"-":"+")+a(6,v<0?-v:v):a(4,v))+"-"+a(2,tt+1)+"-"+a(2,w)+"T"+a(2,ot)+":"+a(2,st)+":"+a(2,ht)+"."+a(3,at)+"Z"}else c=null;if(i&&(c=i.call(t,n,c)),c===null)return"null";if(p=f.call(c),p==lt)return""+c;if(p==d)return c>-1/0&&c<1/0?""+c:"null";if(p==g)return et(""+c);if(typeof c=="object"){for(ut=h.length;ut--;)if(h[ut]===c)throw TypeError();if(h.push(c),k=[],yt=o,o+=u,p==nt){for(ft=0,ut=c.length;ft<ut;ft++)vt=it(ft,c,i,r,u,o,h),k.push(vt===s?"null":vt);pt=k.length?u?"[\n"+o+k.join(",\n"+o)+"\n"+yt+"]":"["+k.join(",")+"]":"[]"}else y(r||c,function(n){var t=it(n,c,i,r,u,o,h);t!==s&&k.push(et(n)+":"+(u?" ":"")+t)}),pt=k.length?u?"{\n"+o+k.join(",\n"+o)+"\n"+yt+"}":"{"+k.join(",")+"}":"{}";return h.pop(),pt}};h.stringify=function(n,t,i){var e,h,o,r,s,c,u;if(typeof t=="function"||typeof t=="object"&&t)if((r=f.call(t))==p)h=t;else if(r==nt)for(o={},s=0,c=t.length;s<c;u=t[s++],(r=f.call(u),r==g||r==d)&&(o[u]=1));if(i)if((r=f.call(i))==d){if((i-=i%1)>0)for(e="",i>10&&(i=10);e.length<i;e+=" ");}else r==g&&(e=i.length<=10?i:i.slice(0,10));return it("",(u={},u[""]=n,u),h,o,e,"",[])}}if(!c("json-parse")){var wt=String.fromCharCode,bt={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},i,tt,u=function(){i=tt=null;throw SyntaxError();},v=function(){for(var t=tt,o=t.length,f,e,r,s,n;i<o;){n=t.charCodeAt(i);switch(n){case 9:case 10:case 13:case 32:i++;break;case 123:case 125:case 91:case 93:case 58:case 44:return f=w?t.charAt(i):t[i],i++,f;case 34:for(f="@",i++;i<o;)if(n=t.charCodeAt(i),n<32)u();else if(n==92){n=t.charCodeAt(++i);switch(n){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:f+=bt[n];i++;break;case 117:for(e=++i,r=i+4;i<r;i++)n=t.charCodeAt(i),n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70||u();f+=wt("0x"+t.slice(e,i));break;default:u()}}else{if(n==34)break;for(n=t.charCodeAt(i),e=i;n>=32&&n!=92&&n!=34;)n=t.charCodeAt(++i);f+=t.slice(e,i)}if(t.charCodeAt(i)==34)return i++,f;u();default:if(e=i,n==45&&(s=!0,n=t.charCodeAt(++i)),n>=48&&n<=57){for(n==48&&(n=t.charCodeAt(i+1),n>=48&&n<=57)&&u(),s=!1;i<o&&(n=t.charCodeAt(i),n>=48&&n<=57);i++);if(t.charCodeAt(i)==46){for(r=++i;r<o&&(n=t.charCodeAt(r),n>=48&&n<=57);r++);r==i&&u();i=r}if(n=t.charCodeAt(i),n==101||n==69){for(n=t.charCodeAt(++i),(n==43||n==45)&&i++,r=i;r<o&&(n=t.charCodeAt(r),n>=48&&n<=57);r++);r==i&&u();i=r}return+t.slice(e,i)}if(s&&u(),t.slice(i,i+4)=="true")return i+=4,!0;if(t.slice(i,i+5)=="false")return i+=5,!1;if(t.slice(i,i+4)=="null")return i+=4,null;u()}}return"$"},rt=function(n){var t,i;if(n=="$"&&u(),typeof n=="string"){if((w?n.charAt(0):n[0])=="@")return n.slice(1);if(n=="["){for(t=[];;i||(i=!0)){if(n=v(),n=="]")break;i&&(n==","?(n=v(),n=="]"&&u()):u());n==","&&u();t.push(rt(n))}return t}if(n=="{"){for(t={};;i||(i=!0)){if(n=v(),n=="}")break;i&&(n==","?(n=v(),n=="}"&&u()):u());(n==","||typeof n!="string"||(w?n.charAt(0):n[0])!="@"||v()!=":")&&u();t[n.slice(1)]=rt(v())}return t}u()}return n},ot=function(n,t,i){var r=st(n,t,i);r===s?delete n[t]:n[t]=r},st=function(n,t,i){var r=n[t],u;if(typeof r=="object"&&r)if(f.call(r)==nt)for(u=r.length;u--;)ot(r,u,i);else y(r,function(n){ot(r,n,i)});return i.call(n,t,r)};h.parse=function(n,t){var r,e;return i=0,tt=""+n,r=rt(v()),v()!="$"&&u(),i=tt=null,t&&f.call(t)==p?st((e={},e[""]=r,e),"",t):r}}}ht&&n(function(){return h})})(this)},{}],50:[function(n,t){function i(n,t){var r=[],i;for(t=t||0,i=t||0;i<n.length;i++)r[i-t]=n[i];return r}t.exports=i},{}]},{},[1])(1)})